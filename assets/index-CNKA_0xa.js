(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function uw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rd={exports:{}},Ka={},Cd={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function cw(){if(Tg)return Ue;Tg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=I&&$[I]||$["@@iterator"],typeof $=="function"?$:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function j($,Z,we){this.props=$,this.context=Z,this.refs=z,this.updater=we||A}j.prototype.isReactComponent={},j.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function D(){}D.prototype=j.prototype;function G($,Z,we){this.props=$,this.context=Z,this.refs=z,this.updater=we||A}var Y=G.prototype=new D;Y.constructor=G,N(Y,j.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,F=Object.prototype.hasOwnProperty,se={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T($,Z,we){var Le,De={},Be=null,Je=null;if(Z!=null)for(Le in Z.ref!==void 0&&(Je=Z.ref),Z.key!==void 0&&(Be=""+Z.key),Z)F.call(Z,Le)&&!C.hasOwnProperty(Le)&&(De[Le]=Z[Le]);var Ze=arguments.length-2;if(Ze===1)De.children=we;else if(1<Ze){for(var Me=Array(Ze),pt=0;pt<Ze;pt++)Me[pt]=arguments[pt+2];De.children=Me}if($&&$.defaultProps)for(Le in Ze=$.defaultProps,Ze)De[Le]===void 0&&(De[Le]=Ze[Le]);return{$$typeof:n,type:$,key:Be,ref:Je,props:De,_owner:se.current}}function R($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function b($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function V($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(we){return Z[we]})}var B=/\/+/g;function k($,Z){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):Z.toString(36)}function ht($,Z,we,Le,De){var Be=typeof $;(Be==="undefined"||Be==="boolean")&&($=null);var Je=!1;if($===null)Je=!0;else switch(Be){case"string":case"number":Je=!0;break;case"object":switch($.$$typeof){case n:case e:Je=!0}}if(Je)return Je=$,De=De(Je),$=Le===""?"."+k(Je,0):Le,ee(De)?(we="",$!=null&&(we=$.replace(B,"$&/")+"/"),ht(De,Z,we,"",function(pt){return pt})):De!=null&&(b(De)&&(De=R(De,we+(!De.key||Je&&Je.key===De.key?"":(""+De.key).replace(B,"$&/")+"/")+$)),Z.push(De)),1;if(Je=0,Le=Le===""?".":Le+":",ee($))for(var Ze=0;Ze<$.length;Ze++){Be=$[Ze];var Me=Le+k(Be,Ze);Je+=ht(Be,Z,we,Me,De)}else if(Me=S($),typeof Me=="function")for($=Me.call($),Ze=0;!(Be=$.next()).done;)Be=Be.value,Me=Le+k(Be,Ze++),Je+=ht(Be,Z,we,Me,De);else if(Be==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Je}function ze($,Z,we){if($==null)return $;var Le=[],De=0;return ht($,Le,"","",function(Be){return Z.call(we,Be,De++)}),Le}function _t($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(we){($._status===0||$._status===-1)&&($._status=1,$._result=we)},function(we){($._status===0||$._status===-1)&&($._status=2,$._result=we)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var je={current:null},ae={transition:null},Te={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ae,ReactCurrentOwner:se};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ze,forEach:function($,Z,we){ze($,function(){Z.apply(this,arguments)},we)},count:function($){var Z=0;return ze($,function(){Z++}),Z},toArray:function($){return ze($,function(Z){return Z})||[]},only:function($){if(!b($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ue.Component=j,Ue.Fragment=t,Ue.Profiler=o,Ue.PureComponent=G,Ue.StrictMode=i,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ue.act=de,Ue.cloneElement=function($,Z,we){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Le=N({},$.props),De=$.key,Be=$.ref,Je=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Be=Z.ref,Je=se.current),Z.key!==void 0&&(De=""+Z.key),$.type&&$.type.defaultProps)var Ze=$.type.defaultProps;for(Me in Z)F.call(Z,Me)&&!C.hasOwnProperty(Me)&&(Le[Me]=Z[Me]===void 0&&Ze!==void 0?Ze[Me]:Z[Me])}var Me=arguments.length-2;if(Me===1)Le.children=we;else if(1<Me){Ze=Array(Me);for(var pt=0;pt<Me;pt++)Ze[pt]=arguments[pt+2];Le.children=Ze}return{$$typeof:n,type:$.type,key:De,ref:Be,props:Le,_owner:Je}},Ue.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},Ue.createElement=T,Ue.createFactory=function($){var Z=T.bind(null,$);return Z.type=$,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function($){return{$$typeof:d,render:$}},Ue.isValidElement=b,Ue.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:_t}},Ue.memo=function($,Z){return{$$typeof:y,type:$,compare:Z===void 0?null:Z}},Ue.startTransition=function($){var Z=ae.transition;ae.transition={};try{$()}finally{ae.transition=Z}},Ue.unstable_act=de,Ue.useCallback=function($,Z){return je.current.useCallback($,Z)},Ue.useContext=function($){return je.current.useContext($)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function($){return je.current.useDeferredValue($)},Ue.useEffect=function($,Z){return je.current.useEffect($,Z)},Ue.useId=function(){return je.current.useId()},Ue.useImperativeHandle=function($,Z,we){return je.current.useImperativeHandle($,Z,we)},Ue.useInsertionEffect=function($,Z){return je.current.useInsertionEffect($,Z)},Ue.useLayoutEffect=function($,Z){return je.current.useLayoutEffect($,Z)},Ue.useMemo=function($,Z){return je.current.useMemo($,Z)},Ue.useReducer=function($,Z,we){return je.current.useReducer($,Z,we)},Ue.useRef=function($){return je.current.useRef($)},Ue.useState=function($){return je.current.useState($)},Ue.useSyncExternalStore=function($,Z,we){return je.current.useSyncExternalStore($,Z,we)},Ue.useTransition=function(){return je.current.useTransition()},Ue.version="18.3.1",Ue}var Ig;function Rf(){return Ig||(Ig=1,Cd.exports=cw()),Cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function hw(){if(Sg)return Ka;Sg=1;var n=Rf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,I={},S=null,A=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(A=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(I[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)I[_]===void 0&&(I[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:A,props:I,_owner:o.current}}return Ka.Fragment=t,Ka.jsx=c,Ka.jsxs=c,Ka}var xg;function dw(){return xg||(xg=1,Rd.exports=hw()),Rd.exports}var x=dw(),M=Rf();const it=uw(M);var Hu={},Pd={exports:{}},Nn={},Ad={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function fw(){return Rg||(Rg=1,function(n){function e(ae,Te){var de=ae.length;ae.push(Te);e:for(;0<de;){var $=de-1>>>1,Z=ae[$];if(0<o(Z,Te))ae[$]=Te,ae[de]=Z,de=$;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Te=ae[0],de=ae.pop();if(de!==Te){ae[0]=de;e:for(var $=0,Z=ae.length,we=Z>>>1;$<we;){var Le=2*($+1)-1,De=ae[Le],Be=Le+1,Je=ae[Be];if(0>o(De,de))Be<Z&&0>o(Je,De)?(ae[$]=Je,ae[Be]=de,$=Be):(ae[$]=De,ae[Le]=de,$=Le);else if(Be<Z&&0>o(Je,de))ae[$]=Je,ae[Be]=de,$=Be;else break e}}return Te}function o(ae,Te){var de=ae.sortIndex-Te.sortIndex;return de!==0?de:ae.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,I=null,S=3,A=!1,N=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ae){for(var Te=t(y);Te!==null;){if(Te.callback===null)i(y);else if(Te.startTime<=ae)i(y),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(y)}}function ee(ae){if(z=!1,Y(ae),!N)if(t(p)!==null)N=!0,_t(F);else{var Te=t(y);Te!==null&&je(ee,Te.startTime-ae)}}function F(ae,Te){N=!1,z&&(z=!1,D(T),T=-1),A=!0;var de=S;try{for(Y(Te),I=t(p);I!==null&&(!(I.expirationTime>Te)||ae&&!V());){var $=I.callback;if(typeof $=="function"){I.callback=null,S=I.priorityLevel;var Z=$(I.expirationTime<=Te);Te=n.unstable_now(),typeof Z=="function"?I.callback=Z:I===t(p)&&i(p),Y(Te)}else i(p);I=t(p)}if(I!==null)var we=!0;else{var Le=t(y);Le!==null&&je(ee,Le.startTime-Te),we=!1}return we}finally{I=null,S=de,A=!1}}var se=!1,C=null,T=-1,R=5,b=-1;function V(){return!(n.unstable_now()-b<R)}function B(){if(C!==null){var ae=n.unstable_now();b=ae;var Te=!0;try{Te=C(!0,ae)}finally{Te?k():(se=!1,C=null)}}else se=!1}var k;if(typeof G=="function")k=function(){G(B)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ze=ht.port2;ht.port1.onmessage=B,k=function(){ze.postMessage(null)}}else k=function(){j(B,0)};function _t(ae){C=ae,se||(se=!0,k())}function je(ae,Te){T=j(function(){ae(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,_t(F))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var Te=3;break;default:Te=S}var de=S;S=Te;try{return ae()}finally{S=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=S;S=ae;try{return Te()}finally{S=de}},n.unstable_scheduleCallback=function(ae,Te,de){var $=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?$+de:$):de=$,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=de+Z,ae={id:_++,callback:Te,priorityLevel:ae,startTime:de,expirationTime:Z,sortIndex:-1},de>$?(ae.sortIndex=de,e(y,ae),t(p)===null&&ae===t(y)&&(z?(D(T),T=-1):z=!0,je(ee,de-$))):(ae.sortIndex=Z,e(p,ae),N||A||(N=!0,_t(F))),ae},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ae){var Te=S;return function(){var de=S;S=Te;try{return ae.apply(this,arguments)}finally{S=de}}}}(kd)),kd}var Cg;function pw(){return Cg||(Cg=1,Ad.exports=fw()),Ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function mw(){if(Pg)return Nn;Pg=1;var n=Rf(),e=pw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},I={};function S(r){return p.call(I,r)?!0:p.call(_,r)?!1:y.test(r)?I[r]=!0:(_[r]=!0,!1)}function A(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,a,h){if(s===null||typeof s>"u"||A(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(D,G);j[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(D,G);j[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(D,G);j[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,a,h){var f=j.hasOwnProperty(s)?j[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,f,h)&&(a=null),h||f===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),se=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,$;function Z(r){if($===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var we=!1;function Le(r,s){if(!r||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){h=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}r()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var f=Q.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,P=g.length-1;1<=w&&0<=P&&f[w]!==g[P];)P--;for(;1<=w&&0<=P;w--,P--)if(f[w]!==g[P]){if(w!==1||P!==1)do if(w--,P--,0>P||f[w]!==g[P]){var L=`
`+f[w].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=w&&0<=P);break}}}finally{we=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Z(r):""}function De(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case se:return"Portal";case R:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case _t:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function Je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pt(r){var s=Me(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wn(r){r._valueTracker||(r._valueTracker=pt(r))}function Ri(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Me(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function rn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Yr(r,s){var a=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ci(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pi(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function Ss(r,s){Pi(r,s);var a=Ze(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ai(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ai(r,s.type,Ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function lo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ai(r,s,a){(s!=="number"||rn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var tr=Array.isArray;function Kt(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ze(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function nr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Xr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(tr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ze(a)}}function xr(r,s){var a=Ze(s.value),h=Ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Tn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var On,xs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=On.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Gt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cr=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(r){Cr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Rr[s]=Rr[r]})});function ki(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Rr.hasOwnProperty(r)&&Rr[r]?(""+s).trim():s+"px"}function Rs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ki(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var bi=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(r,s){if(s){if(bi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ni(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=null;function Di(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jr=null,In=null,Mn=null;function ir(r){if(r=Na(r)){if(typeof Jr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=su(s),Jr(r.stateNode,r.type,s))}}function mn(r){In?Mn?Mn.push(r):Mn=[r]:In=r}function Cs(){if(In){var r=In,s=Mn;if(Mn=In=null,ir(r),s)for(r=0;r<s.length;r++)ir(s[r])}}function Zr(r,s){return r(s)}function O(){}var H=!1;function X(r,s,a){if(H)return r(s,a);H=!0;try{return Zr(r,s,a)}finally{H=!1,(In!==null||Mn!==null)&&(O(),Cs())}}function te(r,s){var a=r.stateNode;if(a===null)return null;var h=su(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var fe=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Re(r,s,a,h,f,g,w,P,L){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(ie){this.onError(ie)}}var pe=!1,_e=null,ue=!1,ke=null,Ve={onError:function(r){pe=!0,_e=r}};function st(r,s,a,h,f,g,w,P,L){pe=!1,_e=null,Re.apply(Ve,arguments)}function Ct(r,s,a,h,f,g,w,P,L){if(st.apply(this,arguments),pe){if(pe){var Q=_e;pe=!1,_e=null}else throw Error(t(198));ue||(ue=!0,ke=Q)}}function He(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function et(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ot(r){if(He(r)!==r)throw Error(t(188))}function sr(r){var s=r.alternate;if(!s){if(s=He(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ot(f),r;if(g===h)return ot(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,P=f.child;P;){if(P===a){w=!0,a=f,h=g;break}if(P===h){w=!0,h=f,a=g;break}P=P.sibling}if(!w){for(P=g.child;P;){if(P===a){w=!0,a=g,h=f;break}if(P===h){w=!0,h=g,a=f;break}P=P.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function or(r){return r=sr(r),r!==null?sn(r):null}function sn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=sn(r);if(s!==null)return s;r=r.sibling}return null}var Qt=e.unstable_scheduleCallback,ei=e.unstable_cancelCallback,Ar=e.unstable_shouldYield,ar=e.unstable_requestPaint,at=e.unstable_now,ti=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,Yt=e.unstable_NormalPriority,lr=e.unstable_LowPriority,gt=e.unstable_IdlePriority,Sn=null,on=null;function uo(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Sn,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Vl,ga=Math.log,Ml=Math.LN2;function Vl(r){return r>>>=0,r===0?32:31-(ga(r)/Ml|0)|0}var co=64,ho=4194304;function Li(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ps(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var P=w&~f;P!==0?h=Li(P):(g&=w,g!==0&&(h=Li(g)))}else w=a&~f,w!==0?h=Li(w):g!==0&&(h=Li(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-gn(s),f=1<<a,h|=r[a],s&=~f;return h}function nh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-gn(g),P=1<<w,L=f[w];L===-1?(!(P&a)||P&h)&&(f[w]=nh(P,s)):L<=s&&(r.expiredLanes|=P),g&=~P}}function Vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function As(){var r=co;return co<<=1,!(co&4194240)&&(co=64),r}function Oi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Mi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-gn(s),r[s]=a}function dt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-gn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Vi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-gn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var We=0;function Fi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Fl,fo,jl,Ul,zl,ya=!1,kr=[],Xt=null,ur=null,cr=null,ji=new Map,qn=new Map,br=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(r,s){switch(r){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ji.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(s.pointerId)}}function xn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Na(s),s!==null&&fo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ih(r,s,a,h,f){switch(s){case"focusin":return Xt=xn(Xt,r,s,a,h,f),!0;case"dragenter":return ur=xn(ur,r,s,a,h,f),!0;case"mouseover":return cr=xn(cr,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return ji.set(g,xn(ji.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,qn.set(g,xn(qn.get(g)||null,r,s,a,h,f)),!0}return!1}function $l(r){var s=Ls(r.target);if(s!==null){var a=He(s);if(a!==null){if(s=a.tag,s===13){if(s=et(a),s!==null){r.blockedOn=s,zl(r.priority,function(){jl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ri(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);rr=h,a.target.dispatchEvent(h),rr=null}else return s=Na(a),s!==null&&fo(s),r.blockedOn=a,!1;s.shift()}return!0}function ks(r,s,a){ri(r)&&a.delete(s)}function Hl(){ya=!1,Xt!==null&&ri(Xt)&&(Xt=null),ur!==null&&ri(ur)&&(ur=null),cr!==null&&ri(cr)&&(cr=null),ji.forEach(ks),qn.forEach(ks)}function hr(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function dr(r){function s(f){return hr(f,r)}if(0<kr.length){hr(kr[0],r);for(var a=1;a<kr.length;a++){var h=kr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Xt!==null&&hr(Xt,r),ur!==null&&hr(ur,r),cr!==null&&hr(cr,r),ji.forEach(s),qn.forEach(s),a=0;a<br.length;a++)h=br[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<br.length&&(a=br[0],a.blockedOn===null);)$l(a),a.blockedOn===null&&br.shift()}var ii=ee.ReactCurrentBatchConfig,Ui=!0;function wt(r,s,a,h){var f=We,g=ii.transition;ii.transition=null;try{We=1,va(r,s,a,h)}finally{We=f,ii.transition=g}}function sh(r,s,a,h){var f=We,g=ii.transition;ii.transition=null;try{We=4,va(r,s,a,h)}finally{We=f,ii.transition=g}}function va(r,s,a,h){if(Ui){var f=po(r,s,a,h);if(f===null)gh(r,s,h,bs,a),Bl(r,h);else if(ih(f,r,s,a,h))h.stopPropagation();else if(Bl(r,h),s&4&&-1<rh.indexOf(r)){for(;f!==null;){var g=Na(f);if(g!==null&&Fl(g),g=po(r,s,a,h),g===null&&gh(r,s,h,bs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else gh(r,s,h,null,a)}}var bs=null;function po(r,s,a,h){if(bs=null,r=Di(h),r=Ls(r),r!==null)if(s=He(r),s===null)r=null;else if(a=s.tag,a===13){if(r=et(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return bs=r,null}function _a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case Ke:return 1;case mt:return 4;case Yt:case lr:return 16;case gt:return 536870912;default:return 16}default:return 16}}var Fn=null,mo=null,Rn=null;function wa(){if(Rn)return Rn;var r,s=mo,a=s.length,h,f="value"in Fn?Fn.value:Fn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return Rn=f.slice(r,1<h?1-h:void 0)}function go(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function Ea(){return!1}function Jt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(a=r[P],this[P]=a?a(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Nr:Ea,this.isPropagationStopped=Ea,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Jt(fr),Dr=de({},fr,{view:0,detail:0}),oh=Jt(Dr),vo,si,zi,Ns=de({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zi&&(zi&&r.type==="mousemove"?(vo=r.screenX-zi.screenX,si=r.screenY-zi.screenY):si=vo=0,zi=r),vo)},movementY:function(r){return"movementY"in r?r.movementY:si}}),_o=Jt(Ns),Ta=de({},Ns,{dataTransfer:0}),Wl=Jt(Ta),wo=de({},Dr,{relatedTarget:0}),Eo=Jt(wo),ql=de({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),oi=Jt(ql),Kl=de({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gl=Jt(Kl),Ql=de({},fr,{data:0}),Ia=Jt(Ql),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yl[r])?!!s[r]:!1}function Lr(){return Xl}var u=de({},Dr,{key:function(r){if(r.key){var s=To[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Jt(u),v=de({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Jt(v),W=de({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),J=Jt(W),ce=de({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Jt(ce),Mt=de({},Ns,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Jt(Mt),zt=[9,13,27,32],Nt=d&&"CompositionEvent"in window,Kn=null;d&&"documentMode"in document&&(Kn=document.documentMode);var jn=d&&"TextEvent"in window&&!Kn,Ds=d&&(!Nt||Kn&&8<Kn&&11>=Kn),Io=" ",gp=!1;function yp(r,s){switch(r){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var So=!1;function a1(r,s){switch(r){case"compositionend":return vp(s);case"keypress":return s.which!==32?null:(gp=!0,Io);case"textInput":return r=s.data,r===Io&&gp?null:r;default:return null}}function l1(r,s){if(So)return r==="compositionend"||!Nt&&yp(r,s)?(r=wa(),Rn=mo=Fn=null,So=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ds&&s.locale!=="ko"?null:s.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!u1[r.type]:s==="textarea"}function wp(r,s,a,h){mn(h),s=nu(s,"onChange"),0<s.length&&(a=new yo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Sa=null,xa=null;function c1(r){Fp(r,0)}function Jl(r){var s=Ao(r);if(Ri(s))return r}function h1(r,s){if(r==="change")return s}var Ep=!1;if(d){var ah;if(d){var lh="oninput"in document;if(!lh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),lh=typeof Tp.oninput=="function"}ah=lh}else ah=!1;Ep=ah&&(!document.documentMode||9<document.documentMode)}function Ip(){Sa&&(Sa.detachEvent("onpropertychange",Sp),xa=Sa=null)}function Sp(r){if(r.propertyName==="value"&&Jl(xa)){var s=[];wp(s,xa,r,Di(r)),X(c1,s)}}function d1(r,s,a){r==="focusin"?(Ip(),Sa=s,xa=a,Sa.attachEvent("onpropertychange",Sp)):r==="focusout"&&Ip()}function f1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jl(xa)}function p1(r,s){if(r==="click")return Jl(s)}function m1(r,s){if(r==="input"||r==="change")return Jl(s)}function g1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:g1;function Ra(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!pr(r[f],s[f]))return!1}return!0}function xp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rp(r,s){var a=xp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xp(a)}}function Cp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Cp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pp(){for(var r=window,s=rn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=rn(r.document)}return s}function uh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function y1(r){var s=Pp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Cp(a.ownerDocument.documentElement,a)){if(h!==null&&uh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Rp(a,g);var w=Rp(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v1=d&&"documentMode"in document&&11>=document.documentMode,xo=null,ch=null,Ca=null,hh=!1;function Ap(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hh||xo==null||xo!==rn(h)||(h=xo,"selectionStart"in h&&uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ca&&Ra(Ca,h)||(Ca=h,h=nu(ch,"onSelect"),0<h.length&&(s=new yo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=xo)))}function Zl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ro={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},dh={},kp={};d&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function eu(r){if(dh[r])return dh[r];if(!Ro[r])return r;var s=Ro[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in kp)return dh[r]=s[a];return r}var bp=eu("animationend"),Np=eu("animationiteration"),Dp=eu("animationstart"),Lp=eu("transitionend"),Op=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(r,s){Op.set(r,s),l(s,[r])}for(var fh=0;fh<Mp.length;fh++){var ph=Mp[fh],_1=ph.toLowerCase(),w1=ph[0].toUpperCase()+ph.slice(1);Bi(_1,"on"+w1)}Bi(bp,"onAnimationEnd"),Bi(Np,"onAnimationIteration"),Bi(Dp,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Lp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Vp(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ct(h,s,void 0,r),r.currentTarget=null}function Fp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var P=h[w],L=P.instance,Q=P.currentTarget;if(P=P.listener,L!==g&&f.isPropagationStopped())break e;Vp(f,P,Q),g=L}else for(w=0;w<h.length;w++){if(P=h[w],L=P.instance,Q=P.currentTarget,P=P.listener,L!==g&&f.isPropagationStopped())break e;Vp(f,P,Q),g=L}}}if(ue)throw r=ke,ue=!1,ke=null,r}function yt(r,s){var a=s[Th];a===void 0&&(a=s[Th]=new Set);var h=r+"__bubble";a.has(h)||(jp(s,r,2,!1),a.add(h))}function mh(r,s,a){var h=0;s&&(h|=4),jp(a,r,h,s)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Aa(r){if(!r[tu]){r[tu]=!0,i.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||mh(a,!1,r),mh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[tu]||(s[tu]=!0,mh("selectionchange",!1,s))}}function jp(r,s,a,h){switch(_a(s)){case 1:var f=wt;break;case 4:f=sh;break;default:f=va}a=f.bind(null,s,a,r),f=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function gh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var P=h.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;w=w.return}for(;P!==null;){if(w=Ls(P),w===null)return;if(L=w.tag,L===5||L===6){h=g=w;continue e}P=P.parentNode}}h=h.return}X(function(){var Q=g,ie=Di(a),oe=[];e:{var re=Op.get(r);if(re!==void 0){var me=yo,Ee=r;switch(r){case"keypress":if(go(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Ee="focus",me=Eo;break;case"focusout":Ee="blur",me=Eo;break;case"beforeblur":case"afterblur":me=Eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case bp:case Np:case Dp:me=oi;break;case Lp:me=ct;break;case"scroll":me=oh;break;case"wheel":me=Ge;break;case"copy":case"cut":case"paste":me=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=E}var Ie=(s&4)!==0,At=!Ie&&r==="scroll",q=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var U=Q,K;U!==null;){K=U;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,q!==null&&(le=te(U,q),le!=null&&Ie.push(ka(U,le,K)))),At)break;U=U.return}0<Ie.length&&(re=new me(re,Ee,null,a,ie),oe.push({event:re,listeners:Ie}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",re&&a!==rr&&(Ee=a.relatedTarget||a.fromElement)&&(Ls(Ee)||Ee[ai]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(Ee=a.relatedTarget||a.toElement,me=Q,Ee=Ee?Ls(Ee):null,Ee!==null&&(At=He(Ee),Ee!==At||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=Q),me!==Ee)){if(Ie=_o,le="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=E,le="onPointerLeave",q="onPointerEnter",U="pointer"),At=me==null?re:Ao(me),K=Ee==null?re:Ao(Ee),re=new Ie(le,U+"leave",me,a,ie),re.target=At,re.relatedTarget=K,le=null,Ls(ie)===Q&&(Ie=new Ie(q,U+"enter",Ee,a,ie),Ie.target=K,Ie.relatedTarget=At,le=Ie),At=le,me&&Ee)t:{for(Ie=me,q=Ee,U=0,K=Ie;K;K=Co(K))U++;for(K=0,le=q;le;le=Co(le))K++;for(;0<U-K;)Ie=Co(Ie),U--;for(;0<K-U;)q=Co(q),K--;for(;U--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=Co(Ie),q=Co(q)}Ie=null}else Ie=null;me!==null&&Up(oe,re,me,Ie,!1),Ee!==null&&At!==null&&Up(oe,At,Ee,Ie,!0)}}e:{if(re=Q?Ao(Q):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Se=h1;else if(_p(re))if(Ep)Se=m1;else{Se=f1;var Ce=d1}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Se=p1);if(Se&&(Se=Se(r,Q))){wp(oe,Se,a,ie);break e}Ce&&Ce(r,re,Q),r==="focusout"&&(Ce=re._wrapperState)&&Ce.controlled&&re.type==="number"&&Ai(re,"number",re.value)}switch(Ce=Q?Ao(Q):window,r){case"focusin":(_p(Ce)||Ce.contentEditable==="true")&&(xo=Ce,ch=Q,Ca=null);break;case"focusout":Ca=ch=xo=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Ap(oe,a,ie);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":Ap(oe,a,ie)}var Pe;if(Nt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else So?yp(r,a)&&(Ne="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ds&&a.locale!=="ko"&&(So||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&So&&(Pe=wa()):(Fn=ie,mo="value"in Fn?Fn.value:Fn.textContent,So=!0)),Ce=nu(Q,Ne),0<Ce.length&&(Ne=new Ia(Ne,r,null,a,ie),oe.push({event:Ne,listeners:Ce}),Pe?Ne.data=Pe:(Pe=vp(a),Pe!==null&&(Ne.data=Pe)))),(Pe=jn?a1(r,a):l1(r,a))&&(Q=nu(Q,"onBeforeInput"),0<Q.length&&(ie=new Ia("onBeforeInput","beforeinput",null,a,ie),oe.push({event:ie,listeners:Q}),ie.data=Pe))}Fp(oe,s)})}function ka(r,s,a){return{instance:r,listener:s,currentTarget:a}}function nu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=te(r,a),g!=null&&h.unshift(ka(r,g,f)),g=te(r,s),g!=null&&h.push(ka(r,g,f))),r=r.return}return h}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Up(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var P=a,L=P.alternate,Q=P.stateNode;if(L!==null&&L===h)break;P.tag===5&&Q!==null&&(P=Q,f?(L=te(a,g),L!=null&&w.unshift(ka(a,L,P))):f||(L=te(a,g),L!=null&&w.push(ka(a,L,P)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var T1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function zp(r){return(typeof r=="string"?r:""+r).replace(T1,`
`).replace(I1,"")}function ru(r,s,a){if(s=zp(s),zp(r)!==s&&a)throw Error(t(425))}function iu(){}var yh=null,vh=null;function _h(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(r){return Bp.resolve(null).then(r).catch(R1)}:wh;function R1(r){setTimeout(function(){throw r})}function Eh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),dr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);dr(s)}function $i(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function $p(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Or="__reactFiber$"+Po,ba="__reactProps$"+Po,ai="__reactContainer$"+Po,Th="__reactEvents$"+Po,C1="__reactListeners$"+Po,P1="__reactHandles$"+Po;function Ls(r){var s=r[Or];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ai]||a[Or]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=$p(r);r!==null;){if(a=r[Or])return a;r=$p(r)}return s}r=a,a=r.parentNode}return null}function Na(r){return r=r[Or]||r[ai],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function su(r){return r[ba]||null}var Ih=[],ko=-1;function Hi(r){return{current:r}}function vt(r){0>ko||(r.current=Ih[ko],Ih[ko]=null,ko--)}function ft(r,s){ko++,Ih[ko]=r.current,r.current=s}var Wi={},an=Hi(Wi),Cn=Hi(!1),Os=Wi;function bo(r,s){var a=r.type.contextTypes;if(!a)return Wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Pn(r){return r=r.childContextTypes,r!=null}function ou(){vt(Cn),vt(an)}function Hp(r,s,a){if(an.current!==Wi)throw Error(t(168));ft(an,s),ft(Cn,a)}function Wp(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Je(r)||"Unknown",f));return de({},a,h)}function au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wi,Os=an.current,ft(an,r),ft(Cn,Cn.current),!0}function qp(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Wp(r,s,Os),h.__reactInternalMemoizedMergedChildContext=r,vt(Cn),vt(an),ft(an,r)):vt(Cn),ft(Cn,a)}var li=null,lu=!1,Sh=!1;function Kp(r){li===null?li=[r]:li.push(r)}function A1(r){lu=!0,Kp(r)}function qi(){if(!Sh&&li!==null){Sh=!0;var r=0,s=We;try{var a=li;for(We=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}li=null,lu=!1}catch(f){throw li!==null&&(li=li.slice(r+1)),Qt(Ke,qi),f}finally{We=s,Sh=!1}}return null}var No=[],Do=0,uu=null,cu=0,Gn=[],Qn=0,Ms=null,ui=1,ci="";function Vs(r,s){No[Do++]=cu,No[Do++]=uu,uu=r,cu=s}function Gp(r,s,a){Gn[Qn++]=ui,Gn[Qn++]=ci,Gn[Qn++]=Ms,Ms=r;var h=ui;r=ci;var f=32-gn(h)-1;h&=~(1<<f),a+=1;var g=32-gn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,ui=1<<32-gn(s)+f|a<<f|h,ci=g+r}else ui=1<<g|a<<f|h,ci=r}function xh(r){r.return!==null&&(Vs(r,1),Gp(r,1,0))}function Rh(r){for(;r===uu;)uu=No[--Do],No[Do]=null,cu=No[--Do],No[Do]=null;for(;r===Ms;)Ms=Gn[--Qn],Gn[Qn]=null,ci=Gn[--Qn],Gn[Qn]=null,ui=Gn[--Qn],Gn[Qn]=null}var Un=null,zn=null,Et=!1,mr=null;function Qp(r,s){var a=Zn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Yp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Un=r,zn=$i(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Un=r,zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ms!==null?{id:ui,overflow:ci}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Zn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Un=r,zn=null,!0):!1;default:return!1}}function Ch(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ph(r){if(Et){var s=zn;if(s){var a=s;if(!Yp(r,s)){if(Ch(r))throw Error(t(418));s=$i(a.nextSibling);var h=Un;s&&Yp(r,s)?Qp(h,a):(r.flags=r.flags&-4097|2,Et=!1,Un=r)}}else{if(Ch(r))throw Error(t(418));r.flags=r.flags&-4097|2,Et=!1,Un=r}}}function Xp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Un=r}function hu(r){if(r!==Un)return!1;if(!Et)return Xp(r),Et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!_h(r.type,r.memoizedProps)),s&&(s=zn)){if(Ch(r))throw Jp(),Error(t(418));for(;s;)Qp(r,s),s=$i(s.nextSibling)}if(Xp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){zn=$i(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}zn=null}}else zn=Un?$i(r.stateNode.nextSibling):null;return!0}function Jp(){for(var r=zn;r;)r=$i(r.nextSibling)}function Lo(){zn=Un=null,Et=!1}function Ah(r){mr===null?mr=[r]:mr.push(r)}var k1=ee.ReactCurrentBatchConfig;function Da(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var P=f.refs;w===null?delete P[g]:P[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function du(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Zp(r){var s=r._init;return s(r._payload)}function em(r){function s(q,U){if(r){var K=q.deletions;K===null?(q.deletions=[U],q.flags|=16):K.push(U)}}function a(q,U){if(!r)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function f(q,U){return q=es(q,U),q.index=0,q.sibling=null,q}function g(q,U,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<U?(q.flags|=2,U):K):(q.flags|=2,U)):(q.flags|=1048576,U)}function w(q){return r&&q.alternate===null&&(q.flags|=2),q}function P(q,U,K,le){return U===null||U.tag!==6?(U=wd(K,q.mode,le),U.return=q,U):(U=f(U,K),U.return=q,U)}function L(q,U,K,le){var Se=K.type;return Se===C?ie(q,U,K.props.children,le,K.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===_t&&Zp(Se)===U.type)?(le=f(U,K.props),le.ref=Da(q,U,K),le.return=q,le):(le=Mu(K.type,K.key,K.props,null,q.mode,le),le.ref=Da(q,U,K),le.return=q,le)}function Q(q,U,K,le){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Ed(K,q.mode,le),U.return=q,U):(U=f(U,K.children||[]),U.return=q,U)}function ie(q,U,K,le,Se){return U===null||U.tag!==7?(U=Ws(K,q.mode,le,Se),U.return=q,U):(U=f(U,K),U.return=q,U)}function oe(q,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=wd(""+U,q.mode,K),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return K=Mu(U.type,U.key,U.props,null,q.mode,K),K.ref=Da(q,null,U),K.return=q,K;case se:return U=Ed(U,q.mode,K),U.return=q,U;case _t:var le=U._init;return oe(q,le(U._payload),K)}if(tr(U)||Te(U))return U=Ws(U,q.mode,K,null),U.return=q,U;du(q,U)}return null}function re(q,U,K,le){var Se=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Se!==null?null:P(q,U,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return K.key===Se?L(q,U,K,le):null;case se:return K.key===Se?Q(q,U,K,le):null;case _t:return Se=K._init,re(q,U,Se(K._payload),le)}if(tr(K)||Te(K))return Se!==null?null:ie(q,U,K,le,null);du(q,K)}return null}function me(q,U,K,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(K)||null,P(U,q,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case F:return q=q.get(le.key===null?K:le.key)||null,L(U,q,le,Se);case se:return q=q.get(le.key===null?K:le.key)||null,Q(U,q,le,Se);case _t:var Ce=le._init;return me(q,U,K,Ce(le._payload),Se)}if(tr(le)||Te(le))return q=q.get(K)||null,ie(U,q,le,Se,null);du(U,le)}return null}function Ee(q,U,K,le){for(var Se=null,Ce=null,Pe=U,Ne=U=0,Ht=null;Pe!==null&&Ne<K.length;Ne++){Pe.index>Ne?(Ht=Pe,Pe=null):Ht=Pe.sibling;var rt=re(q,Pe,K[Ne],le);if(rt===null){Pe===null&&(Pe=Ht);break}r&&Pe&&rt.alternate===null&&s(q,Pe),U=g(rt,U,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt,Pe=Ht}if(Ne===K.length)return a(q,Pe),Et&&Vs(q,Ne),Se;if(Pe===null){for(;Ne<K.length;Ne++)Pe=oe(q,K[Ne],le),Pe!==null&&(U=g(Pe,U,Ne),Ce===null?Se=Pe:Ce.sibling=Pe,Ce=Pe);return Et&&Vs(q,Ne),Se}for(Pe=h(q,Pe);Ne<K.length;Ne++)Ht=me(Pe,q,Ne,K[Ne],le),Ht!==null&&(r&&Ht.alternate!==null&&Pe.delete(Ht.key===null?Ne:Ht.key),U=g(Ht,U,Ne),Ce===null?Se=Ht:Ce.sibling=Ht,Ce=Ht);return r&&Pe.forEach(function(ts){return s(q,ts)}),Et&&Vs(q,Ne),Se}function Ie(q,U,K,le){var Se=Te(K);if(typeof Se!="function")throw Error(t(150));if(K=Se.call(K),K==null)throw Error(t(151));for(var Ce=Se=null,Pe=U,Ne=U=0,Ht=null,rt=K.next();Pe!==null&&!rt.done;Ne++,rt=K.next()){Pe.index>Ne?(Ht=Pe,Pe=null):Ht=Pe.sibling;var ts=re(q,Pe,rt.value,le);if(ts===null){Pe===null&&(Pe=Ht);break}r&&Pe&&ts.alternate===null&&s(q,Pe),U=g(ts,U,Ne),Ce===null?Se=ts:Ce.sibling=ts,Ce=ts,Pe=Ht}if(rt.done)return a(q,Pe),Et&&Vs(q,Ne),Se;if(Pe===null){for(;!rt.done;Ne++,rt=K.next())rt=oe(q,rt.value,le),rt!==null&&(U=g(rt,U,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt);return Et&&Vs(q,Ne),Se}for(Pe=h(q,Pe);!rt.done;Ne++,rt=K.next())rt=me(Pe,q,Ne,rt.value,le),rt!==null&&(r&&rt.alternate!==null&&Pe.delete(rt.key===null?Ne:rt.key),U=g(rt,U,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt);return r&&Pe.forEach(function(lw){return s(q,lw)}),Et&&Vs(q,Ne),Se}function At(q,U,K,le){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case F:e:{for(var Se=K.key,Ce=U;Ce!==null;){if(Ce.key===Se){if(Se=K.type,Se===C){if(Ce.tag===7){a(q,Ce.sibling),U=f(Ce,K.props.children),U.return=q,q=U;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===_t&&Zp(Se)===Ce.type){a(q,Ce.sibling),U=f(Ce,K.props),U.ref=Da(q,Ce,K),U.return=q,q=U;break e}a(q,Ce);break}else s(q,Ce);Ce=Ce.sibling}K.type===C?(U=Ws(K.props.children,q.mode,le,K.key),U.return=q,q=U):(le=Mu(K.type,K.key,K.props,null,q.mode,le),le.ref=Da(q,U,K),le.return=q,q=le)}return w(q);case se:e:{for(Ce=K.key;U!==null;){if(U.key===Ce)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){a(q,U.sibling),U=f(U,K.children||[]),U.return=q,q=U;break e}else{a(q,U);break}else s(q,U);U=U.sibling}U=Ed(K,q.mode,le),U.return=q,q=U}return w(q);case _t:return Ce=K._init,At(q,U,Ce(K._payload),le)}if(tr(K))return Ee(q,U,K,le);if(Te(K))return Ie(q,U,K,le);du(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(a(q,U.sibling),U=f(U,K),U.return=q,q=U):(a(q,U),U=wd(K,q.mode,le),U.return=q,q=U),w(q)):a(q,U)}return At}var Oo=em(!0),tm=em(!1),fu=Hi(null),pu=null,Mo=null,kh=null;function bh(){kh=Mo=pu=null}function Nh(r){var s=fu.current;vt(fu),r._currentValue=s}function Dh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Vo(r,s){pu=r,kh=Mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(An=!0),r.firstContext=null)}function Yn(r){var s=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:s,next:null},Mo===null){if(pu===null)throw Error(t(308));Mo=r,pu.dependencies={lanes:0,firstContext:r}}else Mo=Mo.next=r;return s}var Fs=null;function Lh(r){Fs===null?Fs=[r]:Fs.push(r)}function nm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,Lh(s)):(a.next=f.next,f.next=a),s.interleaved=a,hi(r,h)}function hi(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ki=!1;function Oh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function di(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Gi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,tt&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,hi(r,a)}return f=h.interleaved,f===null?(s.next=s,Lh(h)):(s.next=f.next,f.next=s),h.interleaved=s,hi(r,a)}function mu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Vi(r,a)}}function im(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function gu(r,s,a,h){var f=r.updateQueue;Ki=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var L=P,Q=L.next;L.next=null,w===null?g=Q:w.next=Q,w=L;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,P=ie.lastBaseUpdate,P!==w&&(P===null?ie.firstBaseUpdate=Q:P.next=Q,ie.lastBaseUpdate=L))}if(g!==null){var oe=f.baseState;w=0,ie=Q=L=null,P=g;do{var re=P.lane,me=P.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Ee=r,Ie=P;switch(re=s,me=a,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){oe=Ee.call(me,oe,re);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,re=typeof Ee=="function"?Ee.call(me,oe,re):Ee,re==null)break e;oe=de({},oe,re);break e;case 2:Ki=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,re=f.effects,re===null?f.effects=[P]:re.push(P))}else me={eventTime:me,lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ie===null?(Q=ie=me,L=oe):ie=ie.next=me,w|=re;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;re=P,P=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);if(ie===null&&(L=oe),f.baseState=L,f.firstBaseUpdate=Q,f.lastBaseUpdate=ie,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);zs|=w,r.lanes=w,r.memoizedState=oe}}function sm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var La={},Mr=Hi(La),Oa=Hi(La),Ma=Hi(La);function js(r){if(r===La)throw Error(t(174));return r}function Mh(r,s){switch(ft(Ma,s),ft(Oa,r),ft(Mr,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Rt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Rt(s,r)}vt(Mr),ft(Mr,s)}function Fo(){vt(Mr),vt(Oa),vt(Ma)}function om(r){js(Ma.current);var s=js(Mr.current),a=Rt(s,r.type);s!==a&&(ft(Oa,r),ft(Mr,a))}function Vh(r){Oa.current===r&&(vt(Mr),vt(Oa))}var It=Hi(0);function yu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fh=[];function jh(){for(var r=0;r<Fh.length;r++)Fh[r]._workInProgressVersionPrimary=null;Fh.length=0}var vu=ee.ReactCurrentDispatcher,Uh=ee.ReactCurrentBatchConfig,Us=0,St=null,Vt=null,Bt=null,_u=!1,Va=!1,Fa=0,b1=0;function ln(){throw Error(t(321))}function zh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!pr(r[a],s[a]))return!1;return!0}function Bh(r,s,a,h,f,g){if(Us=g,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vu.current=r===null||r.memoizedState===null?O1:M1,r=a(h,f),Va){g=0;do{if(Va=!1,Fa=0,25<=g)throw Error(t(301));g+=1,Bt=Vt=null,s.updateQueue=null,vu.current=V1,r=a(h,f)}while(Va)}if(vu.current=Tu,s=Vt!==null&&Vt.next!==null,Us=0,Bt=Vt=St=null,_u=!1,s)throw Error(t(300));return r}function $h(){var r=Fa!==0;return Fa=0,r}function Vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?St.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Xn(){if(Vt===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=Bt===null?St.memoizedState:Bt.next;if(s!==null)Bt=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Bt===null?St.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function ja(r,s){return typeof s=="function"?s(r):s}function Hh(r){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Vt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var P=w=null,L=null,Q=g;do{var ie=Q.lane;if((Us&ie)===ie)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:r(h,Q.action);else{var oe={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(P=L=oe,w=h):L=L.next=oe,St.lanes|=ie,zs|=ie}Q=Q.next}while(Q!==null&&Q!==g);L===null?w=h:L.next=P,pr(h,s.memoizedState)||(An=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=L,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,St.lanes|=g,zs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Wh(r){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);pr(g,s.memoizedState)||(An=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function am(){}function lm(r,s){var a=St,h=Xn(),f=s(),g=!pr(h.memoizedState,f);if(g&&(h.memoizedState=f,An=!0),h=h.queue,qh(hm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,Ua(9,cm.bind(null,a,h,f,s),void 0,null),$t===null)throw Error(t(349));Us&30||um(a,s,f)}return f}function um(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function cm(r,s,a,h){s.value=a,s.getSnapshot=h,dm(s)&&fm(r)}function hm(r,s,a){return a(function(){dm(s)&&fm(r)})}function dm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!pr(r,a)}catch{return!0}}function fm(r){var s=hi(r,1);s!==null&&_r(s,r,1,-1)}function pm(r){var s=Vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},s.queue=r,r=r.dispatch=L1.bind(null,St,r),[s.memoizedState,r]}function Ua(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function mm(){return Xn().memoizedState}function wu(r,s,a,h){var f=Vr();St.flags|=r,f.memoizedState=Ua(1|s,a,void 0,h===void 0?null:h)}function Eu(r,s,a,h){var f=Xn();h=h===void 0?null:h;var g=void 0;if(Vt!==null){var w=Vt.memoizedState;if(g=w.destroy,h!==null&&zh(h,w.deps)){f.memoizedState=Ua(s,a,g,h);return}}St.flags|=r,f.memoizedState=Ua(1|s,a,g,h)}function gm(r,s){return wu(8390656,8,r,s)}function qh(r,s){return Eu(2048,8,r,s)}function ym(r,s){return Eu(4,2,r,s)}function vm(r,s){return Eu(4,4,r,s)}function _m(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function wm(r,s,a){return a=a!=null?a.concat([r]):null,Eu(4,4,_m.bind(null,s,r),a)}function Kh(){}function Em(r,s){var a=Xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&zh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Tm(r,s){var a=Xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&zh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Im(r,s,a){return Us&21?(pr(a,s)||(a=As(),St.lanes|=a,zs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,An=!0),r.memoizedState=a)}function N1(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var h=Uh.transition;Uh.transition={};try{r(!1),s()}finally{We=a,Uh.transition=h}}function Sm(){return Xn().memoizedState}function D1(r,s,a){var h=Ji(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},xm(r))Rm(s,a);else if(a=nm(r,s,a,h),a!==null){var f=_n();_r(a,r,h,f),Cm(a,s,h)}}function L1(r,s,a){var h=Ji(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(xm(r))Rm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,P=g(w,a);if(f.hasEagerState=!0,f.eagerState=P,pr(P,w)){var L=s.interleaved;L===null?(f.next=f,Lh(s)):(f.next=L.next,L.next=f),s.interleaved=f;return}}catch{}finally{}a=nm(r,s,f,h),a!==null&&(f=_n(),_r(a,r,h,f),Cm(a,s,h))}}function xm(r){var s=r.alternate;return r===St||s!==null&&s===St}function Rm(r,s){Va=_u=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Cm(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Vi(r,a)}}var Tu={readContext:Yn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},O1={readContext:Yn,useCallback:function(r,s){return Vr().memoizedState=[r,s===void 0?null:s],r},useContext:Yn,useEffect:gm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,wu(4194308,4,_m.bind(null,s,r),a)},useLayoutEffect:function(r,s){return wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return wu(4,2,r,s)},useMemo:function(r,s){var a=Vr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Vr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=D1.bind(null,St,r),[h.memoizedState,r]},useRef:function(r){var s=Vr();return r={current:r},s.memoizedState=r},useState:pm,useDebugValue:Kh,useDeferredValue:function(r){return Vr().memoizedState=r},useTransition:function(){var r=pm(!1),s=r[0];return r=N1.bind(null,r[1]),Vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=St,f=Vr();if(Et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),$t===null)throw Error(t(349));Us&30||um(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,gm(hm.bind(null,h,g,r),[r]),h.flags|=2048,Ua(9,cm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Vr(),s=$t.identifierPrefix;if(Et){var a=ci,h=ui;a=(h&~(1<<32-gn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Fa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=b1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},M1={readContext:Yn,useCallback:Em,useContext:Yn,useEffect:qh,useImperativeHandle:wm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:Tm,useReducer:Hh,useRef:mm,useState:function(){return Hh(ja)},useDebugValue:Kh,useDeferredValue:function(r){var s=Xn();return Im(s,Vt.memoizedState,r)},useTransition:function(){var r=Hh(ja)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:am,useSyncExternalStore:lm,useId:Sm,unstable_isNewReconciler:!1},V1={readContext:Yn,useCallback:Em,useContext:Yn,useEffect:qh,useImperativeHandle:wm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:Tm,useReducer:Wh,useRef:mm,useState:function(){return Wh(ja)},useDebugValue:Kh,useDeferredValue:function(r){var s=Xn();return Vt===null?s.memoizedState=r:Im(s,Vt.memoizedState,r)},useTransition:function(){var r=Wh(ja)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:am,useSyncExternalStore:lm,useId:Sm,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Gh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:de({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Iu={isMounted:function(r){return(r=r._reactInternals)?He(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=_n(),f=Ji(r),g=di(h,f);g.payload=s,a!=null&&(g.callback=a),s=Gi(r,g,f),s!==null&&(_r(s,r,f,h),mu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=_n(),f=Ji(r),g=di(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Gi(r,g,f),s!==null&&(_r(s,r,f,h),mu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_n(),h=Ji(r),f=di(a,h);f.tag=2,s!=null&&(f.callback=s),s=Gi(r,f,h),s!==null&&(_r(s,r,h,a),mu(s,r,h))}};function Pm(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ra(a,h)||!Ra(f,g):!0}function Am(r,s,a){var h=!1,f=Wi,g=s.contextType;return typeof g=="object"&&g!==null?g=Yn(g):(f=Pn(s)?Os:an.current,h=s.contextTypes,g=(h=h!=null)?bo(r,f):Wi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Iu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function km(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Iu.enqueueReplaceState(s,s.state,null)}function Qh(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Oh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Yn(g):(g=Pn(s)?Os:an.current,f.context=bo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Gh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Iu.enqueueReplaceState(f,f.state,null),gu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function jo(r,s){try{var a="",h=s;do a+=De(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Yh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Xh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var F1=typeof WeakMap=="function"?WeakMap:Map;function bm(r,s,a){a=di(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){ku||(ku=!0,dd=h),Xh(r,s)},a}function Nm(r,s,a){a=di(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Xh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Xh(r,s),typeof h!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Dm(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new F1;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=J1.bind(null,r,s,a),s.then(r,r))}function Lm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Om(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=di(-1,1),s.tag=2,Gi(a,s,1))),a.lanes|=1),r)}var j1=ee.ReactCurrentOwner,An=!1;function vn(r,s,a,h){s.child=r===null?tm(s,null,a,h):Oo(s,r.child,a,h)}function Mm(r,s,a,h,f){a=a.render;var g=s.ref;return Vo(s,f),h=Bh(r,s,a,h,g,f),a=$h(),r!==null&&!An?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,fi(r,s,f)):(Et&&a&&xh(s),s.flags|=1,vn(r,s,h,f),s.child)}function Vm(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!_d(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Fm(r,s,g,h,f)):(r=Mu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ra,a(w,h)&&r.ref===s.ref)return fi(r,s,f)}return s.flags|=1,r=es(g,h),r.ref=s.ref,r.return=s,s.child=r}function Fm(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Ra(g,h)&&r.ref===s.ref)if(An=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(An=!0);else return s.lanes=r.lanes,fi(r,s,f)}return Jh(r,s,a,h,f)}function jm(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(zo,Bn),Bn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ft(zo,Bn),Bn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,ft(zo,Bn),Bn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,ft(zo,Bn),Bn|=h;return vn(r,s,f,a),s.child}function Um(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Jh(r,s,a,h,f){var g=Pn(a)?Os:an.current;return g=bo(s,g),Vo(s,f),a=Bh(r,s,a,h,g,f),h=$h(),r!==null&&!An?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,fi(r,s,f)):(Et&&h&&xh(s),s.flags|=1,vn(r,s,a,f),s.child)}function zm(r,s,a,h,f){if(Pn(a)){var g=!0;au(s)}else g=!1;if(Vo(s,f),s.stateNode===null)xu(r,s),Am(s,a,h),Qh(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var L=w.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=Yn(Q):(Q=Pn(a)?Os:an.current,Q=bo(s,Q));var ie=a.getDerivedStateFromProps,oe=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==h||L!==Q)&&km(s,w,h,Q),Ki=!1;var re=s.memoizedState;w.state=re,gu(s,h,w,f),L=s.memoizedState,P!==h||re!==L||Cn.current||Ki?(typeof ie=="function"&&(Gh(s,a,ie,h),L=s.memoizedState),(P=Ki||Pm(s,a,P,h,re,L,Q))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),w.props=h,w.state=L,w.context=Q,h=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,rm(r,s),P=s.memoizedProps,Q=s.type===s.elementType?P:gr(s.type,P),w.props=Q,oe=s.pendingProps,re=w.context,L=a.contextType,typeof L=="object"&&L!==null?L=Yn(L):(L=Pn(a)?Os:an.current,L=bo(s,L));var me=a.getDerivedStateFromProps;(ie=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==oe||re!==L)&&km(s,w,h,L),Ki=!1,re=s.memoizedState,w.state=re,gu(s,h,w,f);var Ee=s.memoizedState;P!==oe||re!==Ee||Cn.current||Ki?(typeof me=="function"&&(Gh(s,a,me,h),Ee=s.memoizedState),(Q=Ki||Pm(s,a,Q,h,re,Ee,L)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ee,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ee,L)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ee),w.props=h,w.state=Ee,w.context=L,h=Q):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return Zh(r,s,a,h,g,f)}function Zh(r,s,a,h,f,g){Um(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&qp(s,a,!1),fi(r,s,g);h=s.stateNode,j1.current=s;var P=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Oo(s,r.child,null,g),s.child=Oo(s,null,P,g)):vn(r,s,P,g),s.memoizedState=h.state,f&&qp(s,a,!0),s.child}function Bm(r){var s=r.stateNode;s.pendingContext?Hp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Hp(r,s.context,!1),Mh(r,s.containerInfo)}function $m(r,s,a,h,f){return Lo(),Ah(f),s.flags|=256,vn(r,s,a,h),s.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(r){return{baseLanes:r,cachePool:null,transitions:null}}function Hm(r,s,a){var h=s.pendingProps,f=It.current,g=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ft(It,f&1),r===null)return Ph(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Vu(w,h,0,null),r=Ws(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=td(a),s.memoizedState=ed,r):nd(s,w));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return U1(r,s,w,h,P,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,P=f.sibling;var L={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=es(f,L),h.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=es(P,g):(g=Ws(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?td(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=ed,h}return g=r.child,r=g.sibling,h=es(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function nd(r,s){return s=Vu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Su(r,s,a,h){return h!==null&&Ah(h),Oo(s,r.child,null,a),r=nd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function U1(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Yh(Error(t(422))),Su(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Vu({mode:"visible",children:h.children},f,0,null),g=Ws(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Oo(s,r.child,null,w),s.child.memoizedState=td(w),s.memoizedState=ed,g);if(!(s.mode&1))return Su(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var P=h.dgst;return h=P,g=Error(t(419)),h=Yh(g,h,void 0),Su(r,s,w,h)}if(P=(w&r.childLanes)!==0,An||P){if(h=$t,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,hi(r,f),_r(h,r,f,-1))}return vd(),h=Yh(Error(t(421))),Su(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Z1.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,zn=$i(f.nextSibling),Un=s,Et=!0,mr=null,r!==null&&(Gn[Qn++]=ui,Gn[Qn++]=ci,Gn[Qn++]=Ms,ui=r.id,ci=r.overflow,Ms=s),s=nd(s,h.children),s.flags|=4096,s)}function Wm(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Dh(r.return,s,a)}function rd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function qm(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(vn(r,s,h.children,a),h=It.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wm(r,a,s);else if(r.tag===19)Wm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(ft(It,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&yu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),rd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&yu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}rd(s,!0,a,null,g);break;case"together":rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function fi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),zs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=es(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=es(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function z1(r,s,a){switch(s.tag){case 3:Bm(s),Lo();break;case 5:om(s);break;case 1:Pn(s.type)&&au(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;ft(fu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(ft(It,It.current&1),s.flags|=128,null):a&s.child.childLanes?Hm(r,s,a):(ft(It,It.current&1),r=fi(r,s,a),r!==null?r.sibling:null);ft(It,It.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return qm(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ft(It,It.current),h)break;return null;case 22:case 23:return s.lanes=0,jm(r,s,a)}return fi(r,s,a)}var Km,id,Gm,Qm;Km=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},id=function(){},Gm=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,js(Mr.current);var g=null;switch(a){case"input":f=Yr(r,f),h=Yr(r,h),g=[];break;case"select":f=de({},f,{value:void 0}),h=de({},h,{value:void 0}),g=[];break;case"textarea":f=nr(r,f),h=nr(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=iu)}Pr(a,h);var w;a=null;for(Q in f)if(!h.hasOwnProperty(Q)&&f.hasOwnProperty(Q)&&f[Q]!=null)if(Q==="style"){var P=f[Q];for(w in P)P.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in h){var L=h[Q];if(P=f!=null?f[Q]:void 0,h.hasOwnProperty(Q)&&L!==P&&(L!=null||P!=null))if(Q==="style")if(P){for(w in P)!P.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in L)L.hasOwnProperty(w)&&P[w]!==L[w]&&(a||(a={}),a[w]=L[w])}else a||(g||(g=[]),g.push(Q,a)),a=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(g=g||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&yt("scroll",r),g||P===L||(g=[])):(g=g||[]).push(Q,L))}a&&(g=g||[]).push("style",a);var Q=g;(s.updateQueue=Q)&&(s.flags|=4)}},Qm=function(r,s,a,h){a!==h&&(s.flags|=4)};function za(r,s){if(!Et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function un(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function B1(r,s,a){var h=s.pendingProps;switch(Rh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(s),null;case 1:return Pn(s.type)&&ou(),un(s),null;case 3:return h=s.stateNode,Fo(),vt(Cn),vt(an),jh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(hu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,mr!==null&&(md(mr),mr=null))),id(r,s),un(s),null;case 5:Vh(s);var f=js(Ma.current);if(a=s.type,r!==null&&s.stateNode!=null)Gm(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return un(s),null}if(r=js(Mr.current),hu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Or]=s,h[ba]=g,r=(s.mode&1)!==0,a){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(f=0;f<Pa.length;f++)yt(Pa[f],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":Ci(h,g),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},yt("invalid",h);break;case"textarea":Xr(h,g),yt("invalid",h)}Pr(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var P=g[w];w==="children"?typeof P=="string"?h.textContent!==P&&(g.suppressHydrationWarning!==!0&&ru(h.textContent,P,r),f=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&ru(h.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&yt("scroll",h)}switch(a){case"input":Wn(h),lo(h,g,!0);break;case"textarea":Wn(h),Tn(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=iu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[Or]=s,r[ba]=h,Km(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ni(a,h),a){case"dialog":yt("cancel",r),yt("close",r),f=h;break;case"iframe":case"object":case"embed":yt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Pa.length;f++)yt(Pa[f],r);f=h;break;case"source":yt("error",r),f=h;break;case"img":case"image":case"link":yt("error",r),yt("load",r),f=h;break;case"details":yt("toggle",r),f=h;break;case"input":Ci(r,h),f=Yr(r,h),yt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=de({},h,{value:void 0}),yt("invalid",r);break;case"textarea":Xr(r,h),f=nr(r,h),yt("invalid",r);break;default:f=h}Pr(a,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var L=P[g];g==="style"?Rs(r,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&xs(r,L)):g==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&Gt(r,L):typeof L=="number"&&Gt(r,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&yt("scroll",r):L!=null&&Y(r,g,L,w))}switch(a){case"input":Wn(r),lo(r,h,!1);break;case"textarea":Wn(r),Tn(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ze(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Kt(r,!!h.multiple,g,!1):h.defaultValue!=null&&Kt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=iu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return un(s),null;case 6:if(r&&s.stateNode!=null)Qm(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=js(Ma.current),js(Mr.current),hu(s)){if(h=s.stateNode,a=s.memoizedProps,h[Or]=s,(g=h.nodeValue!==a)&&(r=Un,r!==null))switch(r.tag){case 3:ru(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ru(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Or]=s,s.stateNode=h}return un(s),null;case 13:if(vt(It),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Et&&zn!==null&&s.mode&1&&!(s.flags&128))Jp(),Lo(),s.flags|=98560,g=!1;else if(g=hu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Or]=s}else Lo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;un(s),g=!1}else mr!==null&&(md(mr),mr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||It.current&1?Ft===0&&(Ft=3):vd())),s.updateQueue!==null&&(s.flags|=4),un(s),null);case 4:return Fo(),id(r,s),r===null&&Aa(s.stateNode.containerInfo),un(s),null;case 10:return Nh(s.type._context),un(s),null;case 17:return Pn(s.type)&&ou(),un(s),null;case 19:if(vt(It),g=s.memoizedState,g===null)return un(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)za(g,!1);else{if(Ft!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=yu(r),w!==null){for(s.flags|=128,za(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ft(It,It.current&1|2),s.child}r=r.sibling}g.tail!==null&&at()>Bo&&(s.flags|=128,h=!0,za(g,!1),s.lanes=4194304)}else{if(!h)if(r=yu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Et)return un(s),null}else 2*at()-g.renderingStartTime>Bo&&a!==1073741824&&(s.flags|=128,h=!0,za(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=at(),s.sibling=null,a=It.current,ft(It,h?a&1|2:a&1),s):(un(s),null);case 22:case 23:return yd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Bn&1073741824&&(un(s),s.subtreeFlags&6&&(s.flags|=8192)):un(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function $1(r,s){switch(Rh(s),s.tag){case 1:return Pn(s.type)&&ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Fo(),vt(Cn),vt(an),jh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Vh(s),null;case 13:if(vt(It),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Lo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return vt(It),null;case 4:return Fo(),null;case 10:return Nh(s.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var Ru=!1,cn=!1,H1=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Uo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Pt(r,s,h)}else a.current=null}function sd(r,s,a){try{a()}catch(h){Pt(r,s,h)}}var Ym=!1;function W1(r,s){if(yh=Ui,r=Pp(),uh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,P=-1,L=-1,Q=0,ie=0,oe=r,re=null;t:for(;;){for(var me;oe!==a||f!==0&&oe.nodeType!==3||(P=w+f),oe!==g||h!==0&&oe.nodeType!==3||(L=w+h),oe.nodeType===3&&(w+=oe.nodeValue.length),(me=oe.firstChild)!==null;)re=oe,oe=me;for(;;){if(oe===r)break t;if(re===a&&++Q===f&&(P=w),re===g&&++ie===h&&(L=w),(me=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=me}a=P===-1||L===-1?null:{start:P,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(vh={focusedElem:r,selectionRange:a},Ui=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Ee=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,At=Ee.memoizedState,q=s.stateNode,U=q.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:gr(s.type,Ie),At);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){Pt(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Ee=Ym,Ym=!1,Ee}function Ba(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&sd(s,a,g)}f=f.next}while(f!==h)}}function Cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function od(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Xm(r){var s=r.alternate;s!==null&&(r.alternate=null,Xm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Or],delete s[ba],delete s[Th],delete s[C1],delete s[P1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Jm(r){return r.tag===5||r.tag===3||r.tag===4}function Zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ad(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=iu));else if(h!==4&&(r=r.child,r!==null))for(ad(r,s,a),r=r.sibling;r!==null;)ad(r,s,a),r=r.sibling}function ld(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(ld(r,s,a),r=r.sibling;r!==null;)ld(r,s,a),r=r.sibling}var Zt=null,yr=!1;function Qi(r,s,a){for(a=a.child;a!==null;)eg(r,s,a),a=a.sibling}function eg(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 5:cn||Uo(a,s);case 6:var h=Zt,f=yr;Zt=null,Qi(r,s,a),Zt=h,yr=f,Zt!==null&&(yr?(r=Zt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Zt.removeChild(a.stateNode));break;case 18:Zt!==null&&(yr?(r=Zt,a=a.stateNode,r.nodeType===8?Eh(r.parentNode,a):r.nodeType===1&&Eh(r,a),dr(r)):Eh(Zt,a.stateNode));break;case 4:h=Zt,f=yr,Zt=a.stateNode.containerInfo,yr=!0,Qi(r,s,a),Zt=h,yr=f;break;case 0:case 11:case 14:case 15:if(!cn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&sd(a,s,w),f=f.next}while(f!==h)}Qi(r,s,a);break;case 1:if(!cn&&(Uo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(P){Pt(a,s,P)}Qi(r,s,a);break;case 21:Qi(r,s,a);break;case 22:a.mode&1?(cn=(h=cn)||a.memoizedState!==null,Qi(r,s,a),cn=h):Qi(r,s,a);break;default:Qi(r,s,a)}}function tg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new H1),s.forEach(function(h){var f=ew.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function vr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:Zt=P.stateNode,yr=!1;break e;case 3:Zt=P.stateNode.containerInfo,yr=!0;break e;case 4:Zt=P.stateNode.containerInfo,yr=!0;break e}P=P.return}if(Zt===null)throw Error(t(160));eg(g,w,f),Zt=null,yr=!1;var L=f.alternate;L!==null&&(L.return=null),f.return=null}catch(Q){Pt(f,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ng(s,r),s=s.sibling}function ng(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vr(s,r),Fr(r),h&4){try{Ba(3,r,r.return),Cu(3,r)}catch(Ie){Pt(r,r.return,Ie)}try{Ba(5,r,r.return)}catch(Ie){Pt(r,r.return,Ie)}}break;case 1:vr(s,r),Fr(r),h&512&&a!==null&&Uo(a,a.return);break;case 5:if(vr(s,r),Fr(r),h&512&&a!==null&&Uo(a,a.return),r.flags&32){var f=r.stateNode;try{Gt(f,"")}catch(Ie){Pt(r,r.return,Ie)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,P=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&Pi(f,g),Ni(P,w);var Q=Ni(P,g);for(w=0;w<L.length;w+=2){var ie=L[w],oe=L[w+1];ie==="style"?Rs(f,oe):ie==="dangerouslySetInnerHTML"?xs(f,oe):ie==="children"?Gt(f,oe):Y(f,ie,oe,Q)}switch(P){case"input":Ss(f,g);break;case"textarea":xr(f,g);break;case"select":var re=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?Kt(f,!!g.multiple,me,!1):re!==!!g.multiple&&(g.defaultValue!=null?Kt(f,!!g.multiple,g.defaultValue,!0):Kt(f,!!g.multiple,g.multiple?[]:"",!1))}f[ba]=g}catch(Ie){Pt(r,r.return,Ie)}}break;case 6:if(vr(s,r),Fr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ie){Pt(r,r.return,Ie)}}break;case 3:if(vr(s,r),Fr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(s.containerInfo)}catch(Ie){Pt(r,r.return,Ie)}break;case 4:vr(s,r),Fr(r);break;case 13:vr(s,r),Fr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(hd=at())),h&4&&tg(r);break;case 22:if(ie=a!==null&&a.memoizedState!==null,r.mode&1?(cn=(Q=cn)||ie,vr(s,r),cn=Q):vr(s,r),Fr(r),h&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ie&&r.mode&1)for(ve=r,ie=r.child;ie!==null;){for(oe=ve=ie;ve!==null;){switch(re=ve,me=re.child,re.tag){case 0:case 11:case 14:case 15:Ba(4,re,re.return);break;case 1:Uo(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=re,a=re.return;try{s=h,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(Ie){Pt(h,a,Ie)}}break;case 5:Uo(re,re.return);break;case 22:if(re.memoizedState!==null){sg(oe);continue}}me!==null?(me.return=re,ve=me):sg(oe)}ie=ie.sibling}e:for(ie=null,oe=r;;){if(oe.tag===5){if(ie===null){ie=oe;try{f=oe.stateNode,Q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=oe.stateNode,L=oe.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=ki("display",w))}catch(Ie){Pt(r,r.return,Ie)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(Ie){Pt(r,r.return,Ie)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:vr(s,r),Fr(r),h&4&&tg(r);break;case 21:break;default:vr(s,r),Fr(r)}}function Fr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Jm(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Gt(f,""),h.flags&=-33);var g=Zm(r);ld(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,P=Zm(r);ad(r,P,w);break;default:throw Error(t(161))}}catch(L){Pt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function q1(r,s,a){ve=r,rg(r)}function rg(r,s,a){for(var h=(r.mode&1)!==0;ve!==null;){var f=ve,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Ru;if(!w){var P=f.alternate,L=P!==null&&P.memoizedState!==null||cn;P=Ru;var Q=cn;if(Ru=w,(cn=L)&&!Q)for(ve=f;ve!==null;)w=ve,L=w.child,w.tag===22&&w.memoizedState!==null?og(f):L!==null?(L.return=w,ve=L):og(f);for(;g!==null;)ve=g,rg(g),g=g.sibling;ve=f,Ru=P,cn=Q}ig(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ve=g):ig(r)}}function ig(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:cn||Cu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!cn)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:gr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&sm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sm(s,w,a)}break;case 5:var P=s.stateNode;if(a===null&&s.flags&4){a=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&dr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||s.flags&512&&od(s)}catch(re){Pt(s,s.return,re)}}if(s===r){ve=null;break}if(a=s.sibling,a!==null){a.return=s.return,ve=a;break}ve=s.return}}function sg(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ve=a;break}ve=s.return}}function og(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Cu(4,s)}catch(L){Pt(s,a,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(L){Pt(s,f,L)}}var g=s.return;try{od(s)}catch(L){Pt(s,g,L)}break;case 5:var w=s.return;try{od(s)}catch(L){Pt(s,w,L)}}}catch(L){Pt(s,s.return,L)}if(s===r){ve=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ve=P;break}ve=s.return}}var K1=Math.ceil,Pu=ee.ReactCurrentDispatcher,ud=ee.ReactCurrentOwner,Jn=ee.ReactCurrentBatchConfig,tt=0,$t=null,Dt=null,en=0,Bn=0,zo=Hi(0),Ft=0,$a=null,zs=0,Au=0,cd=0,Ha=null,kn=null,hd=0,Bo=1/0,pi=null,ku=!1,dd=null,Yi=null,bu=!1,Xi=null,Nu=0,Wa=0,fd=null,Du=-1,Lu=0;function _n(){return tt&6?at():Du!==-1?Du:Du=at()}function Ji(r){return r.mode&1?tt&2&&en!==0?en&-en:k1.transition!==null?(Lu===0&&(Lu=As()),Lu):(r=We,r!==0||(r=window.event,r=r===void 0?16:_a(r.type)),r):1}function _r(r,s,a,h){if(50<Wa)throw Wa=0,fd=null,Error(t(185));Mi(r,a,h),(!(tt&2)||r!==$t)&&(r===$t&&(!(tt&2)&&(Au|=a),Ft===4&&Zi(r,en)),bn(r,h),a===1&&tt===0&&!(s.mode&1)&&(Bo=at()+500,lu&&qi()))}function bn(r,s){var a=r.callbackNode;ni(r,s);var h=Ps(r,r===$t?en:0);if(h===0)a!==null&&ei(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ei(a),s===1)r.tag===0?A1(lg.bind(null,r)):Kp(lg.bind(null,r)),x1(function(){!(tt&6)&&qi()}),a=null;else{switch(Fi(h)){case 1:a=Ke;break;case 4:a=mt;break;case 16:a=Yt;break;case 536870912:a=gt;break;default:a=Yt}a=gg(a,ag.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ag(r,s){if(Du=-1,Lu=0,tt&6)throw Error(t(327));var a=r.callbackNode;if($o()&&r.callbackNode!==a)return null;var h=Ps(r,r===$t?en:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ou(r,h);else{s=h;var f=tt;tt|=2;var g=cg();($t!==r||en!==s)&&(pi=null,Bo=at()+500,$s(r,s));do try{Y1();break}catch(P){ug(r,P)}while(!0);bh(),Pu.current=g,tt=f,Dt!==null?s=0:($t=null,en=0,s=Ft)}if(s!==0){if(s===2&&(f=Vn(r),f!==0&&(h=f,s=pd(r,f))),s===1)throw a=$a,$s(r,0),Zi(r,h),bn(r,at()),a;if(s===6)Zi(r,h);else{if(f=r.current.alternate,!(h&30)&&!G1(f)&&(s=Ou(r,h),s===2&&(g=Vn(r),g!==0&&(h=g,s=pd(r,g))),s===1))throw a=$a,$s(r,0),Zi(r,h),bn(r,at()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Hs(r,kn,pi);break;case 3:if(Zi(r,h),(h&130023424)===h&&(s=hd+500-at(),10<s)){if(Ps(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){_n(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=wh(Hs.bind(null,r,kn,pi),s);break}Hs(r,kn,pi);break;case 4:if(Zi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-gn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*K1(h/1960))-h,10<h){r.timeoutHandle=wh(Hs.bind(null,r,kn,pi),h);break}Hs(r,kn,pi);break;case 5:Hs(r,kn,pi);break;default:throw Error(t(329))}}}return bn(r,at()),r.callbackNode===a?ag.bind(null,r):null}function pd(r,s){var a=Ha;return r.current.memoizedState.isDehydrated&&($s(r,s).flags|=256),r=Ou(r,s),r!==2&&(s=kn,kn=a,s!==null&&md(s)),r}function md(r){kn===null?kn=r:kn.push.apply(kn,r)}function G1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!pr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(r,s){for(s&=~cd,s&=~Au,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-gn(s),h=1<<a;r[a]=-1,s&=~h}}function lg(r){if(tt&6)throw Error(t(327));$o();var s=Ps(r,0);if(!(s&1))return bn(r,at()),null;var a=Ou(r,s);if(r.tag!==0&&a===2){var h=Vn(r);h!==0&&(s=h,a=pd(r,h))}if(a===1)throw a=$a,$s(r,0),Zi(r,s),bn(r,at()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Hs(r,kn,pi),bn(r,at()),null}function gd(r,s){var a=tt;tt|=1;try{return r(s)}finally{tt=a,tt===0&&(Bo=at()+500,lu&&qi())}}function Bs(r){Xi!==null&&Xi.tag===0&&!(tt&6)&&$o();var s=tt;tt|=1;var a=Jn.transition,h=We;try{if(Jn.transition=null,We=1,r)return r()}finally{We=h,Jn.transition=a,tt=s,!(tt&6)&&qi()}}function yd(){Bn=zo.current,vt(zo)}function $s(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,S1(a)),Dt!==null)for(a=Dt.return;a!==null;){var h=a;switch(Rh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ou();break;case 3:Fo(),vt(Cn),vt(an),jh();break;case 5:Vh(h);break;case 4:Fo();break;case 13:vt(It);break;case 19:vt(It);break;case 10:Nh(h.type._context);break;case 22:case 23:yd()}a=a.return}if($t=r,Dt=r=es(r.current,null),en=Bn=s,Ft=0,$a=null,cd=Au=zs=0,kn=Ha=null,Fs!==null){for(s=0;s<Fs.length;s++)if(a=Fs[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}Fs=null}return r}function ug(r,s){do{var a=Dt;try{if(bh(),vu.current=Tu,_u){for(var h=St.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}_u=!1}if(Us=0,Bt=Vt=St=null,Va=!1,Fa=0,ud.current=null,a===null||a.return===null){Ft=1,$a=s,Dt=null;break}e:{var g=r,w=a.return,P=a,L=s;if(s=en,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,ie=P,oe=ie.tag;if(!(ie.mode&1)&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=Lm(w);if(me!==null){me.flags&=-257,Om(me,w,P,g,s),me.mode&1&&Dm(g,Q,s),s=me,L=Q;var Ee=s.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(L),s.updateQueue=Ie}else Ee.add(L);break e}else{if(!(s&1)){Dm(g,Q,s),vd();break e}L=Error(t(426))}}else if(Et&&P.mode&1){var At=Lm(w);if(At!==null){!(At.flags&65536)&&(At.flags|=256),Om(At,w,P,g,s),Ah(jo(L,P));break e}}g=L=jo(L,P),Ft!==4&&(Ft=2),Ha===null?Ha=[g]:Ha.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=bm(g,L,s);im(g,q);break e;case 1:P=L;var U=g.type,K=g.stateNode;if(!(g.flags&128)&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Yi===null||!Yi.has(K)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=Nm(g,P,s);im(g,le);break e}}g=g.return}while(g!==null)}dg(a)}catch(Se){s=Se,Dt===a&&a!==null&&(Dt=a=a.return);continue}break}while(!0)}function cg(){var r=Pu.current;return Pu.current=Tu,r===null?Tu:r}function vd(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),$t===null||!(zs&268435455)&&!(Au&268435455)||Zi($t,en)}function Ou(r,s){var a=tt;tt|=2;var h=cg();($t!==r||en!==s)&&(pi=null,$s(r,s));do try{Q1();break}catch(f){ug(r,f)}while(!0);if(bh(),tt=a,Pu.current=h,Dt!==null)throw Error(t(261));return $t=null,en=0,Ft}function Q1(){for(;Dt!==null;)hg(Dt)}function Y1(){for(;Dt!==null&&!Ar();)hg(Dt)}function hg(r){var s=mg(r.alternate,r,Bn);r.memoizedProps=r.pendingProps,s===null?dg(r):Dt=s,ud.current=null}function dg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=$1(a,s),a!==null){a.flags&=32767,Dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,Dt=null;return}}else if(a=B1(a,s,Bn),a!==null){Dt=a;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=r}while(s!==null);Ft===0&&(Ft=5)}function Hs(r,s,a){var h=We,f=Jn.transition;try{Jn.transition=null,We=1,X1(r,s,a,h)}finally{Jn.transition=f,We=h}return null}function X1(r,s,a,h){do $o();while(Xi!==null);if(tt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(dt(r,g),r===$t&&(Dt=$t=null,en=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||bu||(bu=!0,gg(Yt,function(){return $o(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Jn.transition,Jn.transition=null;var w=We;We=1;var P=tt;tt|=4,ud.current=null,W1(r,a),ng(a,r),y1(vh),Ui=!!yh,vh=yh=null,r.current=a,q1(a),ar(),tt=P,We=w,Jn.transition=g}else r.current=a;if(bu&&(bu=!1,Xi=r,Nu=f),g=r.pendingLanes,g===0&&(Yi=null),uo(a.stateNode),bn(r,at()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(ku)throw ku=!1,r=dd,dd=null,r;return Nu&1&&r.tag!==0&&$o(),g=r.pendingLanes,g&1?r===fd?Wa++:(Wa=0,fd=r):Wa=0,qi(),null}function $o(){if(Xi!==null){var r=Fi(Nu),s=Jn.transition,a=We;try{if(Jn.transition=null,We=16>r?16:r,Xi===null)var h=!1;else{if(r=Xi,Xi=null,Nu=0,tt&6)throw Error(t(331));var f=tt;for(tt|=4,ve=r.current;ve!==null;){var g=ve,w=g.child;if(ve.flags&16){var P=g.deletions;if(P!==null){for(var L=0;L<P.length;L++){var Q=P[L];for(ve=Q;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ba(8,ie,g)}var oe=ie.child;if(oe!==null)oe.return=ie,ve=oe;else for(;ve!==null;){ie=ve;var re=ie.sibling,me=ie.return;if(Xm(ie),ie===Q){ve=null;break}if(re!==null){re.return=me,ve=re;break}ve=me}}}var Ee=g.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var At=Ie.sibling;Ie.sibling=null,Ie=At}while(Ie!==null)}}ve=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ve=w;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ba(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,ve=q;break e}ve=g.return}}var U=r.current;for(ve=U;ve!==null;){w=ve;var K=w.child;if(w.subtreeFlags&2064&&K!==null)K.return=w,ve=K;else e:for(w=U;ve!==null;){if(P=ve,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Cu(9,P)}}catch(Se){Pt(P,P.return,Se)}if(P===w){ve=null;break e}var le=P.sibling;if(le!==null){le.return=P.return,ve=le;break e}ve=P.return}}if(tt=f,qi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Sn,r)}catch{}h=!0}return h}finally{We=a,Jn.transition=s}}return!1}function fg(r,s,a){s=jo(a,s),s=bm(r,s,1),r=Gi(r,s,1),s=_n(),r!==null&&(Mi(r,1,s),bn(r,s))}function Pt(r,s,a){if(r.tag===3)fg(r,r,a);else for(;s!==null;){if(s.tag===3){fg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Yi===null||!Yi.has(h))){r=jo(a,r),r=Nm(s,r,1),s=Gi(s,r,1),r=_n(),s!==null&&(Mi(s,1,r),bn(s,r));break}}s=s.return}}function J1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=_n(),r.pingedLanes|=r.suspendedLanes&a,$t===r&&(en&a)===a&&(Ft===4||Ft===3&&(en&130023424)===en&&500>at()-hd?$s(r,0):cd|=a),bn(r,s)}function pg(r,s){s===0&&(r.mode&1?(s=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):s=1);var a=_n();r=hi(r,s),r!==null&&(Mi(r,s,a),bn(r,a))}function Z1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),pg(r,a)}function ew(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),pg(r,a)}var mg;mg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Cn.current)An=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return An=!1,z1(r,s,a);An=!!(r.flags&131072)}else An=!1,Et&&s.flags&1048576&&Gp(s,cu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;xu(r,s),r=s.pendingProps;var f=bo(s,an.current);Vo(s,a),f=Bh(null,s,h,r,f,a);var g=$h();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Pn(h)?(g=!0,au(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Oh(s),f.updater=Iu,s.stateNode=f,f._reactInternals=s,Qh(s,h,r,a),s=Zh(null,s,h,!0,g,a)):(s.tag=0,Et&&g&&xh(s),vn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(xu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=nw(h),r=gr(h,r),f){case 0:s=Jh(null,s,h,r,a);break e;case 1:s=zm(null,s,h,r,a);break e;case 11:s=Mm(null,s,h,r,a);break e;case 14:s=Vm(null,s,h,gr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:gr(h,f),Jh(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:gr(h,f),zm(r,s,h,f,a);case 3:e:{if(Bm(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,rm(r,s),gu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=jo(Error(t(423)),s),s=$m(r,s,h,a,f);break e}else if(h!==f){f=jo(Error(t(424)),s),s=$m(r,s,h,a,f);break e}else for(zn=$i(s.stateNode.containerInfo.firstChild),Un=s,Et=!0,mr=null,a=tm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lo(),h===f){s=fi(r,s,a);break e}vn(r,s,h,a)}s=s.child}return s;case 5:return om(s),r===null&&Ph(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,_h(h,f)?w=null:g!==null&&_h(h,g)&&(s.flags|=32),Um(r,s),vn(r,s,w,a),s.child;case 6:return r===null&&Ph(s),null;case 13:return Hm(r,s,a);case 4:return Mh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Oo(s,null,h,a):vn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:gr(h,f),Mm(r,s,h,f,a);case 7:return vn(r,s,s.pendingProps,a),s.child;case 8:return vn(r,s,s.pendingProps.children,a),s.child;case 12:return vn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,ft(fu,h._currentValue),h._currentValue=w,g!==null)if(pr(g.value,w)){if(g.children===f.children&&!Cn.current){s=fi(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){w=g.child;for(var L=P.firstContext;L!==null;){if(L.context===h){if(g.tag===1){L=di(-1,a&-a),L.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),Q.pending=L}}g.lanes|=a,L=g.alternate,L!==null&&(L.lanes|=a),Dh(g.return,a,s),P.lanes|=a;break}L=L.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,P=w.alternate,P!==null&&(P.lanes|=a),Dh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}vn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Vo(s,a),f=Yn(f),h=h(f),s.flags|=1,vn(r,s,h,a),s.child;case 14:return h=s.type,f=gr(h,s.pendingProps),f=gr(h.type,f),Vm(r,s,h,f,a);case 15:return Fm(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:gr(h,f),xu(r,s),s.tag=1,Pn(h)?(r=!0,au(s)):r=!1,Vo(s,a),Am(s,h,f),Qh(s,h,f,a),Zh(null,s,h,!0,r,a);case 19:return qm(r,s,a);case 22:return jm(r,s,a)}throw Error(t(156,s.tag))};function gg(r,s){return Qt(r,s)}function tw(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,a,h){return new tw(r,s,a,h)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function nw(r){if(typeof r=="function")return _d(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===ze)return 14}return 2}function es(r,s){var a=r.alternate;return a===null?(a=Zn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Mu(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")_d(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case C:return Ws(a.children,f,g,s);case T:w=8,f|=8;break;case R:return r=Zn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case k:return r=Zn(13,a,s,f),r.elementType=k,r.lanes=g,r;case ht:return r=Zn(19,a,s,f),r.elementType=ht,r.lanes=g,r;case je:return Vu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case V:w=9;break e;case B:w=11;break e;case ze:w=14;break e;case _t:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Zn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ws(r,s,a,h){return r=Zn(7,r,h,s),r.lanes=a,r}function Vu(r,s,a,h){return r=Zn(22,r,h,s),r.elementType=je,r.lanes=a,r.stateNode={isHidden:!1},r}function wd(r,s,a){return r=Zn(6,r,null,s),r.lanes=a,r}function Ed(r,s,a){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function rw(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Td(r,s,a,h,f,g,w,P,L){return r=new rw(r,s,a,P,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Zn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oh(g),r}function iw(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function yg(r){if(!r)return Wi;r=r._reactInternals;e:{if(He(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Pn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Pn(a))return Wp(r,a,s)}return s}function vg(r,s,a,h,f,g,w,P,L){return r=Td(a,h,!0,r,f,g,w,P,L),r.context=yg(null),a=r.current,h=_n(),f=Ji(a),g=di(h,f),g.callback=s??null,Gi(a,g,f),r.current.lanes=f,Mi(r,f,h),bn(r,h),r}function Fu(r,s,a,h){var f=s.current,g=_n(),w=Ji(f);return a=yg(a),s.context===null?s.context=a:s.pendingContext=a,s=di(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Gi(f,s,w),r!==null&&(_r(r,f,w,g),mu(r,f,w)),w}function ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _g(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Id(r,s){_g(r,s),(r=r.alternate)&&_g(r,s)}var wg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Sd(r){this._internalRoot=r}Uu.prototype.render=Sd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Fu(r,s,null,null)},Uu.prototype.unmount=Sd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Bs(function(){Fu(null,r,null,null)}),s[ai]=null}};function Uu(r){this._internalRoot=r}Uu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ul();r={blockedOn:null,target:r,priority:s};for(var a=0;a<br.length&&s!==0&&s<br[a].priority;a++);br.splice(a,0,r),a===0&&$l(r)}};function xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function sw(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var Q=ju(w);g.call(Q)}}var w=vg(s,h,r,0,null,!1,!1,"",Eg);return r._reactRootContainer=w,r[ai]=w.current,Aa(r.nodeType===8?r.parentNode:r),Bs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var P=h;h=function(){var Q=ju(L);P.call(Q)}}var L=Td(r,0,!1,null,null,!1,!1,"",Eg);return r._reactRootContainer=L,r[ai]=L.current,Aa(r.nodeType===8?r.parentNode:r),Bs(function(){Fu(s,L,a,h)}),L}function Bu(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var P=f;f=function(){var L=ju(w);P.call(L)}}Fu(s,w,r,f)}else w=sw(a,s,r,f,h);return ju(w)}Fl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Li(s.pendingLanes);a!==0&&(Vi(s,a|1),bn(s,at()),!(tt&6)&&(Bo=at()+500,qi()))}break;case 13:Bs(function(){var h=hi(r,1);if(h!==null){var f=_n();_r(h,r,1,f)}}),Id(r,1)}},fo=function(r){if(r.tag===13){var s=hi(r,134217728);if(s!==null){var a=_n();_r(s,r,134217728,a)}Id(r,134217728)}},jl=function(r){if(r.tag===13){var s=Ji(r),a=hi(r,s);if(a!==null){var h=_n();_r(a,r,s,h)}Id(r,s)}},Ul=function(){return We},zl=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},Jr=function(r,s,a){switch(s){case"input":if(Ss(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=su(h);if(!f)throw Error(t(90));Ri(h),Ss(h,f)}}}break;case"textarea":xr(r,a);break;case"select":s=a.value,s!=null&&Kt(r,!!a.multiple,s,!1)}},Zr=gd,O=Bs;var ow={usingClientEntryPoint:!1,Events:[Na,Ao,su,mn,Cs,gd]},qa={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aw={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=or(r),r===null?null:r.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Sn=$u.inject(aw),on=$u}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,Nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(s))throw Error(t(200));return iw(r,s,null,a)},Nn.createRoot=function(r,s){if(!xd(r))throw Error(t(299));var a=!1,h="",f=wg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Td(r,1,!1,null,null,a,!1,h,f),r[ai]=s.current,Aa(r.nodeType===8?r.parentNode:r),new Sd(s)},Nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=or(s),r=r===null?null:r.stateNode,r},Nn.flushSync=function(r){return Bs(r)},Nn.hydrate=function(r,s,a){if(!zu(s))throw Error(t(200));return Bu(null,r,s,!0,a)},Nn.hydrateRoot=function(r,s,a){if(!xd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=wg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=vg(s,null,r,1,a??null,f,!1,g,w),r[ai]=s.current,Aa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Uu(s)},Nn.render=function(r,s,a){if(!zu(s))throw Error(t(200));return Bu(null,r,s,!1,a)},Nn.unmountComponentAtNode=function(r){if(!zu(r))throw Error(t(40));return r._reactRootContainer?(Bs(function(){Bu(null,null,r,!1,function(){r._reactRootContainer=null,r[ai]=null})}),!0):!1},Nn.unstable_batchedUpdates=gd,Nn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!zu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Bu(r,s,a,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Ag;function Tv(){if(Ag)return Pd.exports;Ag=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pd.exports=mw(),Pd.exports}var kg;function gw(){if(kg)return Hu;kg=1;var n=Tv();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var yw=gw();function Iv(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Iv(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ys(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Iv(n))&&(i&&(i+=" "),i+=e);return i}function vw(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}vw(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wl=n=>typeof n=="number"&&!isNaN(n),Zs=n=>typeof n=="string",_i=n=>typeof n=="function",_w=n=>Zs(n)||wl(n),Gd=n=>Zs(n)||_i(n)?n:null,ww=(n,e)=>n===!1||wl(n)&&n>0?n:e,Qd=n=>M.isValidElement(n)||Zs(n)||_i(n)||wl(n);function Ew(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function Tw({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:y,isIn:_,playToast:I}){let S=t?`${n}--${c}`:n,A=t?`${e}--${c}`:e,N=M.useRef(0);return M.useLayoutEffect(()=>{let z=y.current,j=S.split(" "),D=G=>{G.target===y.current&&(I(),z.removeEventListener("animationend",D),z.removeEventListener("animationcancel",D),N.current===0&&G.type!=="animationcancel"&&z.classList.remove(...j))};z.classList.add(...j),z.addEventListener("animationend",D),z.addEventListener("animationcancel",D)},[]),M.useEffect(()=>{let z=y.current,j=()=>{z.removeEventListener("animationend",j),i?Ew(z,p,o):p()};_||(d?j():(N.current=1,z.className+=` ${A}`,z.addEventListener("animationend",j)))},[_]),it.createElement(it.Fragment,null,l)}}function bg(n,e){return{content:Sv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Sv(n,e,t=!1){return M.isValidElement(n)&&!Zs(n.type)?M.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):_i(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Iw({closeToast:n,theme:e,ariaLabel:t="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Sw({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:c,progress:d,rtl:p,isIn:y,theme:_}){let I=o||c&&d===0,S={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(S.transform=`scaleX(${d})`);let A=Ys("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),N=_i(l)?l({rtl:p,type:i,defaultClassName:A}):Ys(A,l),z={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{y&&t()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),it.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:N,style:S,...z}))}var xw=1,xv=()=>`${xw++}`;function Rw(n,e,t){let i=1,o=0,l=[],c=[],d=e,p=new Map,y=new Set,_=G=>(y.add(G),()=>y.delete(G)),I=()=>{c=Array.from(p.values()),y.forEach(G=>G())},S=({containerId:G,toastId:Y,updateId:ee})=>{let F=G?G!==n:n!==1,se=p.has(Y)&&ee==null;return F||se},A=(G,Y)=>{p.forEach(ee=>{var F;(Y==null||Y===ee.props.toastId)&&((F=ee.toggle)==null||F.call(ee,G))})},N=G=>{var Y,ee;(ee=(Y=G.props)==null?void 0:Y.onClose)==null||ee.call(Y,G.removalReason),G.isActive=!1},z=G=>{if(G==null)p.forEach(N);else{let Y=p.get(G);Y&&N(Y)}I()},j=()=>{o-=l.length,l=[]},D=G=>{var Y,ee;let{toastId:F,updateId:se}=G.props,C=se==null;G.staleId&&p.delete(G.staleId),G.isActive=!0,p.set(F,G),I(),t(bg(G,C?"added":"updated")),C&&((ee=(Y=G.props).onOpen)==null||ee.call(Y))};return{id:n,props:d,observe:_,toggle:A,removeToast:z,toasts:p,clearQueue:j,buildToast:(G,Y)=>{if(S(Y))return;let{toastId:ee,updateId:F,data:se,staleId:C,delay:T}=Y,R=F==null;R&&o++;let b={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(Y).filter(([B,k])=>k!=null)),toastId:ee,updateId:F,data:se,isIn:!1,className:Gd(Y.className||d.toastClassName),progressClassName:Gd(Y.progressClassName||d.progressClassName),autoClose:Y.isLoading?!1:ww(Y.autoClose,d.autoClose),closeToast(B){p.get(ee).removalReason=B,z(ee)},deleteToast(){let B=p.get(ee);if(B!=null){if(t(bg(B,"removed")),p.delete(ee),o--,o<0&&(o=0),l.length>0){D(l.shift());return}I()}}};b.closeButton=d.closeButton,Y.closeButton===!1||Qd(Y.closeButton)?b.closeButton=Y.closeButton:Y.closeButton===!0&&(b.closeButton=Qd(d.closeButton)?d.closeButton:!0);let V={content:G,props:b,staleId:C};d.limit&&d.limit>0&&o>d.limit&&R?l.push(V):wl(T)?setTimeout(()=>{D(V)},T):D(V)},setProps(G){d=G},setToggle:(G,Y)=>{let ee=p.get(G);ee&&(ee.toggle=Y)},isToastActive:G=>{var Y;return(Y=p.get(G))==null?void 0:Y.isActive},getSnapshot:()=>c}}var En=new Map,hl=[],Yd=new Set,Cw=n=>Yd.forEach(e=>e(n)),Rv=()=>En.size>0;function Pw(){hl.forEach(n=>Pv(n.content,n.options)),hl=[]}var Aw=(n,{containerId:e})=>{var t;return(t=En.get(e||1))==null?void 0:t.toasts.get(n)};function Cv(n,e){var t;if(e)return!!((t=En.get(e))!=null&&t.isToastActive(n));let i=!1;return En.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function kw(n){if(!Rv()){hl=hl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||_w(n))En.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=En.get(n.containerId);e?e.removeToast(n.id):En.forEach(t=>{t.removeToast(n.id)})}}var bw=(n={})=>{En.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Pv(n,e){Qd(n)&&(Rv()||hl.push({content:n,options:e}),En.forEach(t=>{t.buildToast(n,e)}))}function Nw(n){var e;(e=En.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Av(n,e){En.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Dw(n){let e=n.containerId||1;return{subscribe(t){let i=Rw(e,n,Cw);En.set(e,i);let o=i.observe(t);return Pw(),()=>{o(),En.delete(e)}},setProps(t){var i;(i=En.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=En.get(e))==null?void 0:t.getSnapshot()}}}function Lw(n){return Yd.add(n),()=>{Yd.delete(n)}}function Ow(n){return n&&(Zs(n.toastId)||wl(n.toastId))?n.toastId:xv()}function El(n,e){return Pv(n,e),e.toastId}function Nc(n,e){return{...e,type:e&&e.type||n,toastId:Ow(e)}}function Dc(n){return(e,t)=>El(e,Nc(n,t))}function lt(n,e){return El(n,Nc("default",e))}lt.loading=(n,e)=>El(n,Nc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Mw(n,{pending:e,error:t,success:i},o){let l;e&&(l=Zs(e)?lt.loading(e,o):lt.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,_,I)=>{if(_==null){lt.dismiss(l);return}let S={type:y,...c,...o,data:I},A=Zs(_)?{render:_}:_;return l?lt.update(l,{...S,...A}):lt(A.render,{...S,...A}),I},p=_i(n)?n():n;return p.then(y=>d("success",i,y)).catch(y=>d("error",t,y)),p}lt.promise=Mw;lt.success=Dc("success");lt.info=Dc("info");lt.error=Dc("error");lt.warning=Dc("warning");lt.warn=lt.warning;lt.dark=(n,e)=>El(n,Nc("default",{theme:"dark",...e}));function Vw(n){kw(n)}lt.dismiss=Vw;lt.clearWaitingQueue=bw;lt.isActive=Cv;lt.update=(n,e={})=>{let t=Aw(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:xv()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,El(c,l)}};lt.done=n=>{lt.update(n,{progress:1})};lt.onChange=Lw;lt.play=n=>Av(!0,n);lt.pause=n=>Av(!1,n);function Fw(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=M.useRef(Dw(n)).current;o(n);let l=(e=M.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:_}=y.props;p.has(_)||p.set(_,[]),p.get(_).push(y)}),Array.from(p,y=>d(y[0],y[1]))}return{getToastToRender:c,isToastActive:Cv,count:l==null?void 0:l.length}}function jw(n){let[e,t]=M.useState(!1),[i,o]=M.useState(!1),l=M.useRef(null),c=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:y,onClick:_,closeOnClick:I}=n;Nw({id:n.toastId,containerId:n.containerId,fn:t}),M.useEffect(()=>{if(n.pauseOnFocusLoss)return S(),()=>{A()}},[n.pauseOnFocusLoss]);function S(){document.hasFocus()||D(),window.addEventListener("focus",j),window.addEventListener("blur",D)}function A(){window.removeEventListener("focus",j),window.removeEventListener("blur",D)}function N(C){if(n.draggable===!0||n.draggable===C.pointerType){G();let T=l.current;c.canCloseOnClick=!0,c.canDrag=!0,T.style.transition="none",n.draggableDirection==="x"?(c.start=C.clientX,c.removalDistance=T.offsetWidth*(n.draggablePercent/100)):(c.start=C.clientY,c.removalDistance=T.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(C){let{top:T,bottom:R,left:b,right:V}=l.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=b&&C.clientX<=V&&C.clientY>=T&&C.clientY<=R?D():j()}function j(){t(!0)}function D(){t(!1)}function G(){c.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",F)}function Y(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",F)}function ee(C){let T=l.current;if(c.canDrag&&T){c.didMove=!0,e&&D(),n.draggableDirection==="x"?c.delta=C.clientX-c.start:c.delta=C.clientY-c.start,c.start!==C.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;T.style.transform=`translate3d(${R},0)`,T.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function F(){Y();let C=l.current;if(c.canDrag&&c.didMove&&C){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let se={onPointerDown:N,onPointerUp:z};return d&&p&&(se.onMouseEnter=D,n.stacked||(se.onMouseLeave=j)),I&&(se.onClick=C=>{_&&_(C),c.canCloseOnClick&&y(!0)}),{playToast:j,pauseToast:D,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:se}}var Uw=typeof window<"u"?M.useLayoutEffect:M.useEffect,Lc=({theme:n,type:e,isLoading:t,...i})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function zw(n){return it.createElement(Lc,{...n},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Bw(n){return it.createElement(Lc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function $w(n){return it.createElement(Lc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Hw(n){return it.createElement(Lc,{...n},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ww(){return it.createElement("div",{className:"Toastify__spinner"})}var Xd={info:Bw,warning:zw,success:$w,error:Hw,spinner:Ww},qw=n=>n in Xd;function Kw({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(_i(i)?o=i({...l,isLoading:t}):M.isValidElement(i)?o=M.cloneElement(i,l):t?o=Xd.spinner():qw(e)&&(o=Xd[e](l))),o}var Gw=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=jw(n),{closeButton:c,children:d,autoClose:p,onClick:y,type:_,hideProgressBar:I,closeToast:S,transition:A,position:N,className:z,style:j,progressClassName:D,updateId:G,role:Y,progress:ee,rtl:F,toastId:se,deleteToast:C,isIn:T,isLoading:R,closeOnClick:b,theme:V,ariaLabel:B}=n,k=Ys("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":b}),ht=_i(z)?z({rtl:F,position:N,type:_,defaultClassName:k}):Ys(k,z),ze=Kw(n),_t=!!ee||!p,je={closeToast:S,type:_,theme:V},ae=null;return c===!1||(_i(c)?ae=c(je):M.isValidElement(c)?ae=M.cloneElement(c,je):ae=Iw(je)),it.createElement(A,{isIn:T,done:C,position:N,preventExitTransition:t,nodeRef:i,playToast:l},it.createElement("div",{id:se,tabIndex:0,onClick:y,"data-in":T,className:ht,...o,style:j,ref:i,...T&&{role:Y,"aria-label":B}},ze!=null&&it.createElement("div",{className:Ys("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ze),Sv(d,n,!e),ae,!n.customProgressBar&&it.createElement(Sw,{...G&&!_t?{key:`p-${G}`}:{},rtl:F,theme:V,delay:p,isRunning:e,isIn:T,closeToast:S,hide:I,type:_,className:D,controlledProgress:_t,progress:ee||0})))},Qw=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Yw=Tw(Qw("bounce",!0)),Xw={position:"top-right",transition:Yw,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Jw(n){let e={...Xw,...n},t=n.stacked,[i,o]=M.useState(!0),l=M.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=Fw(e),{className:y,style:_,rtl:I,containerId:S,hotKeys:A}=e;function N(j){let D=Ys("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":I});return _i(y)?y({position:j,rtl:I,defaultClassName:D}):Ys(D,Gd(y))}function z(){t&&(o(!0),lt.play())}return Uw(()=>{var j;if(t){let D=l.current.querySelectorAll('[data-in="true"]'),G=12,Y=(j=e.position)==null?void 0:j.includes("top"),ee=0,F=0;Array.from(D).reverse().forEach((se,C)=>{let T=se;T.classList.add("Toastify__toast--stacked"),C>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=Y?"top":"bot");let R=ee*(i?.2:1)+(i?0:G*C);T.style.setProperty("--y",`${Y?R:R*-1}px`),T.style.setProperty("--g",`${G}`),T.style.setProperty("--s",`${1-(i?F:0)}`),ee+=T.offsetHeight,F+=.025})}},[i,p,t]),M.useEffect(()=>{function j(D){var G;let Y=l.current;A(D)&&((G=Y.querySelector('[tabIndex="0"]'))==null||G.focus(),o(!1),lt.pause()),D.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),lt.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[A]),it.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),lt.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((j,D)=>{let G=D.length?{..._}:{..._,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:N(j),"data-stacked":t,style:G,key:`c-${j}`},D.map(({content:Y,props:ee})=>it.createElement(Gw,{...ee,stacked:t,collapseAll:z,isIn:d(ee.toastId,ee.containerId),key:`t-${ee.key}`},Y)))}))}var Ga={},Ng;function Zw(){if(Ng)return Ga;Ng=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.parse=c,Ga.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,A){const N=new l,z=S.length;if(z<2)return N;const j=(A==null?void 0:A.decode)||_;let D=0;do{const G=S.indexOf("=",D);if(G===-1)break;const Y=S.indexOf(";",D),ee=Y===-1?z:Y;if(G>ee){D=S.lastIndexOf(";",G-1)+1;continue}const F=d(S,D,G),se=p(S,G,F),C=S.slice(F,se);if(N[C]===void 0){let T=d(S,G+1,ee),R=p(S,ee,T);const b=j(S.slice(T,R));N[C]=b}D=ee+1}while(D<z);return N}function d(S,A,N){do{const z=S.charCodeAt(A);if(z!==32&&z!==9)return A}while(++A<N);return N}function p(S,A,N){for(;A>N;){const z=S.charCodeAt(--A);if(z!==32&&z!==9)return A+1}return N}function y(S,A,N){const z=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=z(A);if(!e.test(j))throw new TypeError(`argument val is invalid: ${A}`);let D=S+"="+j;if(!N)return D;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);D+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);D+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);D+="; Path="+N.path}if(N.expires){if(!I(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);D+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(D+="; HttpOnly"),N.secure&&(D+="; Secure"),N.partitioned&&(D+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return D}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return Ga}Zw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dg="popstate";function eE(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ii(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dl("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof l=="string"?l:gs(l))}function i(o,l){qt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return nE(e,t,i,n)}function qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tE(){return Math.random().toString(36).substring(2,10)}function Lg(n,e){return{usr:n.state,key:n.key,idx:e}}function dl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ii(e):e,state:t,key:e&&e.key||i||tE()}}function gs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ii(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function I(){d="POP";let j=_(),D=j==null?null:j-y;y=j,p&&p({action:d,location:z.location,delta:D})}function S(j,D){d="PUSH";let G=dl(z.location,j,D);t(G,j),y=_()+1;let Y=Lg(G,y),ee=z.createHref(G);try{c.pushState(Y,"",ee)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(ee)}l&&p&&p({action:d,location:z.location,delta:1})}function A(j,D){d="REPLACE";let G=dl(z.location,j,D);t(G,j),y=_();let Y=Lg(G,y),ee=z.createHref(G);c.replaceState(Y,"",ee),l&&p&&p({action:d,location:z.location,delta:0})}function N(j){let D=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof j=="string"?j:gs(j);return G=G.replace(/ $/,"%20"),qe(D,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,D)}let z={get action(){return d},get location(){return n(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Dg,I),p=j,()=>{o.removeEventListener(Dg,I),p=null}},createHref(j){return e(o,j)},createURL:N,encodeLocation(j){let D=N(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:A,go(j){return c.go(j)}};return z}var rE=new Set(["lazy","caseSensitive","path","id","index","children"]);function iE(n){return n.index===!0}function hc(n,e,t=[],i={}){return n.map((o,l)=>{let c=[...t,String(l)],d=typeof o.id=="string"?o.id:c.join("-");if(qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),qe(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),iE(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=hc(o.children,e,c,i)),p}})}function is(n,e,t="/"){return Zu(n,e,t,!1)}function Zu(n,e,t,i){let o=typeof e=="string"?Ii(e):e,l=Er(o.pathname||"/",t);if(l==null)return null;let c=kv(n);oE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=yE(l);d=mE(c[p],y,i)}return d}function sE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function kv(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=zr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),kv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:fE(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of bv(l.path))o(l,c,p)}),e}function bv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=bv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function oE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aE=/^:[\w-]+$/,lE=3,uE=2,cE=1,hE=10,dE=-2,Og=n=>n==="*";function fE(n,e){let t=n.split("/"),i=t.length;return t.some(Og)&&(i+=dE),e&&(i+=uE),t.filter(o=>!Og(o)).reduce((o,l)=>o+(aE.test(l)?lE:l===""?cE:hE),i)}function pE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function mE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",I=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!I)return null;Object.assign(o,I.params),c.push({params:o,pathname:zr([l,I.pathname]),pathnameBase:wE(zr([l,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(l=zr([l,I.pathnameBase]))}return c}function dc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=gE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:I},S)=>{if(_==="*"){let N=d[S]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const A=d[S];return I&&!A?y[_]=void 0:y[_]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function gE(n,e=!1,t=!0){qt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function yE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function vE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ii(n):n;return{pathname:t?t.startsWith("/")?t:_E(t,e):e,search:EE(i),hash:TE(o)}}function _E(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function bd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cf(n){let e=Nv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Pf(n,e,t,i=!1){let o;typeof n=="string"?o=Ii(n):(o={...n},qe(!o.pathname||!o.pathname.includes("?"),bd("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),bd("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),bd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let I=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}d=I>=0?e[I]:"/"}let p=vE(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),wE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,fc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Oc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Dv=["POST","PUT","PATCH","DELETE"],IE=new Set(Dv),SE=["GET",...Dv],xE=new Set(SE),RE=new Set([301,302,303,307,308]),CE=new Set([307,308]),Nd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Af=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Lv="remix-router-transitions",Ov=Symbol("ResetLoaderData");function kE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||AE,o={},l=hc(n.routes,i,void 0,o),c,d=n.basename||"/",p=n.dataStrategy||OE,y=n.patchRoutesOnNavigation,_={...n.future},I=null,S=new Set,A=null,N=null,z=null,j=n.hydrationData!=null,D=is(l,n.history.location,d),G=null;if(D==null&&!y){let O=er(404,{pathname:n.history.location.pathname}),{matches:H,route:X}=qg(l);D=H,G={[X.id]:O}}D&&!n.hydrationData&&ir(D,l,n.history.location.pathname).active&&(D=null);let Y;if(D)if(D.some(O=>O.route.lazy))Y=!1;else if(!D.some(O=>O.route.loader))Y=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let X=D.findIndex(te=>H[te.route.id]!==void 0);Y=D.slice(0,X+1).every(te=>!Zd(te.route,O,H))}else Y=D.every(X=>!Zd(X.route,O,H))}else{Y=!1,D=[];let O=ir(null,l,n.history.location.pathname);O.active&&O.matches&&(D=O.matches)}let ee,F={historyAction:n.history.action,location:n.history.location,matches:D,initialized:Y,navigation:Nd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||G,fetchers:new Map,blockers:new Map},se="POP",C=!1,T,R=!1,b=new Map,V=null,B=!1,k=!1,ht=new Set,ze=new Map,_t=0,je=-1,ae=new Map,Te=new Set,de=new Map,$=new Map,Z=new Set,we=new Map,Le,De=null;function Be(){if(I=n.history.listen(({action:O,location:H,delta:X})=>{if(Le){Le(),Le=void 0;return}qt(we.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=Ni({currentLocation:F.location,nextLocation:H,historyAction:O});if(te&&X!=null){let fe=new Promise(ye=>{Le=ye});n.history.go(X*-1),Pr(te,{state:"blocked",location:H,proceed(){Pr(te,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fe.then(()=>n.history.go(X))},reset(){let ye=new Map(F.blockers);ye.set(te,Qa),Me({blockers:ye})}});return}return rn(O,H)}),t){qE(e,b);let O=()=>KE(e,b);e.addEventListener("pagehide",O),V=()=>e.removeEventListener("pagehide",O)}return F.initialized||rn("POP",F.location,{initialHydration:!0}),ee}function Je(){I&&I(),V&&V(),S.clear(),T&&T.abort(),F.fetchers.forEach((O,H)=>On(H)),F.blockers.forEach((O,H)=>bi(H))}function Ze(O){return S.add(O),()=>S.delete(O)}function Me(O,H={}){F={...F,...O};let X=[],te=[];F.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(Z.has(ye)?X.push(ye):te.push(ye))}),[...S].forEach(fe=>fe(F,{deletedFetchers:X,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),X.forEach(fe=>On(fe)),te.forEach(fe=>F.fetchers.delete(fe))}function pt(O,H,{flushSync:X}={}){var ue,ke;let te=F.actionData!=null&&F.navigation.formMethod!=null&&wr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ue=O.state)==null?void 0:ue._isRedirect)!==!0,fe;H.actionData?Object.keys(H.actionData).length>0?fe=H.actionData:fe=null:te?fe=F.actionData:fe=null;let ye=H.loaderData?Hg(F.loaderData,H.loaderData,H.matches||[],H.errors):F.loaderData,Re=F.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ve,st)=>Re.set(st,Qa)));let pe=C===!0||F.navigation.formMethod!=null&&wr(F.navigation.formMethod)&&((ke=O.state)==null?void 0:ke._isRedirect)!==!0;c&&(l=c,c=void 0),B||se==="POP"||(se==="PUSH"?n.history.push(O,O.state):se==="REPLACE"&&n.history.replace(O,O.state));let _e;if(se==="POP"){let Ve=b.get(F.location.pathname);Ve&&Ve.has(O.pathname)?_e={currentLocation:F.location,nextLocation:O}:b.has(O.pathname)&&(_e={currentLocation:O,nextLocation:F.location})}else if(R){let Ve=b.get(F.location.pathname);Ve?Ve.add(O.pathname):(Ve=new Set([O.pathname]),b.set(F.location.pathname,Ve)),_e={currentLocation:F.location,nextLocation:O}}Me({...H,actionData:fe,loaderData:ye,historyAction:se,location:O,initialized:!0,navigation:Nd,revalidation:"idle",restoreScrollPosition:Mn(O,H.matches||F.matches),preventScrollReset:pe,blockers:Re},{viewTransitionOpts:_e,flushSync:X===!0}),se="POP",C=!1,R=!1,B=!1,k=!1,De==null||De.resolve(),De=null}async function Wn(O,H){if(typeof O=="number"){n.history.go(O);return}let X=Jd(F.location,F.matches,d,O,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:te,submission:fe,error:ye}=Mg(!1,X,H),Re=F.location,pe=dl(F.location,te,H&&H.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=H&&H.replace!=null?H.replace:void 0,ue="PUSH";_e===!0?ue="REPLACE":_e===!1||fe!=null&&wr(fe.formMethod)&&fe.formAction===F.location.pathname+F.location.search&&(ue="REPLACE");let ke=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ve=(H&&H.flushSync)===!0,st=Ni({currentLocation:Re,nextLocation:pe,historyAction:ue});if(st){Pr(st,{state:"blocked",location:pe,proceed(){Pr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Wn(O,H)},reset(){let Ct=new Map(F.blockers);Ct.set(st,Qa),Me({blockers:Ct})}});return}await rn(ue,pe,{submission:fe,pendingError:ye,preventScrollReset:ke,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ve})}function Ri(){De||(De=GE()),xr(),Me({revalidation:"loading"});let O=De.promise;return F.navigation.state==="submitting"?O:F.navigation.state==="idle"?(rn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),O):(rn(se||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:R===!0}),O)}async function rn(O,H,X){T&&T.abort(),T=null,se=O,B=(X&&X.startUninterruptedRevalidation)===!0,In(F.location,F.matches),C=(X&&X.preventScrollReset)===!0,R=(X&&X.enableViewTransition)===!0;let te=c||l,fe=X&&X.overrideNavigation,ye=is(te,H,d),Re=(X&&X.flushSync)===!0,pe=ir(ye,te,H.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:He,notFoundMatches:et,route:ot}=rr(H.pathname);pt(H,{matches:et,loaderData:{},errors:{[ot.id]:He}},{flushSync:Re});return}if(F.initialized&&!k&&zE(F.location,H)&&!(X&&X.submission&&wr(X.submission.formMethod))){pt(H,{matches:ye},{flushSync:Re});return}T=new AbortController;let _e=Ho(n.history,H,T.signal,X&&X.submission),ue;if(X&&X.pendingError)ue=[Ks(ye).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&wr(X.submission.formMethod)){let He=await Yr(_e,H,X.submission,ye,pe.active,{replace:X.replace,flushSync:Re});if(He.shortCircuited)return;if(He.pendingActionResult){let[et,ot]=He.pendingActionResult;if($n(ot)&&Oc(ot.error)&&ot.error.status===404){T=null,pt(H,{matches:He.matches,loaderData:{},errors:{[et]:ot.error}});return}}ye=He.matches||ye,ue=He.pendingActionResult,fe=Dd(H,X.submission),Re=!1,pe.active=!1,_e=Ho(n.history,_e.url,_e.signal)}let{shortCircuited:ke,matches:Ve,loaderData:st,errors:Ct}=await Ci(_e,H,ye,pe.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Re,ue);ke||(T=null,pt(H,{matches:Ve||ye,...Wg(ue),loaderData:st,errors:Ct}))}async function Yr(O,H,X,te,fe,ye={}){xr();let Re=HE(H,X);if(Me({navigation:Re},{flushSync:ye.flushSync===!0}),fe){let ue=await mn(te,H.pathname,O.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let ke=Ks(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[ke,{type:"error",error:ue.error}]}}else if(ue.matches)te=ue.matches;else{let{notFoundMatches:ke,error:Ve,route:st}=rr(H.pathname);return{matches:ke,pendingActionResult:[st.id,{type:"error",error:Ve}]}}}let pe,_e=Ja(te,H);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:er(405,{method:O.method,pathname:H.pathname,routeId:_e.route.id})};else if(pe=(await nr("action",F,O,[_e],te,null))[_e.route.id],O.signal.aborted)return{shortCircuited:!0};if(Gs(pe)){let ue;return ye&&ye.replace!=null?ue=ye.replace:ue=zg(pe.response.headers.get("Location"),new URL(O.url),d)===F.location.pathname+F.location.search,await Kt(O,pe,!0,{submission:X,replace:ue}),{shortCircuited:!0}}if($n(pe)){let ue=Ks(te,_e.route.id);return(ye&&ye.replace)!==!0&&(se="PUSH"),{matches:te,pendingActionResult:[ue.route.id,pe]}}return{matches:te,pendingActionResult:[_e.route.id,pe]}}async function Ci(O,H,X,te,fe,ye,Re,pe,_e,ue,ke){let Ve=fe||Dd(H,ye),st=ye||Re||Gg(Ve),Ct=!B&&!_e;if(te){if(Ct){let mt=Pi(ke);Me({navigation:Ve,...mt!==void 0?{actionData:mt}:{}},{flushSync:ue})}let Ke=await mn(X,H.pathname,O.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let mt=Ks(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[mt]:Ke.error}}}else if(Ke.matches)X=Ke.matches;else{let{error:mt,notFoundMatches:Yt,route:lr}=rr(H.pathname);return{matches:Yt,loaderData:{},errors:{[lr.id]:mt}}}}let He=c||l,[et,ot]=Fg(n.history,F,X,st,H,_e===!0,k,ht,Z,de,Te,He,d,ke);if(je=++_t,et.length===0&&ot.length===0){let Ke=Cr();return pt(H,{matches:X,loaderData:{},errors:ke&&$n(ke[1])?{[ke[0]]:ke[1].error}:null,...Wg(ke),...Ke?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ue}),{shortCircuited:!0}}if(Ct){let Ke={};if(!te){Ke.navigation=Ve;let mt=Pi(ke);mt!==void 0&&(Ke.actionData=mt)}ot.length>0&&(Ke.fetchers=Ss(ot)),Me(Ke,{flushSync:ue})}ot.forEach(Ke=>{Gt(Ke.key),Ke.controller&&ze.set(Ke.key,Ke.controller)});let sr=()=>ot.forEach(Ke=>Gt(Ke.key));T&&T.signal.addEventListener("abort",sr);let{loaderResults:or,fetcherResults:sn}=await Xr(F,X,et,ot,O);if(O.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",sr),ot.forEach(Ke=>ze.delete(Ke.key));let Qt=Wu(or);if(Qt)return await Kt(O,Qt.result,!0,{replace:pe}),{shortCircuited:!0};if(Qt=Wu(sn),Qt)return Te.add(Qt.key),await Kt(O,Qt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:ei,errors:Ar}=$g(F,X,or,ke,ot,sn);_e&&F.errors&&(Ar={...F.errors,...Ar});let ar=Cr(),at=ki(je),ti=ar||at||ot.length>0;return{matches:X,loaderData:ei,errors:Ar,...ti?{fetchers:new Map(F.fetchers)}:{}}}function Pi(O){if(O&&!$n(O[1]))return{[O[0]]:O[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Ss(O){return O.forEach(H=>{let X=F.fetchers.get(H.key),te=Ya(void 0,X?X.data:void 0);F.fetchers.set(H.key,te)}),new Map(F.fetchers)}async function lo(O,H,X,te){Gt(O);let fe=(te&&te.flushSync)===!0,ye=c||l,Re=Jd(F.location,F.matches,d,X,H,te==null?void 0:te.relative),pe=is(ye,Re,d),_e=ir(pe,ye,Re);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){ut(O,H,er(404,{pathname:Re}),{flushSync:fe});return}let{path:ue,submission:ke,error:Ve}=Mg(!0,Re,te);if(Ve){ut(O,H,Ve,{flushSync:fe});return}let st=Ja(pe,ue),Ct=(te&&te.preventScrollReset)===!0;if(ke&&wr(ke.formMethod)){await Ai(O,H,ue,st,pe,_e.active,fe,Ct,ke);return}de.set(O,{routeId:H,path:ue}),await tr(O,H,ue,st,pe,_e.active,fe,Ct,ke)}async function Ai(O,H,X,te,fe,ye,Re,pe,_e){xr(),de.delete(O);function ue(gt){if(!gt.route.action&&!gt.route.lazy){let Sn=er(405,{method:_e.formMethod,pathname:X,routeId:H});return ut(O,H,Sn,{flushSync:Re}),!0}return!1}if(!ye&&ue(te))return;let ke=F.fetchers.get(O);Tn(O,WE(_e,ke),{flushSync:Re});let Ve=new AbortController,st=Ho(n.history,X,Ve.signal,_e);if(ye){let gt=await mn(fe,X,st.signal);if(gt.type==="aborted")return;if(gt.type==="error"){ut(O,H,gt.error,{flushSync:Re});return}else if(gt.matches){if(fe=gt.matches,te=Ja(fe,X),ue(te))return}else{ut(O,H,er(404,{pathname:X}),{flushSync:Re});return}}ze.set(O,Ve);let Ct=_t,et=(await nr("action",F,st,[te],fe,O))[te.route.id];if(st.signal.aborted){ze.get(O)===Ve&&ze.delete(O);return}if(Z.has(O)){if(Gs(et)||$n(et)){Tn(O,rs(void 0));return}}else{if(Gs(et))if(ze.delete(O),je>Ct){Tn(O,rs(void 0));return}else return Te.add(O),Tn(O,Ya(_e)),Kt(st,et,!1,{fetcherSubmission:_e,preventScrollReset:pe});if($n(et)){ut(O,H,et.error);return}}let ot=F.navigation.location||F.location,sr=Ho(n.history,ot,Ve.signal),or=c||l,sn=F.navigation.state!=="idle"?is(or,F.navigation.location,d):F.matches;qe(sn,"Didn't find any matches after fetcher action");let Qt=++_t;ae.set(O,Qt);let ei=Ya(_e,et.data);F.fetchers.set(O,ei);let[Ar,ar]=Fg(n.history,F,sn,_e,ot,!1,k,ht,Z,de,Te,or,d,[te.route.id,et]);ar.filter(gt=>gt.key!==O).forEach(gt=>{let Sn=gt.key,on=F.fetchers.get(Sn),uo=Ya(void 0,on?on.data:void 0);F.fetchers.set(Sn,uo),Gt(Sn),gt.controller&&ze.set(Sn,gt.controller)}),Me({fetchers:new Map(F.fetchers)});let at=()=>ar.forEach(gt=>Gt(gt.key));Ve.signal.addEventListener("abort",at);let{loaderResults:ti,fetcherResults:Ke}=await Xr(F,sn,Ar,ar,sr);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",at),ae.delete(O),ze.delete(O),ar.forEach(gt=>ze.delete(gt.key));let mt=Wu(ti);if(mt)return Kt(sr,mt.result,!1,{preventScrollReset:pe});if(mt=Wu(Ke),mt)return Te.add(mt.key),Kt(sr,mt.result,!1,{preventScrollReset:pe});let{loaderData:Yt,errors:lr}=$g(F,sn,ti,void 0,ar,Ke);if(F.fetchers.has(O)){let gt=rs(et.data);F.fetchers.set(O,gt)}ki(Qt),F.navigation.state==="loading"&&Qt>je?(qe(se,"Expected pending action"),T&&T.abort(),pt(F.navigation.location,{matches:sn,loaderData:Yt,errors:lr,fetchers:new Map(F.fetchers)})):(Me({errors:lr,loaderData:Hg(F.loaderData,Yt,sn,lr),fetchers:new Map(F.fetchers)}),k=!1)}async function tr(O,H,X,te,fe,ye,Re,pe,_e){let ue=F.fetchers.get(O);Tn(O,Ya(_e,ue?ue.data:void 0),{flushSync:Re});let ke=new AbortController,Ve=Ho(n.history,X,ke.signal);if(ye){let et=await mn(fe,X,Ve.signal);if(et.type==="aborted")return;if(et.type==="error"){ut(O,H,et.error,{flushSync:Re});return}else if(et.matches)fe=et.matches,te=Ja(fe,X);else{ut(O,H,er(404,{pathname:X}),{flushSync:Re});return}}ze.set(O,ke);let st=_t,He=(await nr("loader",F,Ve,[te],fe,O))[te.route.id];if(ze.get(O)===ke&&ze.delete(O),!Ve.signal.aborted){if(Z.has(O)){Tn(O,rs(void 0));return}if(Gs(He))if(je>st){Tn(O,rs(void 0));return}else{Te.add(O),await Kt(Ve,He,!1,{preventScrollReset:pe});return}if($n(He)){ut(O,H,He.error);return}Tn(O,rs(He.data))}}async function Kt(O,H,X,{submission:te,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){H.response.headers.has("X-Remix-Revalidate")&&(k=!0);let pe=H.response.headers.get("Location");qe(pe,"Expected a Location header on the redirect Response"),pe=zg(pe,new URL(O.url),d);let _e=dl(F.location,pe,{_isRedirect:!0});if(t){let He=!1;if(H.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(Af.test(pe)){const et=n.history.createURL(pe);He=et.origin!==e.location.origin||Er(et.pathname,d)==null}if(He){Re?e.location.replace(pe):e.location.assign(pe);return}}T=null;let ue=Re===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Ve,formEncType:st}=F.navigation;!te&&!fe&&ke&&Ve&&st&&(te=Gg(F.navigation));let Ct=te||fe;if(CE.has(H.response.status)&&Ct&&wr(Ct.formMethod))await rn(ue,_e,{submission:{...Ct,formAction:pe},preventScrollReset:ye||C,enableViewTransition:X?R:void 0});else{let He=Dd(_e,te);await rn(ue,_e,{overrideNavigation:He,fetcherSubmission:fe,preventScrollReset:ye||C,enableViewTransition:X?R:void 0})}}async function nr(O,H,X,te,fe,ye){let Re,pe={};try{Re=await ME(p,O,H,X,te,fe,ye,o,i)}catch(_e){return te.forEach(ue=>{pe[ue.route.id]={type:"error",error:_e}}),pe}for(let[_e,ue]of Object.entries(Re))if(BE(ue)){let ke=ue.result;pe[_e]={type:"redirect",response:jE(ke,X,_e,fe,d)}}else pe[_e]=await FE(ue);return pe}async function Xr(O,H,X,te,fe){let ye=nr("loader",O,fe,X,H,null),Re=Promise.all(te.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Ve=(await nr("loader",O,Ho(n.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Ve}}else return Promise.resolve({[ue.key]:{type:"error",error:er(404,{pathname:ue.path})}})})),pe=await ye,_e=(await Re).reduce((ue,ke)=>Object.assign(ue,ke),{});return{loaderResults:pe,fetcherResults:_e}}function xr(){k=!0,de.forEach((O,H)=>{ze.has(H)&&ht.add(H),Gt(H)})}function Tn(O,H,X={}){F.fetchers.set(O,H),Me({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ut(O,H,X,te={}){let fe=Ks(F.matches,H);On(O),Me({errors:{[fe.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Rt(O){return $.set(O,($.get(O)||0)+1),Z.has(O)&&Z.delete(O),F.fetchers.get(O)||PE}function On(O){let H=F.fetchers.get(O);ze.has(O)&&!(H&&H.state==="loading"&&ae.has(O))&&Gt(O),de.delete(O),ae.delete(O),Te.delete(O),Z.delete(O),ht.delete(O),F.fetchers.delete(O)}function xs(O){let H=($.get(O)||0)-1;H<=0?($.delete(O),Z.add(O)):$.set(O,H),Me({fetchers:new Map(F.fetchers)})}function Gt(O){let H=ze.get(O);H&&(H.abort(),ze.delete(O))}function Rr(O){for(let H of O){let X=Rt(H),te=rs(X.data);F.fetchers.set(H,te)}}function Cr(){let O=[],H=!1;for(let X of Te){let te=F.fetchers.get(X);qe(te,`Expected fetcher: ${X}`),te.state==="loading"&&(Te.delete(X),O.push(X),H=!0)}return Rr(O),H}function ki(O){let H=[];for(let[X,te]of ae)if(te<O){let fe=F.fetchers.get(X);qe(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(Gt(X),ae.delete(X),H.push(X))}return Rr(H),H.length>0}function Rs(O,H){let X=F.blockers.get(O)||Qa;return we.get(O)!==H&&we.set(O,H),X}function bi(O){F.blockers.delete(O),we.delete(O)}function Pr(O,H){let X=F.blockers.get(O)||Qa;qe(X.state==="unblocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="proceeding"||X.state==="blocked"&&H.state==="unblocked"||X.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${H.state}`);let te=new Map(F.blockers);te.set(O,H),Me({blockers:te})}function Ni({currentLocation:O,nextLocation:H,historyAction:X}){if(we.size===0)return;we.size>1&&qt(!1,"A router only supports one blocker at a time");let te=Array.from(we.entries()),[fe,ye]=te[te.length-1],Re=F.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:O,nextLocation:H,historyAction:X}))return fe}function rr(O){let H=er(404,{pathname:O}),X=c||l,{matches:te,route:fe}=qg(X);return{notFoundMatches:te,route:fe,error:H}}function Di(O,H,X){if(A=O,z=H,N=X||null,!j&&F.navigation===Nd){j=!0;let te=Mn(F.location,F.matches);te!=null&&Me({restoreScrollPosition:te})}return()=>{A=null,z=null,N=null}}function Jr(O,H){return N&&N(O,H.map(te=>sE(te,F.loaderData)))||O.key}function In(O,H){if(A&&z){let X=Jr(O,H);A[X]=z()}}function Mn(O,H){if(A){let X=Jr(O,H),te=A[X];if(typeof te=="number")return te}return null}function ir(O,H,X){if(y)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Zu(H,X,d,!0)}}else return{active:!0,matches:Zu(H,X,d,!0)||[]};return{active:!1,matches:null}}async function mn(O,H,X){if(!y)return{type:"success",matches:O};let te=O;for(;;){let fe=c==null,ye=c||l,Re=o;try{await y({path:H,matches:te,patch:(ue,ke)=>{X.aborted||Ug(ue,ke,ye,Re,i)}})}catch(ue){return{type:"error",error:ue,partialMatches:te}}finally{fe&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let pe=is(ye,H,d);if(pe)return{type:"success",matches:pe};let _e=Zu(ye,H,d,!0);if(!_e||te.length===_e.length&&te.every((ue,ke)=>ue.route.id===_e[ke].route.id))return{type:"success",matches:null};te=_e}}function Cs(O){o={},c=hc(O,i,void 0,o)}function Zr(O,H){let X=c==null;Ug(O,H,c||l,o,i),X&&(l=[...l],Me({}))}return ee={get basename(){return d},get future(){return _},get state(){return F},get routes(){return l},get window(){return e},initialize:Be,subscribe:Ze,enableScrollRestoration:Di,navigate:Wn,fetch:lo,revalidate:Ri,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:Rt,deleteFetcher:xs,dispose:Je,getBlocker:Rs,deleteBlocker:bi,patchRoutes:Zr,_internalFetchControllers:ze,_internalSetRoutes:Cs},ee}function bE(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Jd(n,e,t,i,o,l){let c,d;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){d=y;break}}else c=e,d=e[e.length-1];let p=Pf(i||".",Cf(c),Er(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=kf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let _=new URLSearchParams(p.search),I=_.getAll("index");_.delete("index"),I.filter(A=>A).forEach(A=>_.append("index",A));let S=_.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:zr([t,p.pathname])),gs(p)}function Mg(n,e,t){if(!t||!bE(t))return{path:e};if(t.formMethod&&!$E(t.formMethod))return{path:e,error:er(405,{method:t.formMethod})};let i=()=>({path:e,error:er(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Vv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!wr(l))return i();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[A,N])=>`${S}${A}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!wr(l))return i();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=ef(t.formData),p=t.formData;else if(t.body instanceof FormData)d=ef(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Bg(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Bg(d)}catch{return i()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(wr(y.formMethod))return{path:e,submission:y};let _=Ii(e);return n&&_.search&&kf(_.search)&&d.append("index",""),_.search=`?${d}`,{path:gs(_),submission:y}}function Vg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Fg(n,e,t,i,o,l,c,d,p,y,_,I,S,A){let N=A?$n(A[1])?A[1].error:A[1].data:void 0,z=n.createURL(e.location),j=n.createURL(o),D=t;l&&e.errors?D=Vg(t,Object.keys(e.errors)[0],!0):A&&$n(A[1])&&(D=Vg(t,A[0]));let G=A?A[1].statusCode:void 0,Y=G&&G>=400,ee=D.filter((se,C)=>{let{route:T}=se;if(T.lazy)return!0;if(T.loader==null)return!1;if(l)return Zd(T,e.loaderData,e.errors);if(NE(e.loaderData,e.matches[C],se))return!0;let R=e.matches[C],b=se;return jg(se,{currentUrl:z,currentParams:R.params,nextUrl:j,nextParams:b.params,...i,actionResult:N,actionStatus:G,defaultShouldRevalidate:Y?!1:c||z.pathname+z.search===j.pathname+j.search||z.search!==j.search||DE(R,b)})}),F=[];return y.forEach((se,C)=>{if(l||!t.some(B=>B.route.id===se.routeId)||p.has(C))return;let T=is(I,se.path,S);if(!T){F.push({key:C,routeId:se.routeId,path:se.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(C),b=Ja(T,se.path),V=!1;_.has(C)?V=!1:d.has(C)?(d.delete(C),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=c:V=jg(b,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:t[t.length-1].params,...i,actionResult:N,actionStatus:G,defaultShouldRevalidate:Y?!1:c}),V&&F.push({key:C,routeId:se.routeId,path:se.path,matches:T,match:b,controller:new AbortController})}),[ee,F]}function Zd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function NE(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function DE(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function jg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Ug(n,e,t,i,o){let l;if(n){let p=i[n];qe(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(y=>Mv(p,y))),d=hc(c,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function Mv(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Mv(t,l))}):!1}async function LE(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];qe(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";qt(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!rE.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function OE({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function ME(n,e,t,i,o,l,c,d,p,y){let _=l.map(A=>A.route.lazy?LE(A.route,p,d):void 0),I=l.map((A,N)=>{let z=_[N],j=o.some(G=>G.route.id===A.route.id);return{...A,shouldLoad:j,resolve:async G=>(G&&i.method==="GET"&&(A.route.lazy||A.route.loader)&&(j=!0),j?VE(e,i,A,z,G,y):Promise.resolve({type:"data",result:void 0}))}}),S=await n({matches:I,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(_)}catch{}return S}async function VE(n,e,t,i,o,l){let c,d,p=y=>{let _,I=new Promise((N,z)=>_=z);d=()=>_(),e.signal.addEventListener("abort",d);let S=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...N!==void 0?[N]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(z=>S(z)):S())}}catch(N){return{type:"error",result:N}}})();return Promise.race([A,I])};try{let y=t.route[n];if(i)if(y){let _,[I]=await Promise.all([p(y).catch(S=>{_=S}),i]);if(_!==void 0)throw _;c=I}else if(await i,y=t.route[n],y)c=await p(y);else if(n==="action"){let _=new URL(e.url),I=_.pathname+_.search;throw er(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await p(y);else{let _=new URL(e.url),I=_.pathname+_.search;throw er(404,{pathname:I})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function FE(n){var i,o,l,c;let{result:e,type:t}=n;if(Fv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new fc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Kg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new fc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Oc(e)?e.status:void 0}}return Kg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jE(n,e,t,i,o){let l=n.headers.get("Location");if(qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Af.test(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=Jd(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function zg(n,e,t){if(Af.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Er(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Ho(n,e,t,i){let o=n.createURL(Vv(e)).toString(),l={signal:t};if(i&&wr(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=ef(i.formData):l.body=i.formData}return new Request(o,l)}function ef(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Bg(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function UE(n,e,t,i=!1,o=!1){let l={},c=null,d,p=!1,y={},_=t&&$n(t[1])?t[1].error:void 0;return n.forEach(I=>{if(!(I.route.id in e))return;let S=I.route.id,A=e[S];if(qe(!Gs(A),"Cannot handle redirect results in processLoaderData"),$n(A)){let N=A.error;if(_!==void 0&&(N=_,_=void 0),c=c||{},o)c[S]=N;else{let z=Ks(n,S);c[z.route.id]==null&&(c[z.route.id]=N)}i||(l[S]=Ov),p||(p=!0,d=Oc(A.error)?A.error.status:500),A.headers&&(y[S]=A.headers)}else l[S]=A.data,A.statusCode&&A.statusCode!==200&&!p&&(d=A.statusCode),A.headers&&(y[S]=A.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:y}}function $g(n,e,t,i,o,l){let{loaderData:c,errors:d}=UE(e,t,i);return o.forEach(p=>{let{key:y,match:_,controller:I}=p,S=l[y];if(qe(S,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if($n(S)){let A=Ks(n.matches,_==null?void 0:_.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:S.error}),n.fetchers.delete(y)}else if(Gs(S))qe(!1,"Unhandled fetcher revalidation redirect");else{let A=rs(S.data);n.fetchers.set(y,A)}}),{loaderData:c,errors:d}}function Hg(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==Ov).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function Wg(n){return n?$n(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ks(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function qg(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function er(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new fc(n||500,c,new Error(d),!0)}function Wu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Gs(o))return{key:i,result:o}}}function Vv(n){let e=typeof n=="string"?Ii(n):n;return gs({...e,hash:""})}function zE(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function BE(n){return Fv(n.result)&&RE.has(n.result.status)}function $n(n){return n.type==="error"}function Gs(n){return(n&&n.type)==="redirect"}function Kg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Fv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function $E(n){return xE.has(n.toUpperCase())}function wr(n){return IE.has(n.toUpperCase())}function kf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ja(n,e){let t=typeof e=="string"?Ii(e).search:e.search;if(n[n.length-1].route.index&&kf(t||""))return n[n.length-1];let i=Nv(n);return i[i.length-1]}function Gg(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Dd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HE(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ya(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WE(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function rs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function qE(n,e){try{let t=n.sessionStorage.getItem(Lv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function KE(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Lv,JSON.stringify(t))}catch(i){qt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function GE(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var io=M.createContext(null);io.displayName="DataRouter";var Tl=M.createContext(null);Tl.displayName="DataRouterState";var bf=M.createContext({isTransitioning:!1});bf.displayName="ViewTransition";var jv=M.createContext(new Map);jv.displayName="Fetchers";var QE=M.createContext(null);QE.displayName="Await";var Qr=M.createContext(null);Qr.displayName="Navigation";var Mc=M.createContext(null);Mc.displayName="Location";var Ir=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Nf=M.createContext(null);Nf.displayName="RouteError";function YE(n,{relative:e}={}){qe(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Qr),{hash:o,pathname:l,search:c}=Sl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:zr([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Il(){return M.useContext(Mc)!=null}function so(){return qe(Il(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Mc).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(n){M.useContext(Qr).static||M.useLayoutEffect(n)}function ua(){let{isDataRoute:n}=M.useContext(Ir);return n?hT():XE()}function XE(){qe(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(io),{basename:e,navigator:t}=M.useContext(Qr),{matches:i}=M.useContext(Ir),{pathname:o}=so(),l=JSON.stringify(Cf(i)),c=M.useRef(!1);return zv(()=>{c.current=!0}),M.useCallback((p,y={})=>{if(qt(c.current,Uv),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Pf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:zr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}var JE=M.createContext(null);function ZE(n){let e=M.useContext(Ir).outlet;return e&&M.createElement(JE.Provider,{value:n},e)}function Bv(){let{matches:n}=M.useContext(Ir),e=n[n.length-1];return e?e.params:{}}function Sl(n,{relative:e}={}){let{matches:t}=M.useContext(Ir),{pathname:i}=so(),o=JSON.stringify(Cf(t));return M.useMemo(()=>Pf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function eT(n,e,t,i){qe(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Qr),{matches:l}=M.useContext(Ir),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let D=_&&_.path||"";$v(p,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let I=so(),S;S=I;let A=S.pathname||"/",N=A;if(y!=="/"){let D=y.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let z=is(n,{pathname:N});return qt(_||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),qt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sT(z&&z.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:zr([y,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:zr([y,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,t,i)}function tT(){let n=cT(),e=Oc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,c)}var nT=M.createElement(tT,null),rT=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(Ir.Provider,{value:this.props.routeContext},M.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iT({routeContext:n,match:e,children:t}){let i=M.useContext(io);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ir.Provider,{value:n},t)}function sT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:I}=t,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let I,S=!1,A=null,N=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,A=y.route.errorElement||nT,c&&(d<0&&_===0?($v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):d===_&&(S=!0,N=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),j=()=>{let D;return I?D=A:S?D=N:y.route.Component?D=M.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=p,M.createElement(iT,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:D})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?M.createElement(rT,{location:t.location,revalidation:t.revalidation,component:A,error:I,children:j(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):j()},null)}function Df(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(n){let e=M.useContext(io);return qe(e,Df(n)),e}function aT(n){let e=M.useContext(Tl);return qe(e,Df(n)),e}function lT(n){let e=M.useContext(Ir);return qe(e,Df(n)),e}function Lf(n){let e=lT(n),t=e.matches[e.matches.length-1];return qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uT(){return Lf("useRouteId")}function cT(){var i;let n=M.useContext(Nf),e=aT("useRouteError"),t=Lf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function hT(){let{router:n}=oT("useNavigate"),e=Lf("useNavigate"),t=M.useRef(!1);return zv(()=>{t.current=!0}),M.useCallback(async(o,l={})=>{qt(t.current,Uv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Qg={};function $v(n,e,t){!e&&!Qg[n]&&(Qg[n]=!0,qt(!1,t))}var Yg={};function Xg(n,e){!n&&!Yg[e]&&(Yg[e]=!0,console.warn(e))}function dT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var fT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function pT({router:n,flushSync:e}){let[t,i]=M.useState(n.state),[o,l]=M.useState(),[c,d]=M.useState({isTransitioning:!1}),[p,y]=M.useState(),[_,I]=M.useState(),[S,A]=M.useState(),N=M.useRef(new Map),z=M.useCallback((Y,{deletedFetchers:ee,flushSync:F,viewTransitionOpts:se})=>{ee.forEach(T=>N.current.delete(T)),Y.fetchers.forEach((T,R)=>{T.data!==void 0&&N.current.set(R,T.data)}),Xg(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Xg(se==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!se||!C){e&&F?e(()=>i(Y)):M.startTransition(()=>i(Y));return}if(e&&F){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:se.currentLocation,nextLocation:se.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>i(Y))});T.finished.finally(()=>{e(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>I(T));return}_?(p&&p.resolve(),_.skipTransition(),A({state:Y,currentLocation:se.currentLocation,nextLocation:se.nextLocation})):(l(Y),d({isTransitioning:!0,flushSync:!1,currentLocation:se.currentLocation,nextLocation:se.nextLocation}))},[n.window,e,_,p]);M.useLayoutEffect(()=>n.subscribe(z),[n,z]),M.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new fT)},[c]),M.useEffect(()=>{if(p&&o&&n.window){let Y=o,ee=p.promise,F=n.window.document.startViewTransition(async()=>{M.startTransition(()=>i(Y)),await ee});F.finished.finally(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})}),I(F)}},[o,p,n.window]),M.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),M.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),A(void 0))},[c.isTransitioning,S]);let j=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Y=>n.navigate(Y),push:(Y,ee,F)=>n.navigate(Y,{state:ee,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(Y,ee,F)=>n.navigate(Y,{replace:!0,state:ee,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),D=n.basename||"/",G=M.useMemo(()=>({router:n,navigator:j,static:!1,basename:D}),[n,j,D]);return M.createElement(M.Fragment,null,M.createElement(io.Provider,{value:G},M.createElement(Tl.Provider,{value:t},M.createElement(jv.Provider,{value:N.current},M.createElement(bf.Provider,{value:c},M.createElement(vT,{basename:D,location:t.location,navigationType:t.historyAction,navigator:j},M.createElement(mT,{routes:n.routes,future:n.future,state:t})))))),null)}var mT=M.memo(gT);function gT({routes:n,future:e,state:t}){return eT(n,void 0,t,e)}function yT(n){return ZE(n.context)}function vT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){qe(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ii(t));let{pathname:p="/",search:y="",hash:_="",state:I=null,key:S="default"}=t,A=M.useMemo(()=>{let N=Er(p,c);return N==null?null:{location:{pathname:N,search:y,hash:_,state:I,key:S},navigationType:i}},[c,p,y,_,I,S,i]);return qt(A!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:M.createElement(Qr.Provider,{value:d},M.createElement(Mc.Provider,{children:e,value:A}))}var ec="get",tc="application/x-www-form-urlencoded";function Vc(n){return n!=null&&typeof n.tagName=="string"}function _T(n){return Vc(n)&&n.tagName.toLowerCase()==="button"}function wT(n){return Vc(n)&&n.tagName.toLowerCase()==="form"}function ET(n){return Vc(n)&&n.tagName.toLowerCase()==="input"}function TT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IT(n,e){return n.button===0&&(!e||e==="_self")&&!TT(n)}var qu=null;function ST(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var xT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(n){return n!=null&&!xT.has(n)?(qt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function RT(n,e){let t,i,o,l,c;if(wT(n)){let d=n.getAttribute("action");i=d?Er(d,e):null,t=n.getAttribute("method")||ec,o=Ld(n.getAttribute("enctype"))||tc,l=new FormData(n)}else if(_T(n)||ET(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Er(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ec,o=Ld(n.getAttribute("formenctype"))||Ld(d.getAttribute("enctype"))||tc,l=new FormData(d,n),!ST()){let{name:y,type:_,value:I}=n;if(_==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,I)}}else{if(Vc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,i=null,o=tc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Of(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function CT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AT(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await CT(l,t);return c.links?c.links():[]}return[]}));return DT(i.flat(1).filter(PT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jg(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var I;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function kT(n,e){return bT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bT(n){return[...new Set(n)]}function NT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function DT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(NT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function LT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function OT(){let n=M.useContext(io);return Of(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MT(){let n=M.useContext(Tl);return Of(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mf=M.createContext(void 0);Mf.displayName="FrameworkContext";function Hv(){let n=M.useContext(Mf);return Of(n,"You must render this element inside a <HydratedRouter> element"),n}function VT(n,e){let t=M.useContext(Mf),[i,o]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=e,S=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=D=>{D.forEach(G=>{c(G.isIntersecting)})},j=new IntersectionObserver(z,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[n]),M.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let A=()=>{o(!0)},N=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Xa(d,A),onBlur:Xa(p,N),onMouseEnter:Xa(y,A),onMouseLeave:Xa(_,N),onTouchStart:Xa(I,A)}]:[!1,S,{}]}function Xa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FT({page:n,...e}){let{router:t}=OT(),i=M.useMemo(()=>is(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(UT,{page:n,matches:i,...e}):null}function jT(n){let{manifest:e,routeModules:t}=Hv(),[i,o]=M.useState([]);return M.useEffect(()=>{let l=!1;return AT(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function UT({page:n,matches:e,...t}){let i=so(),{manifest:o,routeModules:l}=Hv(),{loaderData:c,matches:d}=MT(),p=M.useMemo(()=>Jg(n,e,d,o,i,"data"),[n,e,d,o,i]),y=M.useMemo(()=>Jg(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,N=!1;if(e.forEach(j=>{var G;let D=o.routes[j.route.id];!D||!D.hasLoader||(!p.some(Y=>Y.route.id===j.route.id)&&j.route.id in c&&((G=l[j.route.id])!=null&&G.shouldRevalidate)||D.hasClientLoader?N=!0:A.add(j.route.id))}),A.size===0)return[];let z=LT(n);return N&&A.size>0&&z.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[z.pathname+z.search]},[c,i,o,p,e,n,l]),I=M.useMemo(()=>kT(y,o),[y,o]),S=jT(y);return M.createElement(M.Fragment,null,_.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),I.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:N})=>M.createElement("link",{key:A,...N})))}function zT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wv&&(window.__reactRouterVersion="7.1.1")}catch{}function BT(n,e){return kE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:eE({window:e==null?void 0:e.window}),hydrationData:$T(),routes:n,mapRouteProperties:dT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function $T(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:HT(n.errors)}),n}function HT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new fc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:I,...S},A){let{basename:N}=M.useContext(Qr),z=typeof y=="string"&&qv.test(y),j,D=!1;if(typeof y=="string"&&z&&(j=y,Wv))try{let R=new URL(window.location.href),b=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Er(b.pathname,N);b.origin===R.origin&&V!=null?y=V+b.search+b.hash:D=!0}catch{qt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=YE(y,{relative:o}),[Y,ee,F]=VT(i,S),se=KT(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:I});function C(R){e&&e(R),R.defaultPrevented||se(R)}let T=M.createElement("a",{...S,...F,href:j||G,onClick:D||l?e:C,ref:zT(A,ee),target:p,"data-discover":!z&&t==="render"?"true":void 0});return Y&&!z?M.createElement(M.Fragment,null,T,M.createElement(FT,{page:G})):T});Hn.displayName="Link";var WT=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...y},_){let I=Sl(c,{relative:y.relative}),S=so(),A=M.useContext(Tl),{navigator:N,basename:z}=M.useContext(Qr),j=A!=null&&JT(I)&&d===!0,D=N.encodeLocation?N.encodeLocation(I).pathname:I.pathname,G=S.pathname,Y=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,D=D.toLowerCase()),Y&&z&&(Y=Er(Y,z)||Y);const ee=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let F=G===D||!o&&G.startsWith(D)&&G.charAt(ee)==="/",se=Y!=null&&(Y===D||!o&&Y.startsWith(D)&&Y.charAt(D.length)==="/"),C={isActive:F,isPending:se,isTransitioning:j},T=F?e:void 0,R;typeof i=="function"?R=i(C):R=[i,F?"active":null,se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(C):l;return M.createElement(Hn,{...y,"aria-current":T,className:R,ref:_,style:b,to:c,viewTransition:d},typeof p=="function"?p(C):p)});WT.displayName="NavLink";var xl=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=ec,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:I,...S},A)=>{let N=YT(),z=XT(d,{relative:y}),j=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&qv.test(d),G=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,F=(ee==null?void 0:ee.getAttribute("formmethod"))||c;N(ee||Y.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:I})};return M.createElement("form",{ref:A,method:j,action:z,onSubmit:i?p:G,...S,"data-discover":!D&&n==="render"?"true":void 0})});xl.displayName="Form";function qT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(n){let e=M.useContext(io);return qe(e,qT(n)),e}function KT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=ua(),p=so(),y=Sl(n,{relative:l});return M.useCallback(_=>{if(IT(_,e)){_.preventDefault();let I=t!==void 0?t:gs(p)===gs(y);d(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,y,t,i,e,n,o,l,c])}var GT=0,QT=()=>`__${String(++GT)}__`;function YT(){let{router:n}=Kv("useSubmit"),{basename:e}=M.useContext(Qr),t=uT();return M.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:y}=RT(i,e);if(o.navigate===!1){let _=o.fetcherKey||QT();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function XT(n,{relative:e}={}){let{basename:t}=M.useContext(Qr),i=M.useContext(Ir);qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Sl(n||".",{relative:e})},c=so();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(I=>I).forEach(I=>d.append("index",I));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zr([t,l.pathname])),gs(l)}function JT(n,e={}){let t=M.useContext(bf);qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kv("useViewTransitionState"),o=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Er(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dc(o.pathname,c)!=null||dc(o.pathname,l)!=null}new TextEncoder;var ZT=Tv();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eI(n){return M.createElement(pT,{flushSync:ZT.flushSync,...n})}var Gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zg=it.createContext&&it.createContext(Gv),tI=["attr","size","title"];function nI(n,e){if(n==null)return{};var t=rI(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function rI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function pc(){return pc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pc.apply(this,arguments)}function ey(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function mc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(t),!0).forEach(function(i){iI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ey(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function iI(n,e,t){return e=sI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sI(n){var e=oI(n,"string");return typeof e=="symbol"?e:e+""}function oI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qv(n){return n&&n.map((e,t)=>it.createElement(e.tag,mc({key:t},e.attr),Qv(e.child)))}function Ot(n){return e=>it.createElement(aI,pc({attr:mc({},n.attr)},e),Qv(n.child))}function aI(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=nI(n,tI),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),it.createElement("svg",pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:mc(mc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&it.createElement("title",null,l),n.children)};return Zg!==void 0?it.createElement(Zg.Consumer,null,t=>e(t)):e(Gv)}function lI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function uI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function cI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.707 2.293l9 9c.63 .63 .184 1.707 -.707 1.707h-1v6a3 3 0 0 1 -3 3h-1v-7a3 3 0 0 0 -2.824 -2.995l-.176 -.005h-2a3 3 0 0 0 -3 3v7h-1a3 3 0 0 1 -3 -3v-6h-1c-.89 0 -1.337 -1.077 -.707 -1.707l9 -9a1 1 0 0 1 1.414 0m.293 11.707a1 1 0 0 1 1 1v7h-4v-7a1 1 0 0 1 .883 -.993l.117 -.007z"},child:[]}]})(n)}function hI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z"},child:[]}]})(n)}function Od(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function dI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"},child:[]}]})(n)}function fI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function pI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"},child:[]}]})(n)}function mI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L389.6 269.3C433.8 244.7 464 198.1 464 144 464 64.5 399.5 0 320 0c-67.1 0-123 46.1-139 108.2L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM198.4 320C124.2 320 64 380.2 64 454.4v9.6c0 26.5 21.5 48 48 48h382.2L245.8 320h-47.4z"},child:[]}]})(n)}function gI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function yI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}function vI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h2v12H4zm10.293-.707L7.586 12l6.707 6.707 1.414-1.414L11.414 13H20v-2h-8.586l4.293-4.293z"},child:[]}]})(n)}function _I(n){return Ot({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 6h2v12h-2zM4 13h8.586l-4.293 4.293 1.414 1.414L16.414 12 9.707 5.293 8.293 6.707 12.586 11H4z"},child:[]}]})(n)}function wI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm13 0c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4z"},child:[]}]})(n)}function EI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function TI(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(n)}function II(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(n)}function Yv(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 128l128 128-128 128z"},child:[]}]})(n)}function ty(n){return Ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(n)}var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,I=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,A=y&63;p||(A=64,c||(S=64)),i.push(t[_],t[I],t[S],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||I==null)throw new xI;const S=l<<2|d>>4;if(i.push(S),y!==64){const A=d<<4&240|y>>2;if(i.push(A),I!==64){const N=y<<6&192|I;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(n){const e=Xv(n);return Jv.encodeByteArray(e,!0)},gc=function(n){return RI(n).replace(/\./g,"")},Zv=function(n){try{return Jv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>CI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof ny>"u")return;const n=ny.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zv(n[1]);return e&&JSON.parse(e)},Fc=()=>{try{return PI()||AI()||kI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e0=n=>{var e,t;return(t=(e=Fc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bI=n=>{const e=e0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t0=()=>{var n;return(n=Fc())===null||n===void 0?void 0:n.config},n0=n=>{var e;return(e=Fc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gc(JSON.stringify(t)),gc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function OI(){var n;const e=(n=Fc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jI(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UI(){return!OI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="FirebaseError";class Si extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$I,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?HI(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Si(o,d,i)}}function HI(n,e){return n.replace(WI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const WI=/\{\$([^}]+)}/g;function qI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(ry(l)&&ry(c)){if(!yc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ry(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Za(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function el(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KI(n,e){const t=new GI(n,e);return t.subscribe.bind(t)}class GI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n){return n&&n._delegate?n._delegate:n}class eo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new NI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(n){return n===qs?void 0:n}function JI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const eS={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},tS=$e.INFO,nS={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},rS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=nS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const iS=(n,e)=>e.some(t=>n instanceof t);let iy,sy;function sS(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,tf=new WeakMap,i0=new WeakMap,Vd=new WeakMap,Ff=new WeakMap;function aS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(hs(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&r0.set(t,n)}).catch(()=>{}),Ff.set(e,n),e}function lS(n){if(tf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});tf.set(n,e)}let nf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uS(n){nf=n(nf)}function cS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Fd(this),e,...t);return i0.set(i,e.sort?e.sort():[e]),hs(i)}:oS().includes(n)?function(...e){return n.apply(Fd(this),e),hs(r0.get(this))}:function(...e){return hs(n.apply(Fd(this),e))}}function hS(n){return typeof n=="function"?cS(n):(n instanceof IDBTransaction&&lS(n),iS(n,sS())?new Proxy(n,nf):n)}function hs(n){if(n instanceof IDBRequest)return aS(n);if(Vd.has(n))return Vd.get(n);const e=hS(n);return e!==n&&(Vd.set(n,e),Ff.set(e,n)),e}const Fd=n=>Ff.get(n);function dS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=hs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(hs(c.result),p.oldVersion,p.newVersion,hs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const fS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],jd=new Map;function oy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=pS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||fS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return jd.set(e,l),l}uS(n=>({...n,get:(e,t,i)=>oy(e,t)||n.get(e,t,i),has:(e,t)=>!!oy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",ay="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Vf("@firebase/app"),yS="@firebase/app-compat",vS="@firebase/analytics-compat",_S="@firebase/analytics",wS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",IS="@firebase/auth-compat",SS="@firebase/database",xS="@firebase/data-connect",RS="@firebase/database-compat",CS="@firebase/functions",PS="@firebase/functions-compat",AS="@firebase/installations",kS="@firebase/installations-compat",bS="@firebase/messaging",NS="@firebase/messaging-compat",DS="@firebase/performance",LS="@firebase/performance-compat",OS="@firebase/remote-config",MS="@firebase/remote-config-compat",VS="@firebase/storage",FS="@firebase/storage-compat",jS="@firebase/firestore",US="@firebase/vertexai",zS="@firebase/firestore-compat",BS="firebase",$S="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",HS={[rf]:"fire-core",[yS]:"fire-core-compat",[_S]:"fire-analytics",[vS]:"fire-analytics-compat",[ES]:"fire-app-check",[wS]:"fire-app-check-compat",[TS]:"fire-auth",[IS]:"fire-auth-compat",[SS]:"fire-rtdb",[xS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[CS]:"fire-fn",[PS]:"fire-fn-compat",[AS]:"fire-iid",[kS]:"fire-iid-compat",[bS]:"fire-fcm",[NS]:"fire-fcm-compat",[DS]:"fire-perf",[LS]:"fire-perf-compat",[OS]:"fire-rc",[MS]:"fire-rc-compat",[VS]:"fire-gcs",[FS]:"fire-gcs-compat",[jS]:"fire-fst",[zS]:"fire-fst-compat",[US]:"fire-vertex","fire-js":"fire-js",[BS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,WS=new Map,of=new Map;function ly(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ta(n){const e=n.name;if(of.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,n);for(const t of vc.values())ly(t,n);for(const t of WS.values())ly(t,n);return!0}function jf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ur(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Rl("app","Firebase",qS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=$S;function jc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(t||(t=t0()),!t)throw ds.create("no-options");const l=vc.get(o);if(l){if(yc(t,l.options)&&yc(i,l.config))return l;throw ds.create("duplicate-app",{appName:o})}const c=new ZI(o);for(const p of of.values())c.addComponent(p);const d=new KS(t,i,c);return vc.set(o,d),d}function s0(n=sf){const e=vc.get(n);if(!e&&n===sf&&t0())return jc();if(!e)throw ds.create("no-app",{appName:n});return e}function fs(n,e,t){var i;let o=(i=HS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(d.join(" "));return}ta(new eo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebase-heartbeat-database",QS=1,fl="firebase-heartbeat-store";let Ud=null;function o0(){return Ud||(Ud=dS(GS,QS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ds.create("idb-open",{originalErrorMessage:n.message})})),Ud}async function YS(n){try{const t=(await o0()).transaction(fl),i=await t.objectStore(fl).get(a0(n));return await t.done,i}catch(e){if(e instanceof Si)wi.warn(e.message);else{const t=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(t.message)}}}async function uy(n,e){try{const i=(await o0()).transaction(fl,"readwrite");await i.objectStore(fl).put(e,a0(n)),await i.done}catch(t){if(t instanceof Si)wi.warn(t.message);else{const i=ds.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wi.warn(i.message)}}}function a0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1024,JS=30*24*60*60*1e3;class ZS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=JS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){wi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cy(),{heartbeatsToSend:i,unsentEntries:o}=ex(this._heartbeatsCache.heartbeats),l=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return wi.warn(t),""}}}function cy(){return new Date().toISOString().substring(0,10)}function ex(n,e=XS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),hy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(n){return gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){ta(new eo("platform-logger",e=>new mS(e),"PRIVATE")),ta(new eo("heartbeat",e=>new ZS(e),"PRIVATE")),fs(rf,ay,n),fs(rf,ay,"esm2017"),fs("fire-js","")}nx("");var rx="firebase",ix="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(rx,ix,"app");const Br=(n,e)=>{switch(n){case"error":lt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":lt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}};function Uf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sx=l0,u0=new Rl("auth","Firebase",l0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Vf("@firebase/auth");function ox(n,...e){_c.logLevel<=$e.WARN&&_c.warn(`Auth (${ca}): ${n}`,...e)}function nc(n,...e){_c.logLevel<=$e.ERROR&&_c.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(n,...e){throw zf(n,...e)}function $r(n,...e){return zf(n,...e)}function c0(n,e,t){const i=Object.assign(Object.assign({},sx()),{[e]:t});return new Rl("auth","Firebase",i).create(e,{appName:n.name})}function vi(n){return c0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return u0.create(n,...e)}function be(n,e,...t){if(!n)throw zf(e,...t)}function mi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nc(e),new Error(e)}function Ei(n,e){n||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ax(){return dy()==="http:"||dy()==="https:"}function dy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ax()||VI()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=LI()||FI()}get(){return lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n,e){Ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Pl(3e4,6e4);function Is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xi(n,e,t,i,o={}){return d0(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Cl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return MI()||(y.referrerPolicy="no-referrer"),h0.fetch()(f0(n,n.config.apiHost,t,d),y)})}async function d0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},cx),e);try{const o=new fx(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ku(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ku(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ku(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw c0(n,_,y);Tr(n,_)}}catch(o){if(o instanceof Si)throw o;Tr(n,"network-request-failed",{message:String(o)})}}async function Al(n,e,t,i,o={}){const l=await xi(n,e,t,i,o);return"mfaPendingCredential"in l&&Tr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function f0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Bf(n.config,o):`${n.config.apiScheme}://${o}`}function dx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),hx.get())})}}function Ku(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=$r(n,e,i);return o.customData._tokenResponse=t,o}function fy(n){return n!==void 0&&n.enterprise!==void 0}class px{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mx(n,e){return xi(n,"GET","/v2/recaptchaConfig",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,e){return xi(n,"POST","/v1/accounts:delete",e)}async function p0(n,e){return xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(n,e=!1){const t=Sr(n),i=await t.getIdToken(e),o=$f(i);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:sl(zd(o.auth_time)),issuedAtTime:sl(zd(o.iat)),expirationTime:sl(zd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zd(n){return Number(n)*1e3}function $f(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zv(t);return o?JSON.parse(o):(nc("Failed to decode base64 JWT payload"),null)}catch(o){return nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function py(n){const e=$f(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Si&&vx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await na(n,p0(t,{idToken:i}));be(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m0(l.providerUserInfo):[],d=Ex(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,I)}async function wx(n){const e=Sr(n);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function m0(n){return n.map(e=>{var{providerId:t}=e,i=Uf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(n,e){const t=await d0(n,{},async()=>{const i=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=f0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ix(n,e){return xi(n,"POST","/v2/accounts:revokeToken",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=py(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await Tx(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Yo;return i&&(be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _x(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await na(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yx(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await wc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await na(this,gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,D=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ee,isAnonymous:F,providerData:se,stsTokenManager:C}=t;be(Y&&C,e,"internal-error");const T=Yo.fromJSON(this.name,C);be(typeof Y=="string",e,"internal-error"),ns(I,e.name),ns(S,e.name),be(typeof ee=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),ns(A,e.name),ns(N,e.name),ns(z,e.name),ns(j,e.name),ns(D,e.name),ns(G,e.name);const R=new gi({uid:Y,auth:e,email:S,emailVerified:ee,displayName:I,isAnonymous:F,photoURL:N,phoneNumber:A,tenantId:z,stsTokenManager:T,createdAt:D,lastLoginAt:G});return se&&Array.isArray(se)&&(R.providerData=se.map(b=>Object.assign({},b))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Yo;o.updateFromServerResponse(t);const l=new gi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await wc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Yo;d.updateFromIdToken(i);const p=new gi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new lf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=new Map;function yi(n){Ei(n instanceof Function,"Expected a class definition");let e=my.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,my.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g0.type="NONE";const gy=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=rc(this.userKey,o.apiKey,l),this.fullPersistenceKey=rc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xo(yi(gy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||yi(gy);const c=rc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const I=gi._fromJSON(e,_);y!==l&&(d=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Xo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Xo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(I0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function y0(n=pn()){return/firefox\//i.test(n)}function v0(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(n=pn()){return/crios\//i.test(n)}function w0(n=pn()){return/iemobile/i.test(n)}function E0(n=pn()){return/android/i.test(n)}function T0(n=pn()){return/blackberry/i.test(n)}function I0(n=pn()){return/webos/i.test(n)}function Hf(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Sx(n=pn()){var e;return Hf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xx(){return jI()&&document.documentMode===10}function S0(n=pn()){return Hf(n)||E0(n)||I0(n)||T0(n)||/windows phone/i.test(n)||w0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e=[]){let t;switch(n){case"Browser":t=yy(pn());break;case"Worker":t=`${yy(pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(n,e={}){return xi(n,"GET","/v2/passwordPolicy",Is(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=6;class Ax{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Px,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vy(this),this.idTokenSubscription=new vy(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await p0(this,{idToken:e}),i=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(vi(this));const t=e?Sr(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cx(this),t=new Ax(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ix(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ox(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return Sr(n)}class vy{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bx(n){Uc=n}function R0(n){return Uc.loadJS(n)}function Nx(){return Uc.recaptchaEnterpriseScript}function Dx(){return Uc.gapiScript}function Lx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Ox{constructor(){this.enterprise=new Mx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Vx="recaptcha-enterprise",C0="NO_RECAPTCHA";class Fx{constructor(e){this.type=Vx,this.auth=oo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{mx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new px(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;fy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(C0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ox().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&fy(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Nx();p.length!==0&&(p+=d),R0(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function _y(n,e,t,i=!1,o=!1){const l=new Fx(n);let c;if(o)c=C0;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function uf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _y(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _y(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e){const t=jf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(yc(l,e??{}))return o;Tr(o,"already-initialized")}return t.initialize({options:e})}function Ux(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function zx(n,e,t){const i=oo(n);be(i._canInitEmulator,i,"emulator-config-failed"),be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=P0(e),{host:c,port:d}=Bx(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),$x()}function P0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bx(n){const e=P0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:wy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:wy(c)}}}function wy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $x(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,t){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function Hx(n,e){return xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(n,e){return Al(n,"POST","/v1/accounts:signInWithPassword",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e){return Al(n,"POST","/v1/accounts:signInWithEmailLink",Is(n,e))}async function Kx(n,e){return Al(n,"POST","/v1/accounts:signInWithEmailLink",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Wf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new pl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,t,"signInWithPassword",Wx);case"emailLink":return qx(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,i,"signUpPassword",Hx);case"emailLink":return Kx(e,{idToken:t,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return Al(n,"POST","/v1/accounts:signInWithIdp",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="http://localhost";class to extends Wf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Uf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new to(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(n){const e=Za(el(n)).link,t=e?Za(el(e)).deep_link_id:null,i=Za(el(n)).deep_link_id;return(i?Za(el(i)).link:null)||i||t||e||n}class qf{constructor(e){var t,i,o,l,c,d;const p=Za(el(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,I=Qx((o=p.mode)!==null&&o!==void 0?o:null);be(y&&_&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Yx(e);try{return new qf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,t){return pl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=qf.parseLink(t);return be(i,"argument-error"),pl._fromEmailAndCode(e,i.code,i.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends kl{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return os.credential(t,i)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends kl{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends kl{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ls.credential(t,i)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n,e){return Al(n,"POST","/v1/accounts:signUp",Is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await gi._fromIdTokenResponse(e,i,o),c=Ey(i);return new no({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ey(i);return new no({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ey(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Si{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ec(e,t,i,o)}}function k0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(n,l,e,i):l})}async function Jx(n,e,t=!1){const i=await na(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return no._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(n,e,t=!1){const{auth:i}=n;if(Ur(i.app))return Promise.reject(vi(i));const o="reauthenticate";try{const l=await na(n,k0(i,o,e,n),t);be(l.idToken,i,"internal-error");const c=$f(l.idToken);be(c,i,"internal-error");const{sub:d}=c;return be(n.uid===d,i,"user-mismatch"),no._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(n,e,t=!1){if(Ur(n.app))return Promise.reject(vi(n));const i="signIn",o=await k0(n,i,e),l=await no._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function eR(n,e){return b0(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tR(n,e,t){if(Ur(n.app))return Promise.reject(vi(n));const i=oo(n),c=await uf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&N0(n),p}),d=await no._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function nR(n,e,t){return Ur(n.app)?Promise.reject(vi(n)):eR(Sr(n),ha.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&N0(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(n,e){return xi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Sr(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await na(i,rR(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function sR(n,e,t,i){return Sr(n).onIdTokenChanged(e,t,i)}function oR(n,e,t){return Sr(n).beforeAuthStateChanged(e,t)}function D0(n,e,t,i){return Sr(n).onAuthStateChanged(e,t,i)}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1e3,lR=10;class O0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);xx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const uR=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M0.type="SESSION";const V0=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await cR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=Kf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function dR(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function fR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mR(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firebaseLocalStorageDb",gR=1,Ic="firebaseLocalStorage",U0="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bc(n,e){return n.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function yR(){const n=indexedDB.deleteDatabase(j0);return new bl(n).toPromise()}function cf(){const n=indexedDB.open(j0,gR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ic,{keyPath:U0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ic)?e(i):(i.close(),await yR(),e(await cf()))})})}async function Ty(n,e,t){const i=Bc(n,!0).put({[U0]:e,value:t});return new bl(i).toPromise()}async function vR(n,e){const t=Bc(n,!1).get(e),i=await new bl(t).toPromise();return i===void 0?null:i.value}function Iy(n,e){const t=Bc(n,!0).delete(e);return new bl(t).toPromise()}const _R=800,wR=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>wR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(mR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new hR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cf();return await Ty(e,Tc,"1"),await Iy(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ty(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>vR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Bc(o,!1).getAll();return new bl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const ER=z0;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n,e){return e?yi(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Wf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function IR(n){return b0(n.auth,new Gf(n),n.bypassAuthState)}function SR(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),Zx(t,new Gf(n),n.bypassAuthState)}async function xR(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),Jx(t,new Gf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IR;case"linkViaPopup":case"linkViaRedirect":return xR;case"reauthViaPopup":case"reauthViaRedirect":return SR;default:Tr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Pl(2e3,1e4);class Qo extends B0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Kf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="pendingRedirect",ic=new Map;class PR extends B0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const i=await AR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(n,e){const t=NR(e),i=bR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function kR(n,e){ic.set(n._key(),e)}function bR(n){return yi(n._redirectPersistence)}function NR(n){return rc(CR,n.config.apiKey,n.name)}async function DR(n,e,t=!1){if(Ur(n.app))return Promise.reject(vi(n));const i=oo(n),o=TR(i,e),c=await new PR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=10*60*1e3;class OR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!$0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(e))}saveEventToCache(e){this.cachedEventUids.add(Sy(e)),this.lastProcessedEventTime=Date.now()}}function Sy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e={}){return xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jR=/^https?/;async function UR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VR(n);for(const t of e)try{if(zR(t))return}catch{}Tr(n,"unauthorized-domain")}function zR(n){const e=af(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!jR.test(t))return!1;if(FR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Pl(3e4,6e4);function xy(){const n=Hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $R(n){return new Promise((e,t)=>{var i,o,l;function c(){xy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xy(),t($r(n,"network-request-failed"))},timeout:BR.get()})}if(!((o=(i=Hr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Hr().gapi)===null||l===void 0)&&l.load)c();else{const d=Lx("iframefcb");return Hr()[d]=()=>{gapi.load?c():t($r(n,"network-request-failed"))},R0(`${Dx()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw sc=null,e})}let sc=null;function HR(n){return sc=sc||$R(n),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Pl(5e3,15e3),qR="__/auth/iframe",KR="emulator/auth/iframe",GR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bf(e,KR):`https://${n.config.authDomain}/${qR}`,i={apiKey:e.apiKey,appName:n.name,v:ca},o=QR.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Cl(i).slice(1)}`}async function XR(n){const e=await HR(n),t=Hr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:YR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),d=Hr().setTimeout(()=>{l(c)},WR.get());function p(){Hr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZR=500,eC=600,tC="_blank",nC="http://localhost";class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rC(n,e,t,i=ZR,o=eC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},JR),{width:i.toString(),height:o.toString(),top:l,left:c}),y=pn().toLowerCase();t&&(d=_0(y)?tC:t),y0(y)&&(e=e||nC,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[A,N])=>`${S}${A}=${N},`,"");if(Sx(y)&&d!=="_self")return iC(e||"",d),new Ry(null);const I=window.open(e||"",d,_);be(I,n,"popup-blocked");try{I.focus()}catch{}return new Ry(I)}function iC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="__/auth/handler",oC="emulator/auth/handler",aC=encodeURIComponent("fac");async function Cy(n,e,t,i,o,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ca,eventId:o};if(e instanceof A0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",qI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,I]of Object.entries({}))c[_]=I}if(e instanceof kl){const _=e.getScopes().filter(I=>I!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${aC}=${encodeURIComponent(p)}`:"";return`${lC(n)}?${Cl(d).slice(1)}${y}`}function lC({config:n}){return n.emulator?Bf(n,oC):`https://${n.authDomain}/${sC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=DR,this._overrideRedirectResult=kR}async _openPopup(e,t,i,o){var l;Ei((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Cy(e,t,i,af(),o);return rC(e,c,Kf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Cy(e,t,i,af(),o);return dR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ei(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await XR(e),i=new OR(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bd,{type:Bd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Bd];c!==void 0&&t(!!c),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S0()||v0()||Hf()}}const cC=uC;var Py="@firebase/auth",Ay="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fC(n){ta(new eo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(n)},y=new kx(i,o,l,p);return Ux(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ta(new eo("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(i=>new hC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(Py,Ay,dC(n)),fs(Py,Ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=5*60,mC=n0("authIdTokenMaxAge")||pC;let ky=null;const gC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>mC)return;const o=t==null?void 0:t.token;ky!==o&&(ky=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function H0(n=s0()){const e=jf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jx(n,{popupRedirectResolver:cC,persistence:[ER,uR,V0]}),i=n0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=gC(l.toString());oR(t,c,()=>c(t.currentUser)),sR(t,d=>c(d))}}const o=e0("auth");return o&&zx(t,`http://${o}`),t}function yC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bx({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=$r("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",yC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fC("Browser");const W0={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},vC=jc(W0),ys=H0(vC),_C=async(n,e,t,i)=>{const o=jc(W0),l=H0(o);nR(l,n,e).then(()=>{Br("success","Inicio de sesin exitoso."),t(!1),setTimeout(()=>{i("/")},1500)}).catch(c=>{const d=c.message;return t(!1),Br("error",d),!1})},wC=async n=>{ys.signOut().then(function(){console.log("Usuario ha cerrado sesin"),Br("success","Sesin cerrada exitosamente."),setTimeout(()=>{n("/")},1500)}).catch(function(e){console.error("Error al cerrar sesin",e),Br("error",e)})},EC=async(n,e,t,i)=>{tR(ys,n,e).then(()=>{t(!1),Br("success","Registro exitoso, porfavor revise su bandeja de entrada."),setTimeout(()=>{i("/login")},2e3)}).catch(o=>{const l=o.code,c=o.message;console.log(l),console.log(c),l==="auth/email-already-in-use"?Br("error","El email indicado ya se encuentra en uso, porfavor use otro."):l==="auth/weak-password"&&Br("error","La contrasea debe tener ms de 6 caracteres."),t(!1)})},TC=async n=>{const e=D0(ys,t=>{n(t||null)});return()=>e()},IC=async(n,e,t)=>{(async()=>D0(ys,o=>{o?(n(o),e(!1),o.photoURL!=null&&t(o.photoURL)):e(!1)}))()},SC=async n=>{ys.currentUser?n(ys.currentUser):n(null)},q0=async(n,e=null,t=null)=>{ys.currentUser!=null&&iR(ys.currentUser,t===null?{displayName:e}:{photoURL:t}).then(()=>{Br("success","Perfil actualizado."),setTimeout(()=>{n(!1)},1500)}).catch(i=>{console.log(i)})},xC=({state:n})=>{const e={main:"",content:"relative size-ful size-12",line1:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] rotate-45 translate-y-[21px]":"translate-y-[7px] -translate-x-[21px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`,line2:`absolute ${n?"hidden":"translate-y-[19px] -translate-x-[21px]"} w-11/12 h-[5px] bg-rd rounded-full duration-300`,line3:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] -rotate-45 translate-y-[21px]":"translate-y-[32px] -translate-x-[0px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`};return x.jsx("div",{className:e.main,children:x.jsxs("div",{className:e.content,children:[x.jsx("span",{className:e.line1}),x.jsx("span",{className:e.line2}),x.jsx("span",{className:e.line3})]})})},by=["Accin","Aventura","Fantasa","Isekai","Shonen","Sobrenatural"],RC={name:"Neko-Store",logo:""};console.log(RC);const K0=()=>{const n=ua(),[e,t]=M.useState(null),[i,o]=M.useState(!1),[l,c]=M.useState(!1),d={main:`fixed flex md:hidden top-[9vh] left-0 z-40 w-full h-[91vh] text-white bg-black/50 duration-300 ${i?"-translate-x-[0%]":"-translate-x-[100%]"}`,content:"relative w-[280px] z-20 bg-st-100 h-full flex flex-col gap-4",top:{main:"w-full flex p-2",logoBox:"",logo:""},list:"flex flex-col p-2",item:"flex gap-2 items-center py-1 cursor-pointer",itemIcon:"border-2 bg-st-200 rounded-full border-rd size-10 flex items-center justify-center overflow-hidden text-2xl bg-st/75",itemName:"",userPhoto:"size-full object-cover",header:{main:"w-full max-w-[1024px] h-[9vh] flex items-center text-white bg-st-200/75 md:bg-st-200 px-[15px]",menuBtn:"w-14 h-full flex items-center justify-center duration-300 ",userBtn:"size-8 border-2 self-center flex items-center justify-center rounded-full overflow-hidden",defaultIcon:"text-5xl text-[#ededed]",userImg:"size-full object-cover",categoriesBtnMain:"flex items-center gap-2 w-[90%]",categoriesBtnText:"flex w-[80%] justify-between",categoriesBtnIcon:`${l?"-rotate-90":"rotate-90"} text-2xl duration-300`,categoriesList:`scroll ${l?"flex flex-col":"hidden"} pl-6 overflow-auto max-h-32`,categoriesItem:"flex py-1 w-full h-full"},headerPc:{main:"hidden size-full md:flex justify-between items-center",optionsBoxMain:"h-full flex gap-4 items-center",optionsBox:"relative flex h-full group",title:"z-20 w-28 bg-st-200 hover:text-rd font-bold duration-300",optionsList:"absolute gap-1 left-2 -translate-y-[150%] group-hover:translate-y-0 z-0 flex flex-col top-[100%] bg-st-200 pt-0 pb-2 rounded-b overflow-hidden duration-300 ",items:"p-2 bg-st-200 hover:text-rd hover:text-rd font-bold duration-300",searchForm:"relative rounded-full bg-white pl-2 pr-6",searchInput:"w-32 focus:w-60 duration-300 outline-none py-[1px] truncate bg-transparent text-black",searchIcon:"absolute text-black right-1 top-[5px]"}},p=[{name:"Inicio",url:"/",icon:x.jsx(cI,{})},{name:"Categoras",url:"",icon:x.jsx(wI,{})},{name:e===null?"Iniciar sesin":"Perfil de usuario",url:e===null?"/login":"/edit-profile",icon:e===null?x.jsx(Od,{}):x.jsx(yI,{})}];return M.useEffect(()=>{TC(t)},[e,i]),M.useEffect(()=>{const y=setInterval(()=>{SC(t)},6e5);return()=>clearInterval(y)},[]),x.jsxs("div",{className:"fixed z-50 top-0 left-0 flex flex-col w-full bg-st-200/75 md:bg-st-200",children:[x.jsxs("header",{className:d.header.main,children:[x.jsxs("div",{className:"w-full flex md:hidden justify-between",children:[x.jsx("button",{className:d.header.menuBtn,onClick:()=>o(!i),children:x.jsx(xC,{state:i})}),x.jsx("span",{className:`${d.header.userBtn} ${(e==null?void 0:e.photoURL)!==null&&" border-rd"}`,children:e===null?x.jsx(Od,{className:d.header.defaultIcon}):e.photoURL===null?x.jsx(Od,{className:d.header.defaultIcon}):x.jsx(Hn,{to:"/edit-profile",children:x.jsx("img",{className:d.header.userImg,src:e.photoURL,alt:e.displayName+"-photo"})})})]}),x.jsxs("div",{className:d.headerPc.main,children:[x.jsxs("span",{className:d.headerPc.optionsBoxMain,children:[x.jsx(Hn,{to:"/",className:"font-bold",children:"Inicio"}),x.jsxs("div",{className:d.headerPc.optionsBox,children:[x.jsx("button",{className:d.headerPc.title,children:"Categorias"}),x.jsx("ul",{className:d.headerPc.optionsList,children:by.map((y,_)=>x.jsx("li",{children:x.jsx(Hn,{to:"",className:d.headerPc.items,children:y})},_))})]})]}),x.jsxs(xl,{className:d.headerPc.searchForm,children:[x.jsx("input",{className:d.headerPc.searchInput,type:"text",placeholder:"Buscar..."}),x.jsx(uI,{className:d.headerPc.searchIcon})]})]})]}),x.jsx("div",{className:d.main,children:x.jsx("div",{className:d.content,children:x.jsxs("ul",{className:d.list,children:[p.map((y,_)=>x.jsx("li",{children:y.name==="Categoras"?x.jsxs("div",{children:[x.jsxs("button",{className:d.header.categoriesBtnMain,onClick:()=>c(!l),children:[x.jsx("span",{className:d.itemIcon,children:y.icon}),x.jsxs("span",{className:d.header.categoriesBtnText,children:[x.jsx("h2",{children:y.name}),x.jsx(Yv,{className:d.header.categoriesBtnIcon})]})]}),x.jsx("ul",{className:d.header.categoriesList,children:by.map((I,S)=>x.jsx("li",{children:x.jsx(Hn,{to:"",className:d.header.categoriesItem,children:I})},S))})]}):x.jsxs(Hn,{className:d.item,to:y.url,onClick:()=>o(!1),children:[x.jsx("span",{className:d.itemIcon,children:y.name==="Perfil de usuario"&&e!==null&&e.photoURL!==null?x.jsx("img",{className:d.userPhoto,src:e.photoURL,alt:"user-profile-photo"}):y.icon}),x.jsx("h2",{className:d.itemName,children:y.name})]})},_)),e!=null&&x.jsxs("li",{className:d.item,onClick:()=>{wC(n),o(!1)},children:[x.jsx("span",{className:d.itemIcon,children:x.jsx(mI,{})}),x.jsx("h2",{className:d.itemName,children:"Cerrar sesin"})]})]})})})]})};function CC(){return x.jsxs("div",{className:"relative font-roboto",children:[x.jsx(K0,{}),x.jsx(yT,{}),x.jsx(Jw,{})]})}const ol=({type:n,name:e,title:t})=>{const[i,o]=M.useState(!1),[l,c]=M.useState(!0),d=y=>{y.target.value.length>=1?(c(!1),o(!0)):c(!0)};let p={main:"size-auto flex",content:"w-full flex items-end relative min-h-16  ",input:"relative bg-transparent z-10 border-b-2 w-full max-w-full text-xl sm:text-base outline-none py-2 sm:py-0 px-1 truncate text-gray-400 focus:border-rd focus:border-b-[2px] focus:text-white",title:`absolute z-0 left-6 text-xl sm:text-base font-bold duration-300 ${i?"text-rd":"text-white"} `,iconBox:"absolute z-10 -left-1 p-1 duration-300 ",icon:` ${i?"text-rd":"text-white"} text-xl sm:text-lg duration-300`,underText:"absolute -bottom-6 text-sm sm:text-[12px] text-gray-400"};return l==!1||i?(p.title+="-translate-y-12 sm:-translate-y-8",p.iconBox+="-translate-y-12 sm:-translate-y-8"):(p.title+="-translate-y-1",p.iconBox+="-translate-y-1"),x.jsx("div",{className:p.main,children:x.jsxs("div",{className:p.content,children:[x.jsx("label",{htmlFor:e,className:p.title,children:t}),x.jsx("input",{className:p.input,id:e,type:n,name:e,onChange:y=>d(y),onFocus:()=>o(!0),onBlur:()=>o(!1),required:!0}),x.jsx("span",{className:p.iconBox,children:n==="email"?x.jsx(II,{className:p.icon}):n==="password"?x.jsx(dI,{className:p.icon}):x.jsx(gI,{className:p.icon})}),n==="password"?x.jsxs("h5",{className:p.underText,children:[n==="password"&&e!="re-password"?"Debe tener al menos 6 caracteres.":"",n==="password"&&e==="re-password"?"Repite la contrasea":""]}):""]})})};var PC={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function G0(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return PC[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ny(n){var e=G0(n);return"".concat(e.value).concat(e.unit)}var Q0=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var o=document.createElement("style");document.head.appendChild(o);var l=o.sheet,c=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return l&&l.insertRule(c,0),i},Sc=function(){return Sc=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Sc.apply(this,arguments)},AC=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},kC=Q0("DotLoader","100% {transform: rotate(360deg)}","rotate"),bC=Q0("DotLoader","0%, 100% {transform: scale(0)} 50% {transform: scale(1.0)}","bounce");function da(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,o=i===void 0?"#000000":i,l=n.speedMultiplier,c=l===void 0?1:l,d=n.cssOverride,p=d===void 0?{}:d,y=n.size,_=y===void 0?60:y,I=AC(n,["loading","color","speedMultiplier","cssOverride","size"]),S=Sc({display:"inherit",position:"relative",width:Ny(_),height:Ny(_),animationFillMode:"forwards",animation:"".concat(kC," ").concat(2/c,"s 0s infinite linear")},p),A=function(N){var z=G0(_),j=z.value,D=z.unit;return{position:"absolute",top:N%2?"0":"auto",bottom:N%2?"auto":"0",height:"".concat(j/2).concat(D),width:"".concat(j/2).concat(D),backgroundColor:o,borderRadius:"100%",animationFillMode:"forwards",animation:"".concat(bC," ").concat(2/c,"s ").concat(N===2?"1s":"0s"," infinite linear")}};return t?M.createElement("span",Sc({style:S},I),M.createElement("span",{style:A(1)}),M.createElement("span",{style:A(2)})):null}const NC=(n,e)=>{switch(n){case"error":lt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":lt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}},DC={display:"block",margin:"0 auto",borderColor:"red"},LC=()=>{const n=ua(),[e,t]=M.useState(!1),i={main:"flex flex-col items-center justify-center",content:"flex flex-col bg-st-200 rounded p-2 gap-6 min-h-96 min-w-72",formMain:"flex flex-col gap-6 justify-start p-4",formBtn:"rounded text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"",link:"text-rd underline hover:font-bold hover:text-lg duration-300"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function l(c){c.preventDefault();const d=new FormData(c.currentTarget),p=d.get("mail")||"",y=d.get("password")||"";y!=null&&(y.length<5?NC("error","La contrasea debe tener ms de 4 carcteres."):_C(p,y,t,n))}return x.jsxs("section",{className:i.main,children:[x.jsxs("div",{className:i.content,children:[x.jsxs(xl,{className:i.formMain,onSubmit:c=>{t(!0),l(c)},autoComplete:"off",children:[x.jsx(ol,{name:"mail",type:"email",title:"Email"}),x.jsx(ol,{name:"password",type:"password",title:"Contrasea"}),x.jsx("button",{type:"submit",className:i.formBtn,children:"Iniciar sesion"})]}),x.jsxs("div",{className:i.bottomBox.main,children:[x.jsx("p",{className:i.bottomBox.txt,children:"An no tienes cuenta?"}),x.jsx(Hn,{className:i.bottomBox.link,to:"/register",children:"registrate"})]})]}),x.jsx("div",{className:i.spinner,children:x.jsx(da,{color:o.color,loading:e,cssOverride:DC,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},OC=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center bg-st-100"};return x.jsx("div",{className:n.main,children:x.jsx("div",{className:n.content,children:x.jsx(LC,{})})})},MC={display:"block",margin:"0 auto",borderColor:"red"},VC=()=>{const[n,e]=M.useState(!1),t=ua(),i={main:"size-full flex flex-col items-center justify-center ",content:"w-full max-w-[340px] flex flex-col bg-st-200 rounded p-2",title:"text-lg text-center text-white font-bold mt-5 sm:mt-2 sm:pb-2",formMain:"flex flex-col gap-8 sm:gap-4 justify-start p-4 sm:px-4 sm:pt-0",formBtn:"rounded h-[55px] text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"flex gap-2",link:"text-rd font-bold underline"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function l(c){e(!0);const d=new FormData(c.currentTarget),p=d.get("mail")||"",y=d.get("password")||"",_=d.get("re-password")||"";if(y!=null&&y.length<5){e(!1),Br("error","La contrasea debe tener ms de 4 carcteres.");return}if(_!=y){e(!1),Br("error","Las contraseas deben ser iguales");return}EC(p,y,e,t)}return x.jsxs("section",{className:i.main,children:[x.jsxs("div",{className:i.content,children:[x.jsx("h1",{className:i.title,children:"REGISTRO DE USUARIO"}),x.jsx("hr",{className:"w-[30%] h-[1px] bg-white self-center my-3 sm:my-0"}),x.jsxs(xl,{className:i.formMain,onSubmit:c=>l(c),autoComplete:"off",children:[x.jsx(ol,{name:"mail",type:"email",title:"Email"}),x.jsx(ol,{name:"password",type:"password",title:"Contrasea"}),x.jsx(ol,{name:"re-password",type:"password",title:"Repite la contrasea"}),x.jsx("button",{type:"submit",className:i.formBtn,children:"Registrarse"})]}),x.jsx("div",{className:i.bottomBox.main,children:x.jsxs("p",{className:i.bottomBox.txt,children:[" Ya tienes cuenta ?",x.jsx(Hn,{className:i.bottomBox.link,to:"/login",children:"Inicia sesin"})]})})]}),x.jsx("div",{className:i.spinner,children:x.jsx(da,{color:o.color,loading:n,cssOverride:MC,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},FC=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center p-8 bg-st-100"};return x.jsxs("div",{className:n.main,children:[x.jsx("div",{className:n.content,children:x.jsx(VC,{})}),x.jsx(K0,{})]})},jC=({name:n,image:e})=>{const t={main:"flex size-full group",content:"relative rounded p-2 flex size-full items-end justify-center shadow-[0px_0px_10px_0px] shadow-transparent group-hover:shadow-rd",imageBox:"absolute left-0 top-0 z-0 size-full rounded overflow-hidden ",image:"size-full object-cover rounded",title:"font-bold z-10 group-hover:text-rd group-hover:underline text-white text-center"};return x.jsx("div",{className:t.main,children:x.jsxs(Hn,{to:`/details/${n}`,className:t.content,children:[x.jsx("picture",{className:t.imageBox,children:x.jsx("img",{className:t.image,src:e,alt:"",loading:"lazy",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}})}),x.jsx("h1",{className:t.title,children:n})]})})},UC=({data:n})=>{const e={main:"flex w-full justify-center font-roboto",list:"w-full max-w-[1024px] grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-x-4",items:"w-full h-[320px]"};return x.jsx("div",{className:e.main,children:x.jsx("ul",{className:e.list,children:n.map((t,i)=>x.jsx("li",{className:e.items,children:x.jsx(jC,{name:t.name,image:t.images[0]})},i))})})};var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,Y0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function R(){}R.prototype=T.prototype,C.D=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(b,V,B){for(var k=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)k[ht-2]=arguments[ht];return T.prototype[V].apply(b,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,R){R||(R=0);var b=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)b[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)b[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=C.g[0],R=C.g[1],V=C.g[2];var B=C.g[3],k=T+(B^R&(V^B))+b[0]+3614090360&4294967295;T=R+(k<<7&4294967295|k>>>25),k=B+(V^T&(R^V))+b[1]+3905402710&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(R^B&(T^R))+b[2]+606105819&4294967295,V=B+(k<<17&4294967295|k>>>15),k=R+(T^V&(B^T))+b[3]+3250441966&4294967295,R=V+(k<<22&4294967295|k>>>10),k=T+(B^R&(V^B))+b[4]+4118548399&4294967295,T=R+(k<<7&4294967295|k>>>25),k=B+(V^T&(R^V))+b[5]+1200080426&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(R^B&(T^R))+b[6]+2821735955&4294967295,V=B+(k<<17&4294967295|k>>>15),k=R+(T^V&(B^T))+b[7]+4249261313&4294967295,R=V+(k<<22&4294967295|k>>>10),k=T+(B^R&(V^B))+b[8]+1770035416&4294967295,T=R+(k<<7&4294967295|k>>>25),k=B+(V^T&(R^V))+b[9]+2336552879&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(R^B&(T^R))+b[10]+4294925233&4294967295,V=B+(k<<17&4294967295|k>>>15),k=R+(T^V&(B^T))+b[11]+2304563134&4294967295,R=V+(k<<22&4294967295|k>>>10),k=T+(B^R&(V^B))+b[12]+1804603682&4294967295,T=R+(k<<7&4294967295|k>>>25),k=B+(V^T&(R^V))+b[13]+4254626195&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(R^B&(T^R))+b[14]+2792965006&4294967295,V=B+(k<<17&4294967295|k>>>15),k=R+(T^V&(B^T))+b[15]+1236535329&4294967295,R=V+(k<<22&4294967295|k>>>10),k=T+(V^B&(R^V))+b[1]+4129170786&4294967295,T=R+(k<<5&4294967295|k>>>27),k=B+(R^V&(T^R))+b[6]+3225465664&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^R&(B^T))+b[11]+643717713&4294967295,V=B+(k<<14&4294967295|k>>>18),k=R+(B^T&(V^B))+b[0]+3921069994&4294967295,R=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(R^V))+b[5]+3593408605&4294967295,T=R+(k<<5&4294967295|k>>>27),k=B+(R^V&(T^R))+b[10]+38016083&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^R&(B^T))+b[15]+3634488961&4294967295,V=B+(k<<14&4294967295|k>>>18),k=R+(B^T&(V^B))+b[4]+3889429448&4294967295,R=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(R^V))+b[9]+568446438&4294967295,T=R+(k<<5&4294967295|k>>>27),k=B+(R^V&(T^R))+b[14]+3275163606&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^R&(B^T))+b[3]+4107603335&4294967295,V=B+(k<<14&4294967295|k>>>18),k=R+(B^T&(V^B))+b[8]+1163531501&4294967295,R=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(R^V))+b[13]+2850285829&4294967295,T=R+(k<<5&4294967295|k>>>27),k=B+(R^V&(T^R))+b[2]+4243563512&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^R&(B^T))+b[7]+1735328473&4294967295,V=B+(k<<14&4294967295|k>>>18),k=R+(B^T&(V^B))+b[12]+2368359562&4294967295,R=V+(k<<20&4294967295|k>>>12),k=T+(R^V^B)+b[5]+4294588738&4294967295,T=R+(k<<4&4294967295|k>>>28),k=B+(T^R^V)+b[8]+2272392833&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^R)+b[11]+1839030562&4294967295,V=B+(k<<16&4294967295|k>>>16),k=R+(V^B^T)+b[14]+4259657740&4294967295,R=V+(k<<23&4294967295|k>>>9),k=T+(R^V^B)+b[1]+2763975236&4294967295,T=R+(k<<4&4294967295|k>>>28),k=B+(T^R^V)+b[4]+1272893353&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^R)+b[7]+4139469664&4294967295,V=B+(k<<16&4294967295|k>>>16),k=R+(V^B^T)+b[10]+3200236656&4294967295,R=V+(k<<23&4294967295|k>>>9),k=T+(R^V^B)+b[13]+681279174&4294967295,T=R+(k<<4&4294967295|k>>>28),k=B+(T^R^V)+b[0]+3936430074&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^R)+b[3]+3572445317&4294967295,V=B+(k<<16&4294967295|k>>>16),k=R+(V^B^T)+b[6]+76029189&4294967295,R=V+(k<<23&4294967295|k>>>9),k=T+(R^V^B)+b[9]+3654602809&4294967295,T=R+(k<<4&4294967295|k>>>28),k=B+(T^R^V)+b[12]+3873151461&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^R)+b[15]+530742520&4294967295,V=B+(k<<16&4294967295|k>>>16),k=R+(V^B^T)+b[2]+3299628645&4294967295,R=V+(k<<23&4294967295|k>>>9),k=T+(V^(R|~B))+b[0]+4096336452&4294967295,T=R+(k<<6&4294967295|k>>>26),k=B+(R^(T|~V))+b[7]+1126891415&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~R))+b[14]+2878612391&4294967295,V=B+(k<<15&4294967295|k>>>17),k=R+(B^(V|~T))+b[5]+4237533241&4294967295,R=V+(k<<21&4294967295|k>>>11),k=T+(V^(R|~B))+b[12]+1700485571&4294967295,T=R+(k<<6&4294967295|k>>>26),k=B+(R^(T|~V))+b[3]+2399980690&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~R))+b[10]+4293915773&4294967295,V=B+(k<<15&4294967295|k>>>17),k=R+(B^(V|~T))+b[1]+2240044497&4294967295,R=V+(k<<21&4294967295|k>>>11),k=T+(V^(R|~B))+b[8]+1873313359&4294967295,T=R+(k<<6&4294967295|k>>>26),k=B+(R^(T|~V))+b[15]+4264355552&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~R))+b[6]+2734768916&4294967295,V=B+(k<<15&4294967295|k>>>17),k=R+(B^(V|~T))+b[13]+1309151649&4294967295,R=V+(k<<21&4294967295|k>>>11),k=T+(V^(R|~B))+b[4]+4149444226&4294967295,T=R+(k<<6&4294967295|k>>>26),k=B+(R^(T|~V))+b[11]+3174756917&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~R))+b[2]+718787259&4294967295,V=B+(k<<15&4294967295|k>>>17),k=R+(B^(V|~T))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+B&4294967295}i.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var R=T-this.blockSize,b=this.B,V=this.h,B=0;B<T;){if(V==0)for(;B<=R;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<T;)if(b[V++]=C.charCodeAt(B++),V==this.blockSize){o(this,b),V=0;break}}else for(;B<T;)if(b[V++]=C[B++],V==this.blockSize){o(this,b),V=0;break}}this.h=V,this.o+=T},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var R=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=R&255,R/=256;for(this.u(C),C=Array(16),T=R=0;4>T;++T)for(var b=0;32>b;b+=8)C[R++]=this.g[T]>>>b&255;return C};function l(C,T){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=T(C)}function c(C,T){this.h=T;for(var R=[],b=!0,V=C.length-1;0<=V;V--){var B=C[V]|0;b&&B==T||(R[V]=B,b=!1)}this.g=R}var d={};function p(C){return-128<=C&&128>C?l(C,function(T){return new c([T|0],0>T?-1:0)}):new c([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return I;if(0>C)return j(y(-C));for(var T=[],R=1,b=0;C>=R;b++)T[b]=C/R|0,R*=4294967296;return new c(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return j(_(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),b=I,V=0;V<C.length;V+=8){var B=Math.min(8,C.length-V),k=parseInt(C.substring(V,V+B),T);8>B?(B=y(Math.pow(T,B)),b=b.j(B).add(y(k))):(b=b.j(R),b=b.add(y(k)))}return b}var I=p(0),S=p(1),A=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-j(this).m();for(var C=0,T=1,R=0;R<this.g.length;R++){var b=this.i(R);C+=(0<=b?b:4294967296+b)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(z(this))return"-"+j(this).toString(C);for(var T=y(Math.pow(C,6)),R=this,b="";;){var V=ee(R,T).g;R=D(R,V.j(T));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,N(R))return B+b;for(;6>B.length;)B="0"+B;b=B+b}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function z(C){return C.h==-1}n.l=function(C){return C=D(this,C),z(C)?-1:N(C)?0:1};function j(C){for(var T=C.g.length,R=[],b=0;b<T;b++)R[b]=~C.g[b];return new c(R,~C.h).add(S)}n.abs=function(){return z(this)?j(this):this},n.add=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0,V=0;V<=T;V++){var B=b+(this.i(V)&65535)+(C.i(V)&65535),k=(B>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);b=k>>>16,B&=65535,k&=65535,R[V]=k<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function D(C,T){return C.add(j(T))}n.j=function(C){if(N(this)||N(C))return I;if(z(this))return z(C)?j(this).j(j(C)):j(j(this).j(C));if(z(C))return j(this.j(j(C)));if(0>this.l(A)&&0>C.l(A))return y(this.m()*C.m());for(var T=this.g.length+C.g.length,R=[],b=0;b<2*T;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var V=0;V<C.g.length;V++){var B=this.i(b)>>>16,k=this.i(b)&65535,ht=C.i(V)>>>16,ze=C.i(V)&65535;R[2*b+2*V]+=k*ze,G(R,2*b+2*V),R[2*b+2*V+1]+=B*ze,G(R,2*b+2*V+1),R[2*b+2*V+1]+=k*ht,G(R,2*b+2*V+1),R[2*b+2*V+2]+=B*ht,G(R,2*b+2*V+2)}for(b=0;b<T;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=T;b<2*T;b++)R[b]=0;return new c(R,0)};function G(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function Y(C,T){this.g=C,this.h=T}function ee(C,T){if(N(T))throw Error("division by zero");if(N(C))return new Y(I,I);if(z(C))return T=ee(j(C),T),new Y(j(T.g),j(T.h));if(z(T))return T=ee(C,j(T)),new Y(j(T.g),T.h);if(30<C.g.length){if(z(C)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,b=T;0>=b.l(C);)R=F(R),b=F(b);var V=se(R,1),B=se(b,1);for(b=se(b,2),R=se(R,2);!N(b);){var k=B.add(b);0>=k.l(C)&&(V=V.add(R),B=k),b=se(b,1),R=se(R,1)}return T=D(C,V.j(T)),new Y(V,T)}for(V=I;0<=C.l(T);){for(R=Math.max(1,Math.floor(C.m()/T.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),B=y(R),k=B.j(T);z(k)||0<k.l(C);)R-=b,B=y(R),k=B.j(T);N(B)&&(B=S),V=V.add(B),C=D(C,k)}return new Y(V,C)}n.A=function(C){return ee(this,C).h},n.and=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)&C.i(b);return new c(R,this.h&C.h)},n.or=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)|C.i(b);return new c(R,this.h|C.h)},n.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)^C.i(b);return new c(R,this.h^C.h)};function F(C){for(var T=C.g.length+1,R=[],b=0;b<T;b++)R[b]=C.i(b)<<1|C.i(b-1)>>>31;return new c(R,C.h)}function se(C,T){var R=T>>5;T%=32;for(var b=C.g.length-R,V=[],B=0;B<b;B++)V[B]=0<T?C.i(B+R)>>>T|C.i(B+R+1)<<32-T:C.i(B+R);return new c(V,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Y0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Xs=c}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,tl,J0,oc,hf,Z0,e_,t_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var W=u[E];if(!(W in v))break e;v=v[W]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,W={next:function(){if(!E&&v<u.length){var J=v++;return{value:m(J,u[J]),done:!1}}return E=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,E),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:I,S.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,W,J){for(var ce=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ce[ct-2]=arguments[ct];return m.prototype[W].apply(E,ce)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const W=u.length||0,J=E.length||0;u.length=W+J;for(let ce=0;ce<J;ce++)u[W+ce]=E[ce]}else u.push(E)}}class D{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var F=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function se(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,E;for(let W=1;W<arguments.length;W++){E=arguments[W];for(v in E)u[v]=E[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){d.setTimeout(()=>{throw u},0)}function k(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=ze.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var ze=new D(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ae=!1,Te=new ht,de=()=>{const u=d.Promise.resolve(void 0);je=()=>{u.then($)}};var $=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){B(v)}var m=ze;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function De(u,m){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{ee(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}N(De,we);var Be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Me(u,m,v,E,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=W,this.key=++Ze,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wn(u){this.src=u,this.g={},this.h=0}Wn.prototype.add=function(u,m,v,E,W){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var ce=rn(u,m,E,W);return-1<ce?(m=u[ce],v||(m.fa=!1)):(m=new Me(m,this.src,J,!!E,W),m.fa=v,u.push(m)),m};function Ri(u,m){var v=m.type;if(v in u.g){var E=u.g[v],W=Array.prototype.indexOf.call(E,m,void 0),J;(J=0<=W)&&Array.prototype.splice.call(E,W,1),J&&(pt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function rn(u,m,v,E){for(var W=0;W<u.length;++W){var J=u[W];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==E)return W}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),Ci={};function Pi(u,m,v,E,W){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Pi(u,m[J],v,E,W);return null}return v=Tn(v),u&&u[Je]?u.K(m,v,y(E)?!!E.capture:!!E,W):Ss(u,m,v,!1,E,W)}function Ss(u,m,v,E,W,J){if(!m)throw Error("Invalid event type");var ce=y(W)?!!W.capture:!!W,ct=Xr(u);if(ct||(u[Yr]=ct=new Wn(u)),v=ct.add(m,v,E,ce,J),v.proxy)return v;if(E=lo(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Le||(W=ce),W===void 0&&(W=!1),u.addEventListener(m.toString(),E,W);else if(u.attachEvent)u.attachEvent(Kt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function lo(){function u(v){return m.call(u.src,u.listener,v)}const m=nr;return u}function Ai(u,m,v,E,W){if(Array.isArray(m))for(var J=0;J<m.length;J++)Ai(u,m[J],v,E,W);else E=y(E)?!!E.capture:!!E,v=Tn(v),u&&u[Je]?(u=u.i,m=String(m).toString(),m in u.g&&(J=u.g[m],v=rn(J,v,E,W),-1<v&&(pt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete u.g[m],u.h--)))):u&&(u=Xr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rn(m,v,E,W)),(v=-1<u?m[u]:null)&&tr(v))}function tr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Je])Ri(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Kt(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Xr(m))?(Ri(v,u),v.h==0&&(v.src=null,m[Yr]=null)):pt(u)}}}function Kt(u){return u in Ci?Ci[u]:Ci[u]="on"+u}function nr(u,m){if(u.da)u=!0;else{m=new De(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&tr(u),u=v.call(E,m)}return u}function Xr(u){return u=u[Yr],u instanceof Wn?u:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(m){return u.handleEvent(m)}),u[xr])}function ut(){Z.call(this),this.i=new Wn(this),this.M=this,this.F=null}N(ut,Z),ut.prototype[Je]=!0,ut.prototype.removeEventListener=function(u,m,v,E){Ai(this,u,m,v,E)};function Rt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new we(m,u);else if(m instanceof we)m.target=m.target||u;else{var W=m;m=new we(E,u),b(m,W)}if(W=!0,v)for(var J=v.length-1;0<=J;J--){var ce=m.g=v[J];W=On(ce,E,!0,m)&&W}if(ce=m.g=u,W=On(ce,E,!0,m)&&W,W=On(ce,E,!1,m)&&W,v)for(J=0;J<v.length;J++)ce=m.g=v[J],W=On(ce,E,!1,m)&&W}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)pt(v[E]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ut.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function On(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,J=0;J<m.length;++J){var ce=m[J];if(ce&&!ce.da&&ce.capture==v){var ct=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Ri(u.i,ce),W=ct.call(Mt,E)!==!1&&W}}return W&&!E.defaultPrevented}function xs(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Gt(u){u.g=xs(()=>{u.g=null,u.i&&(u.i=!1,Gt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rr extends Z{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){Z.call(this),this.h=u,this.g={}}N(Cr,Z);var ki=[];function Rs(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&tr(m)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Rs(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=d.JSON.stringify,Pr=d.JSON.parse,Ni=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rr(){}rr.prototype.h=null;function Di(u){return u.h||(u.h=u.i())}function Jr(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){we.call(this,"d")}N(Mn,we);function ir(){we.call(this,"c")}N(ir,we);var mn={},Cs=null;function Zr(){return Cs=Cs||new ut}mn.La="serverreachability";function O(u){we.call(this,mn.La,u)}N(O,we);function H(u){const m=Zr();Rt(m,new O(m))}mn.STAT_EVENT="statevent";function X(u,m){we.call(this,mn.STAT_EVENT,u),this.stat=m}N(X,we);function te(u){const m=Zr();Rt(m,new X(m,u))}mn.Ma="timingevent";function fe(u,m){we.call(this,mn.Ma,u),this.size=m}N(fe,we);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function pe(u,m,v,E,W,J){u.info(function(){if(u.g)if(J)for(var ce="",ct=J.split("&"),Mt=0;Mt<ct.length;Mt++){var Ge=ct[Mt].split("=");if(1<Ge.length){var zt=Ge[0];Ge=Ge[1];var Nt=zt.split("_");ce=2<=Nt.length&&Nt[1]=="type"?ce+(zt+"="+Ge+"&"):ce+(zt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+E+") [attempt "+W+"]: "+m+`
`+v+`
`+ce})}function _e(u,m,v,E,W,J,ce){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+W+"]: "+m+`
`+v+`
`+J+" "+ce})}function ue(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ve(u,v)+(E?" "+E:"")})}function ke(u,m){u.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function Ve(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var W=E[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return bi(v)}catch{return m}}var st={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},He;function et(){}N(et,rr),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},He=new et;function ot(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var or={},sn={};function Qt(u,m,v){u.L=1,u.v=Vi(Vn(m)),u.m=v,u.P=!0,ei(u,null)}function ei(u,m){u.F=Date.now(),at(u),u.A=Vn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ji(v.i,"t",E),u.C=0,v=u.j.J,u.h=new sr,u.g=Ql(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Rr(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(ki[0]=W.toString()),W=ki);for(var J=0;J<W.length;J++){var ce=Pi(v,W[J],E||m.handleEvent,!1,m.h||m);if(!ce)break;m.g[ce.key]=ce}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),H(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}ot.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},ot.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=Rn(this.g);var m=this.g.Ba();const Kn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||wa(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=Kn?H(3):H(2)),Ke(this);var v=this.g.Z();this.X=v;t:if(Ar(this)){var E=wa(this.g);u="";var W=E.length,J=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),mt(this);var ce="";break t}this.h.i=new d.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(J&&m==W-1)});E.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Mt=this.g;if((ct=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ct)){var Ge=ct;break t}}Ge=null}if(v=Ge)ue(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,v);else{this.o=!1,this.s=3,te(12),Yt(this),mt(this);break e}}if(this.P){v=!0;let jn;for(;!this.J&&this.C<ce.length;)if(jn=ar(this,ce),jn==sn){Nt==4&&(this.s=4,te(14),v=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==or){this.s=4,te(15),ue(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else ue(this.i,this.l,jn,null),lr(this,jn);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ce.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)ue(this.i,this.l,ce,"[Invalid Chunked Response]"),Yt(this),mt(this);else if(0<ce.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ta(zt),zt.M=!0,te(11))}}else ue(this.i,this.l,ce,null),lr(this,ce);Nt==4&&Yt(this),this.o&&!this.J&&(Nt==4?Eo(this.j,this):(this.o=!1,at(this)))}else go(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Yt(this),mt(this)}}}catch{}finally{}};function Ar(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?sn:(v=Number(m.substring(v,E)),isNaN(v)?or:(E+=1,E+v>m.length?sn:(m=m.slice(E,E+v),u.C=E+v,m)))}ot.prototype.cancel=function(){this.J=!0,Yt(this)};function at(u){u.S=Date.now()+u.I,ti(u,u.I)}function ti(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(S(u.ba,u),m)}function Ke(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ot.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ke(this.i,this.A),this.L!=2&&(H(),te(17)),Yt(this),this.s=2,mt(this)):ti(this,this.S-u)};function mt(u){u.j.G==0||u.J||Eo(u.j,u)}function Yt(u){Ke(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Rs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function lr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||gn(v.h,u))){if(!u.K&&gn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var W=E;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)wo(v),fr(v);else break e;_o(v),te(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(S(v.Za,v),6e3));if(1>=uo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else oi(v,11)}else if((u.K||v.g==u)&&wo(v),!G(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let Ge=W[m];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const zt=Ge[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Nt=Ge[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Kn=Ge[5];Kn!=null&&typeof Kn=="number"&&0<Kn&&(E=1.5*Kn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const jn=u.g;if(jn){const Ds=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var J=E.h;J.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ga(J,J.h),J.h=null))}if(E.D){const Io=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(E.ya=Io,dt(E.I,E.D,Io))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ce=u;if(E.qa=Gl(E,E.J?E.ia:null,E.W),ce.K){Ml(E.h,ce);var ct=ce,Mt=E.L;Mt&&(ct.I=Mt),ct.B&&(Ke(ct),at(ct)),E.g=ce}else Ns(E);0<v.i.length&&Dr(v)}else Ge[0]!="stop"&&Ge[0]!="close"||oi(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?oi(v,7):Jt(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}H(4)}catch{}}var gt=class{constructor(u,m){this.g=u,this.map=m}};function Sn(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uo(u){return u.h?1:u.g?u.g.size:0}function gn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ga(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sn.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function co(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function ho(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function Li(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=ho(u),E=co(u),W=E.length,J=0;J<W;J++)m.call(void 0,E[J],v&&v[J],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),W=null;if(0<=E){var J=u[v].substring(0,E);W=u[v].substring(E+1)}else J=u[v];m(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ni){this.h=u.h,As(this,u.j),this.o=u.o,this.g=u.g,Oi(this,u.s),this.l=u.l;var m=u.i,v=new kr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Mi(this,v),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,As(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Oi(this,m[4]),this.l=We(m[5]||"",!0),Mi(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}ni.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fi(m,fo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fi(m,fo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Fi(v,v.charAt(0)=="/"?Ul:jl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Fi(v,ya)),u.join("")};function Vn(u){return new ni(u)}function As(u,m,v){u.j=v?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Oi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Mi(u,m,v){m instanceof kr?(u.i=m,br(u.i,u.h)):(v||(m=Fi(m,zl)),u.i=new kr(m,u.h))}function dt(u,m,v){u.i.set(m,v)}function Vi(u){return dt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,jl=/[#\?:]/g,Ul=/[#\?]/g,zl=/[#\?@]/g,ya=/#/g;function kr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Xt(u){u.g||(u.g=new Map,u.h=0,u.i&&nh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=kr.prototype,n.add=function(u,m){Xt(this),this.i=null,u=qn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ur(u,m){Xt(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function cr(u,m){return Xt(u),m=qn(u,m),u.g.has(m)}n.forEach=function(u,m){Xt(this),this.g.forEach(function(v,E){v.forEach(function(W){u.call(m,W,E,this)},this)},this)},n.na=function(){Xt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const W=u[E];for(let J=0;J<W.length;J++)v.push(m[E])}return v},n.V=function(u){Xt(this);let m=[];if(typeof u=="string")cr(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Xt(this),this.i=null,u=qn(this,u),cr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ji(u,m,v){ur(u,m),0<v.length&&(u.i=null,u.g.set(qn(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const J=encodeURIComponent(String(E)),ce=this.V(E);for(E=0;E<ce.length;E++){var W=J;ce[E]!==""&&(W+="="+encodeURIComponent(String(ce[E]))),u.push(W)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function br(u,m){m&&!u.j&&(Xt(u),u.i=null,u.g.forEach(function(v,E){var W=E.toLowerCase();E!=W&&(ur(this,E),ji(this,W,v))},u)),u.j=m}function rh(u,m){const v=new Re;if(d.Image){const E=new Image;E.onload=A(xn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=A(xn,v,"TestLoadImage: error",!1,m,E),E.onabort=A(xn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(xn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Bl(u,m){const v=new Re,E=new AbortController,W=setTimeout(()=>{E.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(J=>{clearTimeout(W),J.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,E,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),E(v)}catch{}}function ih(){this.g=new Ni}function $l(u,m,v){const E=v||"";try{Li(u,function(W,J){let ce=W;y(W)&&(ce=bi(W)),m.push(E+J+"="+encodeURIComponent(ce))})}catch(W){throw m.push(E+"type="+encodeURIComponent("_badmap")),W}}function ri(u){this.l=u.Ub||null,this.j=u.eb||!1}N(ri,rr),ri.prototype.g=function(){return new ks(this.l,this.j)},ri.prototype.i=function(u){return function(){return u}}({});function ks(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ks,ut),n=ks.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,dr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):dr(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,hr(this))},n.Qa=function(u){this.g&&(this.response=u,hr(this))},n.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function dr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ii(u){let m="";return se(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Ui(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=ii(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):dt(u,m,v))}function wt(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(wt,ut);var sh=/^https?$/i,va=["POST","PUT"];n=wt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():He.g(),this.v=this.o?Di(this.o):Di(He),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(J){bs(this,J);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var W in E)v.set(W,E[W]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const J of E.keys())v.set(J,E.get(J));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),W=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(va,m,void 0))||E||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of v)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){bs(this,J)}};function bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,po(u),Fn(u)}function po(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},n.bb=function(){_a(this)};function _a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)xs(u.Ea,0,u);else if(Rt(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ce===0){var W=String(u.D).match(Ps)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),E=!sh.test(W?W.toLowerCase():"")}v=E}if(v)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var J=2<Rn(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",po(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){mo(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Rt(u,"ready");try{v.onreadystatechange=E}catch{}}}function mo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pr(m)}};function wa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function go(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(G(u[E]))continue;var v=V(u[E]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[W]||[];m[W]=J,J.push(v)}C(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ea(u){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,u),this.cb=Nr("retryDelaySeedMs",1e4,u),this.Wa=Nr("forwardChannelMaxRetries",2,u),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Sn(u&&u.concurrentRequestLimit),this.Da=new ih,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ea.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){te(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Gl(this,null,this.W),Dr(this)};function Jt(u){if(yo(u),u.G==3){var m=u.U++,v=Vn(u.I);if(dt(v,"SID",u.K),dt(v,"RID",m),dt(v,"TYPE","terminate"),si(u,v),m=new ot(u,u.j,m),m.L=2,m.v=Vi(Vn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ql(m.j,null),m.g.ea(m.v)),m.F=Date.now(),at(m)}Kl(u)}function fr(u){u.g&&(Ta(u),u.g.cancel(),u.g=null)}function yo(u){fr(u),u.u&&(d.clearTimeout(u.u),u.u=null),wo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Dr(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;je||de(),ae||(je(),ae=!0),Te.add(m,u),u.B=0}}function oh(u,m){return uo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(S(u.Ga,u,m),ql(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new ot(this,this.j,u);let J=this.o;if(this.S&&(J?(J=T(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=zi(this,W,m),v=Vn(this.I),dt(v,"RID",u),dt(v,"CVER",22),this.D&&dt(v,"X-HTTP-Session-Id",this.D),si(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(ii(J)))+"&"+m:this.m&&Ui(v,this.m,J)),ga(this.h,W),this.Ua&&dt(v,"TYPE","init"),this.P?(dt(v,"$req",m),dt(v,"SID","null"),W.T=!0,Qt(W,v,null)):Qt(W,v,m),this.G=2}}else this.G==3&&(u?vo(this,u):this.i.length==0||on(this.h)||vo(this))};function vo(u,m){var v;m?v=m.l:v=u.U++;const E=Vn(u.I);dt(E,"SID",u.K),dt(E,"RID",v),dt(E,"AID",u.T),si(u,E),u.m&&u.o&&Ui(E,u.m,u.o),v=new ot(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=zi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ga(u.h,v),Qt(v,E,m)}function si(u,m){u.H&&se(u.H,function(v,E){dt(m,E,v)}),u.l&&Li({},function(v,E){dt(m,E,v)})}function zi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?S(u.l.Na,u.l,u):null;e:{var W=u.i;let J=-1;for(;;){const ce=["count="+v];J==-1?0<v?(J=W[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let ct=!0;for(let Mt=0;Mt<v;Mt++){let Ge=W[Mt].g;const zt=W[Mt].map;if(Ge-=J,0>Ge)J=Math.max(0,W[Mt].g-100),ct=!1;else try{$l(zt,ce,"req"+Ge+"_")}catch{E&&E(zt)}}if(ct){E=ce.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function Ns(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;je||de(),ae||(je(),ae=!0),Te.add(m,u),u.v=0}}function _o(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(S(u.Fa,u),ql(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),fr(this),Wl(this))};function Ta(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new ot(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Vn(u.qa);dt(m,"RID","rpc"),dt(m,"SID",u.K),dt(m,"AID",u.T),dt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&dt(m,"TO",u.ja),dt(m,"TYPE","xmlhttp"),si(u,m),u.m&&u.o&&Ui(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Vi(Vn(m)),v.m=null,v.P=!0,ei(v,u)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),_o(this),te(19))};function wo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eo(u,m){var v=null;if(u.g==m){wo(u),Ta(u),u.g=null;var E=2}else if(gn(u.h,m))v=m.D,Ml(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;E=Zr(),Rt(E,new fe(E,v)),Dr(u)}else Ns(u);else if(W=m.s,W==3||W==0&&0<m.X||!(E==1&&oh(u,m)||E==2&&_o(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:oi(u,5);break;case 4:oi(u,10);break;case 3:oi(u,6);break;default:oi(u,2)}}}function ql(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function oi(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),E=u.Xa;const W=!E;E=new ni(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||As(E,"https"),Vi(E),W?rh(E.toString(),v):Bl(E.toString(),v)}else te(2);u.G=0,u.l&&u.l.sa(m),Kl(u),yo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Kl(u){if(u.G=0,u.ka=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Gl(u,m,v){var E=v instanceof ni?Vn(v):new ni(v);if(E.g!="")m&&(E.g=m+"."+E.g),Oi(E,E.s);else{var W=d.location;E=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var J=new ni(null);E&&As(J,E),m&&(J.g=m),W&&Oi(J,W),v&&(J.l=v),E=J}return v=u.D,m=u.ya,v&&m&&dt(E,v,m),dt(E,"VER",u.la),si(u,E),E}function Ql(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new wt(new ri({eb:v})):new wt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){ut.call(this),this.g=new Ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Lr(this)}N(yn,ut),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Jt(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=bi(u),u=v);m.i.push(new gt(m.Ya++,u)),m.G==3&&Dr(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,yn.aa.N.call(this)};function Yl(u){Mn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Yl,Mn);function Xl(){ir.call(this),this.status=1}N(Xl,ir);function Lr(u){this.g=u}N(Lr,Ia),Lr.prototype.ua=function(){Rt(this.g,"a")},Lr.prototype.ta=function(u){Rt(this.g,new Yl(u))},Lr.prototype.sa=function(u){Rt(this.g,new Xl)},Lr.prototype.ra=function(){Rt(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,t_=function(){return new To},e_=function(){return Zr()},Z0=mn,hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,oc=st,Ct.COMPLETE="complete",J0=Ct,Jr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",ut.prototype.listen=ut.prototype.K,tl=Jr,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,X0=wt}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Vf("@firebase/firestore");function Wo(){return ro.logLevel}function ge(n,...e){if(ro.logLevel<=$e.DEBUG){const t=e.map(Qf);ro.debug(`Firestore (${fa}): ${n}`,...t)}}function Ti(n,...e){if(ro.logLevel<=$e.ERROR){const t=e.map(Qf);ro.error(`Firestore (${fa}): ${n}`,...t)}}function ra(n,...e){if(ro.logLevel<=$e.WARN){const t=e.map(Qf);ro.warn(`Firestore (${fa}): ${n}`,...t)}}function Qf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Ti(e),new Error(e)}function xt(n,e){n||Fe()}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class BC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $C{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ps,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ps)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt(typeof i.accessToken=="string"),new n_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new dn(e)}}class HC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){xt(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string"),this.R=t.token,new qC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=GC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ye(n,e){return n<e?-1:n>e?1:0}function ia(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ln(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ln(0,0))}static max(){return new Oe(new Ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(),i===void 0?i=e.length-t:i>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ml.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends ml{construct(e,t,i){return new Tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends ml{construct(e,t,i){return new wn(e,t,i)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Tt.fromString(e))}static fromName(e){return new Ae(Tt.fromString(e).popFirst(5))}static empty(){return new Ae(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Tt(e.slice()))}}function YC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new Ln(t+1,0):new Ln(t,i));return new vs(o,Ae.empty(),e)}function XC(n){return new vs(n.readTime,n.key,-1)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(Oe.min(),Ae.empty(),-1)}static max(){return new vs(Oe.max(),Ae.empty(),-1)}}function JC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==ZC)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new ne((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function t2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hc.oe=-1;function Wc(n){return n==null}function df(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Oy(e)),e=r2(n.get(t),e);return Oy(e)}function r2(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Oy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function i2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=o??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new tn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,i,o,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new us([])}unionWith(e){let t=new Ut(wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new i_("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const s2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(xt(!!n),typeof n=="string"){let e=0;const t=s2.exec(n);if(xt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qc(n){const e=n.mapValue.fields.__previous_value__;return Yf(e)?qc(e):e}function gl(n){const e=_s(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,i,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yf(n)?4:l2(n)?9007199254740991:a2(n)?10:11:Fe()}function Kr(n,e){if(n===e)return!0;const t=Es(n);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gl(n).isEqual(gl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=_s(o.timestampValue),d=_s(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ws(o.bytesValue).isEqual(ws(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=kt(o.doubleValue),d=kt(l.doubleValue);return c===d?df(c)===df(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(My(c)!==My(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Kr(c[p],d[p])))return!1;return!0}(n,e);default:return Fe()}}function vl(n,e){return(n.values||[]).find(t=>Kr(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=Es(n),i=Es(e);if(t!==i)return Ye(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Fy(n.timestampValue,e.timestampValue);case 4:return Fy(gl(n),gl(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ws(l),p=ws(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ye(d[y],p[y]);if(_!==0)return _}return Ye(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ye(kt(l.latitude),kt(c.latitude));return d!==0?d:Ye(kt(l.longitude),kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const I=l.fields||{},S=c.fields||{},A=(d=I.value)===null||d===void 0?void 0:d.arrayValue,N=(p=S.value)===null||p===void 0?void 0:p.arrayValue,z=Ye(((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:jy(A,N)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Yu.mapValue&&c===Yu.mapValue)return 0;if(l===Yu.mapValue)return 1;if(c===Yu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let I=0;I<p.length&&I<_.length;++I){const S=Ye(p[I],_[I]);if(S!==0)return S;const A=sa(d[p[I]],y[_[I]]);if(A!==0)return A}return Ye(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function Fy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=_s(n),i=_s(e),o=Ye(t.seconds,i.seconds);return o!==0?o:Ye(t.nanos,i.nanos)}function jy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=sa(t[o],i[o]);if(l)return l}return Ye(t.length,i.length)}function oa(n){return ff(n)}function ff(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=_s(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ff(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${ff(t.fields[c])}`;return o+"}"}(n.mapValue):Fe()}function ac(n){switch(Es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(n);return e?16+ac(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+ac(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Nl(i.fields,(l,c)=>{o+=l.length+ac(c)}),o}(n.mapValue);default:throw Fe()}}function pf(n){return!!n&&"integerValue"in n}function Xf(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function a2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=al(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function l2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=wn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=al(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];$d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Nl(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new jr(al(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Oe.min(),Oe.min(),Oe.min(),jr.empty(),0)}static newFoundDocument(e,t,i,o){return new fn(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Oe.min(),Oe.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Oe.min(),Oe.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=sa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function u2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{}class jt extends s_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new h2(e,t,i):t==="array-contains"?new p2(e,i):t==="in"?new m2(e,i):t==="not-in"?new g2(e,i):t==="array-contains-any"?new y2(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new d2(e,i):new f2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sa(t,this.value)):t!==null&&Es(this.value)===Es(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends s_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gr(e,t)}matches(e){return o_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function o_(n){return n.op==="and"}function a_(n){return c2(n)&&o_(n)}function c2(n){for(const e of n.filters)if(e instanceof Gr)return!1;return!0}function mf(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(a_(n))return n.filters.map(e=>mf(e)).join(",");{const e=n.filters.map(t=>mf(t)).join(",");return`${n.op}(${e})`}}function l_(n,e){return n instanceof jt?function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&Kr(i.value,o.value)}(n,e):n instanceof Gr?function(i,o){return o instanceof Gr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&l_(c,o.filters[d]),!0):!1}(n,e):void Fe()}function u_(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof Gr?function(t){return t.op.toString()+" {"+t.getFilters().map(u_).join(" ,")+"}"}(n):"Filter"}class h2 extends jt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class d2 extends jt{constructor(e,t){super(e,"in",t),this.keys=c_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class f2 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=c_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class p2 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xf(t)&&vl(t.arrayValue,this.value)}}class m2 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vl(this.value.arrayValue,t)}}class g2 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!vl(this.value.arrayValue,t)}}class y2 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Hy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new v2(n,e,t,i,o,l,c)}function Jf(n){const e=Xe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>oa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>oa(i)).join(",")),e.ue=t}return e.ue}function Zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!u2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!l_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$y(n.startAt,e.startAt)&&$y(n.endAt,e.endAt)}function gf(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _2(n,e,t,i,o,l,c,d){return new Kc(n,e,t,i,o,l,c,d)}function ep(n){return new Kc(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w2(n){return n.collectionGroup!==null}function ll(n){const e=Xe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ut(wn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Rc(l,i))}),t.has(wn.keyField().canonicalString())||e.ce.push(new Rc(wn.keyField(),i))}return e.ce}function Wr(n){const e=Xe(n);return e.le||(e.le=E2(e,ll(n))),e.le}function E2(n,e){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Rc(o.field,l)});const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function yf(n,e,t){return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gc(n,e){return Zf(Wr(n),Wr(e))&&n.limitType===e.limitType}function h_(n){return`${Jf(Wr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>u_(o)).join(", ")}]`),Wc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>oa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>oa(o)).join(",")),`Target(${i})`}(Wr(n))}; limitType=${n.limitType})`}function Qc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of ll(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=By(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,ll(i),o)||i.endAt&&!function(c,d,p){const y=By(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,ll(i),o))}(n,e)}function T2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d_(n){return(e,t)=>{let i=!1;for(const o of ll(n)){const l=I2(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function I2(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?sa(p,y):Fe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return i2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new bt(Ae.comparator);function Ts(){return S2}const f_=new bt(Ae.comparator);function nl(...n){let e=f_;for(const t of n)e=e.insert(t.key,t);return e}function x2(n){let e=f_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qs(){return ul()}function p_(){return ul()}function ul(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const R2=new Ut(Ae.comparator);function nt(...n){let e=R2;for(const t of n)e=e.add(t);return e}const C2=new Ut(Ye);function P2(){return C2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function k2(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function b2(n,e,t){return n instanceof vf?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yf(l)&&(l=qc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Cc?m_(n,e):n instanceof Pc?g_(n,e):function(o,l){const c=D2(o,l),d=qy(c)+qy(o.Pe);return pf(c)&&pf(o.Pe)?k2(d):A2(o.serializer,d)}(n,e)}function N2(n,e,t){return n instanceof Cc?m_(n,e):n instanceof Pc?g_(n,e):t}function D2(n,e){return n instanceof _f?function(i){return pf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class vf extends Yc{}class Cc extends Yc{constructor(e){super(),this.elements=e}}function m_(n,e){const t=y_(e);for(const i of n.elements)t.some(o=>Kr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Pc extends Yc{constructor(e){super(),this.elements=e}}function g_(n,e){let t=y_(e);for(const i of n.elements)t=t.filter(o=>!Kr(o,i));return{arrayValue:{values:t}}}class _f extends Yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qy(n){return kt(n.integerValue||n.doubleValue)}function y_(n){return Xf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function L2(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Cc&&o instanceof Cc||i instanceof Pc&&o instanceof Pc?ia(i.elements,o.elements,Kr):i instanceof _f&&o instanceof _f?Kr(i.Pe,o.Pe):i instanceof vf&&o instanceof vf}(n.transform,e.transform)}class Js{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class tp{}function v_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M2(n.key,Js.none()):new np(n.key,n.data,Js.none());{const t=n.data,i=jr.empty();let o=new Ut(wn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Xc(n.key,i,new us(o.toArray()),Js.none())}}function O2(n,e,t){n instanceof np?function(o,l,c){const d=o.value.clone(),p=Gy(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xc?function(o,l,c){if(!lc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Gy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(__(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function cl(n,e,t,i){return n instanceof np?function(l,c,d,p){if(!lc(l.precondition,c))return d;const y=l.value.clone(),_=Qy(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xc?function(l,c,d,p){if(!lc(l.precondition,c))return d;const y=Qy(l.fieldTransforms,p,c),_=c.data;return _.setAll(__(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,c,d){return lc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ia(i,o,(l,c)=>L2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class np extends tp{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xc extends tp{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function __(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Gy(n,e,t){const i=new Map;xt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,N2(c,d,t[o]))}return i}function Qy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,b2(l,c,e))}return i}class M2 extends tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&O2(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=p_();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=v_(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,i)=>Ky(t,i))&&ia(this.baseMutations,e.baseMutations,(t,i)=>Ky(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Qe;function w_(n){if(n===void 0)return Ti("GRPC error has no .code"),he.UNKNOWN;switch(n){case Lt.OK:return he.OK;case Lt.CANCELLED:return he.CANCELLED;case Lt.UNKNOWN:return he.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return he.INTERNAL;case Lt.UNAVAILABLE:return he.UNAVAILABLE;case Lt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Lt.NOT_FOUND:return he.NOT_FOUND;case Lt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Lt.ABORTED:return he.ABORTED;case Lt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Lt.DATA_LOSS:return he.DATA_LOSS;default:return Fe()}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Xs([4294967295,4294967295],0);function Yy(n){const e=U2().encode(n),t=new Y0;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,i],0),new Xs([o,l],0)]}class rp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new rl(`Invalid padding: ${t}`);if(i<0)throw new rl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new rl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Xs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Xs.fromNumber(i)));return o.compare(z2)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Yy(e),[i,o]=Xy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new rp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Yy(e),[i,o]=Xy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jc(Oe.min(),o,new bt(Ye),Ts(),nt())}}class Dl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dl(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class E_{constructor(e,t){this.targetId=e,this.me=t}}class T_{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Jy{constructor(){this.fe=0,this.ge=Zy(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nt(),t=nt(),i=nt();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Fe()}}),new Dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class B2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ts(),this.qe=Xu(),this.Qe=Xu(),this.Ke=new bt(Ye)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(gf(l))if(i===0){const c=new Ae(l.path);this.We(t,c,fn.newNoDocument(c,Oe.min()))}else xt(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=ws(i).toUint8Array()}catch(p){if(p instanceof i_)return ra("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new rp(c,o,l)}catch(p){return ra(p instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&gf(d.target)){const p=new Ae(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,fn.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=nt();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Jc(e,t,this.Ke,this.ke,i);return this.ke=Ts(),this.qe=Xu(),this.Qe=Xu(),this.Ke=new bt(Ye),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Jy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ut(Ye),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ut(Ye),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xu(){return new bt(Ae.comparator)}function Zy(){return new bt(Ae.comparator)}const $2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W2={and:"AND",or:"OR"};class q2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wf(n,e){return n.useProto3Json||Wc(e)?e:{value:e}}function K2(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zo(n){return xt(!!n),Oe.fromTimestamp(function(t){const i=_s(t);return new Ln(i.seconds,i.nanos)}(n))}function Q2(n,e){return Ef(n,e).canonicalString()}function Ef(n,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function I_(n){const e=Tt.fromString(n);return xt(P_(e)),e}function Hd(n,e){const t=I_(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(x_(t))}function S_(n,e){return Q2(n.databaseId,e)}function Y2(n){const e=I_(n);return e.length===4?Tt.emptyPath():x_(e)}function ev(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x_(n){return xt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function X2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(xt(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(xt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?he.UNKNOWN:w_(y.code);return new xe(_,y.message||"")}(c);t=new T_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hd(n,i.document.name),l=Zo(i.document.updateTime),c=i.document.createTime?Zo(i.document.createTime):Oe.min(),d=new jr({mapValue:{fields:i.document.fields}}),p=fn.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new uc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hd(n,i.document),l=i.readTime?Zo(i.readTime):Oe.min(),c=fn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new uc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hd(n,i.document),l=i.removedTargetIds||[];t=new uc([],l,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new j2(o,l),d=i.targetId;t=new E_(d,c)}}return t}function J2(n,e){return{documents:[S_(n,e.path)]}}function Z2(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=S_(n,o);const l=function(y){if(y.length!==0)return C_(Gr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Ko(S.field),direction:nP(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=wf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function eP(n){let e=Y2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){xt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(I){const S=R_(I);return S instanceof Gr&&a_(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(S=>function(N){return new Rc(Go(N.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(I){let S;return S=typeof I=="object"?I.value:I,Wc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(I){const S=!!I.before,A=I.values||[];return new xc(A,S)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const S=!I.before,A=I.values||[];return new xc(A,S)}(t.endAt)),_2(e,o,c,l,d,"F",p,y)}function tP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Go(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return jt.create(Go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gr.create(t.compositeFilter.filters.map(i=>R_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function nP(n){return $2[n]}function rP(n){return H2[n]}function iP(n){return W2[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Go(n){return wn.fromServerFormat(n.fieldPath)}function C_(n){return n instanceof jt?function(t){if(t.op==="=="){if(zy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:rP(t.op),value:t.value}}}(n):n instanceof Gr?function(t){const i=t.getFilters().map(o=>C_(o));return i.length===1?i[0]:{compositeFilter:{op:iP(t.op),filters:i}}}(n):Fe()}function P_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,i,o,l=Oe.min(),c=Oe.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.ht=e}}function oP(n){const e=eP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.ln=new lP}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(vs.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class lP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ut(Tt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new aa(0)}static Qn(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv([n,e],[t,i]){const o=Ye(n,t);return o===0?Ye(e,i):o}class uP{constructor(e){this.Gn=e,this.buffer=new Ut(nv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pa(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await $c(t)}await this.Yn(3e5)})}}class hP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Hc.oe);const i=new uP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(tv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,c=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),Wo()<=$e.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function dP(n,e){return new hP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&cl(i.mutation,o,us.empty(),Ln.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const o=Qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=nl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=Ts();const c=ul(),d=function(){return ul()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Xc)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),cl(_.mutation,y,_.mutation.getFieldMask(),Ln.now())):c.set(y.key,us.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var I;return d.set(y,new pP(_,(I=c.get(y))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ul();let o=new bt((c,d)=>c-d),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||us.empty();_=d.applyToLocalView(y,_),i.set(p,_);const I=(o.get(d.batchId)||nt()).add(p);o=o.insert(d.batchId,I)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,I=p_();_.forEach(S=>{if(!l.has(S)){const A=v_(t.get(S),i.get(S));A!==null&&I.set(S,A),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,I))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ne.resolve(Qs());let d=-1,p=l;return c.next(y=>ne.forEach(y,(_,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,nt())).next(_=>({batchId:d,changes:x2(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=nl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=nl();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const y=function(I,S){return new Kc(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((I,S)=>{c=c.insert(I,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))});let d=nl();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&cl(_.mutation,y,us.empty(),Ln.now()),Qc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zo(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:oP(o.bundledQuery),readTime:Zo(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.overlays=new bt(Ae.comparator),this.Er=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qs();return ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=Qs(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new bt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Qs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Qs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return ne.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new F2(t,i));let l=this.Er.get(t);l===void 0&&(l=nt(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.dr=new Ut(Wt.Ar),this.Rr=new Ut(Wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Wt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ae(new Tt([])),i=new Wt(t,e),o=new Wt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new Tt([])),i=new Wt(t,e),o=new Wt(t,e+1);let l=nt();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Wt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||Ye(e.br,t.br)}static Vr(e,t){return Ye(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ut(Wt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new V2(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Ye);return t.forEach(o=>{const l=new Wt(o,0),c=new Wt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),ne.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Ae(l),0);let d=new Ut(Ye);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),ne.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){xt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ne.forEach(t.mutations,o=>{const l=new Wt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Wt(t,0),o=this.vr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Nr=e,this.docs=function(){return new bt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Ts();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ts();const c=t.path,d=new Ae(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||JC(XC(_),i)<=0||(o.has(_.key)||Qc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Fe()}Lr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EP(this)}getSize(e){return ne.resolve(this.size)}}class EP extends fP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.persistence=e,this.Br=new ao(t=>Jf(t),Zf),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new ip,this.targetCount=0,this.Qr=aa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(l).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Hc(0),this.Ur=!1,this.Ur=!0,this.Wr=new vP,this.referenceDelegate=e(this),this.Gr=new TP(this),this.indexManager=new aP,this.remoteDocumentCache=function(o){return new wP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new sP(t),this.jr=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new _P(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new IP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return ne.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class IP extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Zr=new ip,this.Xr=null}static ei(e){return new sp(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,i=>{const o=Ae.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ac{constructor(e,t){this.persistence=e,this.ri=new ao(i=>n2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=dP(this,t)}static ei(e,t){return new Ac(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}ir(e,t,i){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=nt(),o=nt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new op(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return UI()?8:t2(pn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new SP;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Wo()<=$e.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Wo()<=$e.DEBUG&&ge("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Wo()<=$e.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):ne.resolve())}Xi(e,t){if(Wy(t))return ne.resolve(null);let i=Wr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=yf(t,null,"F"),i=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=nt(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,yf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Wy(t)||o.isEqual(Oe.min())?ne.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?ne.resolve(null):(Wo()<=$e.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.os(e,c,t,YC(o,-1)).next(d=>d))})}rs(e,t){let i=new Ut(d_(e));return t.forEach((o,l)=>{Qc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Wo()<=$e.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qo(t)),this.Zi.getDocumentsMatchingQuery(e,t,vs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new bt(Ye),this.cs=new ao(l=>Jf(l),Zf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function CP(n,e,t,i){return new RP(n,e,t,i)}async function k_(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=nt();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function b_(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function PP(n,e){const t=Xe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,I)=>{const S=o.get(I);if(!S)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,I)));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),o=o.insert(I,A),function(z,j,D){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(S,A,_)&&d.push(t.Gr.updateTargetData(l,A))});let p=Ts(),y=nt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(AP(l,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Oe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function AP(n,e,t){let i=nt(),o=nt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ts();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function kP(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,ne.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new cs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Tf(n,e,t){const i=Xe(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!pa(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function rv(n,e,t){const i=Xe(n);let o=Oe.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const I=Xe(p),S=I.cs.get(_);return S!==void 0?ne.resolve(I.us.get(S)):I.Gr.getTargetData(y,_)}(i,c,Wr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?l:nt())).next(d=>(bP(i,T2(e),d),{documents:d,ds:l})))}function bP(n,e,t){let i=n.ls.get(e)||Oe.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class iv{constructor(){this.activeTargetIds=P2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NP{constructor(){this._o=new iv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new iv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Wd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class MP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=Wd(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,p,y,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw ra("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=LP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Wd();return new Promise((c,d)=>{const p=new X0;p.setWithCredentials(!0),p.listenOnce(J0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oc.NO_ERROR:const _=p.getResponseJson();ge(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case oc.TIMEOUT:ge(hn,`RPC '${e}' ${l} timed out`),d(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const I=p.getStatus();if(ge(hn,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const N=function(j){const D=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(D)>=0?D:he.UNKNOWN}(A.status);d(new xe(N,A.message))}else d(new xe(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(he.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ge(hn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ge(hn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Wd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=t_(),d=e_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(hn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const I=c.createWebChannel(_,p);let S=!1,A=!1;const N=new OP({Eo:j=>{A?ge(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(ge(hn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),ge(hn,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},Ao:()=>I.close()}),z=(j,D,G)=>{j.listen(D,Y=>{try{G(Y)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(I,tl.EventType.OPEN,()=>{A||(ge(hn,`RPC '${e}' stream ${o} transport opened.`),N.So())}),z(I,tl.EventType.CLOSE,()=>{A||(A=!0,ge(hn,`RPC '${e}' stream ${o} transport closed`),N.Do())}),z(I,tl.EventType.ERROR,j=>{A||(A=!0,ra(hn,`RPC '${e}' stream ${o} transport errored:`,j),N.Do(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),z(I,tl.EventType.MESSAGE,j=>{var D;if(!A){const G=j.data[0];xt(!!G);const Y=G,ee=(Y==null?void 0:Y.error)||((D=Y[0])===null||D===void 0?void 0:D.error);if(ee){ge(hn,`RPC '${e}' stream ${o} received error:`,ee);const F=ee.status;let se=function(R){const b=Lt[R];if(b!==void 0)return w_(b)}(F),C=ee.message;se===void 0&&(se=he.INTERNAL,C="Unknown error status: "+F+" with message "+ee.message),A=!0,N.Do(new xe(se,C)),I.close()}else ge(hn,`RPC '${e}' stream ${o} received:`,G),N.vo(G)}}),z(d,Z0.STAT_EVENT,j=>{j.stat===hf.PROXY?ge(hn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===hf.NOPROXY&&ge(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n){return new q2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new D_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new xe(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FP extends VP{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=X2(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Zo(c.readTime):Oe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=ev(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=gf(p)?{documents:J2(l,p)}:{query:Z2(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=G2(l,c.resumeToken);const y=wf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=K2(l,c.snapshotVersion.toTimestamp());const y=wf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=tP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=ev(this.serializer),t.removeTarget=e,this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Ef(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(he.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Ef(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(he.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class UP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ti(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Ol(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Xe(p);y.k_.add(4),await Ll(y),y.K_.set("Unknown"),y.k_.delete(4),await Zc(y)}(this))})}),this.K_=new UP(i,o)}}async function Zc(n){if(Ol(n))for(const e of n.q_)await e(!0)}async function Ll(n){for(const e of n.q_)await e(!1)}function L_(n,e){const t=Xe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),cp(t)?up(t):ma(t).s_()&&lp(t,e))}function ap(n,e){const t=Xe(n),i=ma(t);t.B_.delete(e),i.s_()&&O_(t,e),t.B_.size===0&&(i.s_()?i.a_():Ol(t)&&t.K_.set("Unknown"))}function lp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).V_(e)}function O_(n,e){n.U_.xe(e),ma(n).m_(e)}function up(n){n.U_=new B2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.K_.F_()}function cp(n){return Ol(n)&&!ma(n).i_()&&n.B_.size>0}function Ol(n){return Xe(n).k_.size===0}function M_(n){n.U_=void 0}async function BP(n){n.K_.set("Online")}async function $P(n){n.B_.forEach((e,t)=>{lp(n,e)})}async function HP(n,e){M_(n),cp(n)?(n.K_.O_(e),up(n)):n.K_.set("Unknown")}async function WP(n,e,t){if(n.K_.set("Online"),e instanceof T_&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ov(n,i)}else if(e instanceof uc?n.U_.$e(e):e instanceof E_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const i=await b_(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),O_(l,p);const I=new cs(_.target,p,y,_.sequenceNumber);lp(l,I)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await ov(n,i)}}async function ov(n,e,t){if(!pa(e))throw e;n.k_.add(1),await Ll(n),n.K_.set("Offline"),t||(t=()=>b_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Zc(n)})}async function av(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Ol(t);t.k_.add(3),await Ll(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Zc(t)}async function qP(n,e){const t=Xe(n);e?(t.k_.delete(2),await Zc(t)):e||(t.k_.add(2),await Ll(t),t.K_.set("Unknown"))}function ma(n){return n.W_||(n.W_=function(t,i,o){const l=Xe(t);return l.b_(),new FP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:BP.bind(null,n),mo:$P.bind(null,n),po:HP.bind(null,n),R_:WP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),cp(n)?up(n):n.K_.set("Unknown")):(await n.W_.stop(),M_(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new hp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(n,e){if(Ti("AsyncQueue",`${e}: ${n}`),pa(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=nl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.z_=new bt(Ae.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class la{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new la(e,t,ea.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class GP{constructor(){this.queries=uv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Xe(t),l=o.queries;o.queries=uv(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new xe(he.ABORTED,"Firestore shutting down"))}}function uv(){return new ao(n=>h_(n),Gc)}async function F_(n,e){const t=Xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new KP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=V_(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&dp(t)}async function j_(n,e){const t=Xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function QP(n,e){const t=Xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&dp(t)}function YP(n,e,t){const i=Xe(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function dp(n){n.X_.forEach(e=>{e.next()})}var If,cv;(cv=If||(If={})).na="default",cv.Cache="cache";class U_{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new la(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==If.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.key=e}}class B_{constructor(e){this.key=e}}class XP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=nt(),this.mutatedKeys=nt(),this.Va=d_(e),this.ma=new ea(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new lv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,I)=>{const S=o.get(_),A=Qc(this.query,I)?I:null,N=!!S&&this.mutatedKeys.has(S.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;S&&A?S.data.isEqual(A.data)?N!==z&&(i.track({type:3,doc:A}),j=!0):this.ya(S,A)||(i.track({type:2,doc:A}),j=!0,(p&&this.Va(A,p)>0||y&&this.Va(A,y)<0)&&(d=!0)):!S&&A?(i.track({type:0,doc:A}),j=!0):S&&!A&&(i.track({type:1,doc:S}),j=!0,(p||y)&&(d=!0)),j&&(A?(c=c.add(A),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,I)=>function(A,N){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return z(A)-z(N)}(_.type,I.type)||this.Va(_.doc,I.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new la(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=nt(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new B_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new z_(i))}),t}va(e){this.da=e.ds,this.Ra=nt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return la.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class JP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZP{constructor(e){this.key=e,this.Fa=!1}}class eA{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ao(d=>h_(d),Gc),this.Oa=new Map,this.Na=new Set,this.La=new bt(Ae.comparator),this.Ba=new Map,this.ka=new ip,this.qa={},this.Qa=new Map,this.Ka=aa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function tA(n,e,t=!0){const i=K_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await $_(i,e,t,!0),o}async function nA(n,e){const t=K_(n);await $_(t,e,!0,!1)}async function $_(n,e,t,i){const o=await kP(n.localStore,Wr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await rA(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&L_(n.remoteStore,o),d}async function rA(n,e,t,i,o){n.Ua=(I,S,A)=>async function(z,j,D,G){let Y=j.view.ga(D);Y.ss&&(Y=await rv(z.localStore,j.query,!1).then(({documents:C})=>j.view.ga(C,Y)));const ee=G&&G.targetChanges.get(j.targetId),F=G&&G.targetMismatches.get(j.targetId)!=null,se=j.view.applyChanges(Y,z.isPrimaryClient,ee,F);return dv(z,j.targetId,se.ba),se.snapshot}(n,I,S,A);const l=await rv(n.localStore,e,!0),c=new XP(e,l.ds),d=c.ga(l.documents),p=Dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);dv(n,t,y.ba);const _=new JP(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function iA(n,e,t){const i=Xe(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Gc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Tf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ap(i.remoteStore,o.targetId),Sf(i,o.targetId)}).catch($c)):(Sf(i,o.targetId),await Tf(i.localStore,o.targetId,!0))}async function sA(n,e){const t=Xe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ap(t.remoteStore,i.targetId))}async function H_(n,e){const t=Xe(n);try{const i=await PP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?xt(c.Fa):o.removedDocuments.size>0&&(xt(c.Fa),c.Fa=!1))}),await q_(t,i,e)}catch(i){await $c(i)}}function hv(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Xe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,I)=>{for(const S of I.J_)S.ea(d)&&(y=!0)}),y&&dp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oA(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new bt(Ae.comparator);c=c.insert(l,fn.newNoDocument(l,Oe.min()));const d=nt().add(l),p=new Jc(Oe.min(),new Map,new bt(Ye),c,d);await H_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),fp(i)}else await Tf(i.localStore,e,!1).then(()=>Sf(i,e,t)).catch($c)}function Sf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||W_(n,i)})}function W_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(ap(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),fp(n))}function dv(n,e,t){for(const i of t)i instanceof z_?(n.ka.addReference(i.key,e),aA(n,i)):i instanceof B_?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||W_(n,i.key)):Fe()}function aA(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),fp(n))}function fp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(Tt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new ZP(t)),n.La=n.La.insert(t,i),L_(n.remoteStore,new cs(Wr(ep(t.path)),i,"TargetPurposeLimboResolution",Hc.oe))}}async function q_(n,e,t){const i=Xe(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=op.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Xe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ne.forEach(y,S=>ne.forEach(S.Wi,A=>_.persistence.referenceDelegate.addReference(I,S.targetId,A)).next(()=>ne.forEach(S.Gi,A=>_.persistence.referenceDelegate.removeReference(I,S.targetId,A)))))}catch(I){if(!pa(I))throw I;ge("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const S=I.targetId;if(!I.fromCache){const A=_.us.get(S),N=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(S,z)}}}(i.localStore,l))}async function lA(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await k_(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new xe(he.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await q_(t,i.Ts)}}function uA(n,e){const t=Xe(n),i=t.Ba.get(e);if(i&&i.Fa)return nt().add(i.key);{let o=nt();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function K_(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oA.bind(null,e),e.Ma.R_=QP.bind(null,e.eventManager),e.Ma.Wa=YP.bind(null,e.eventManager),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N_(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return CP(this.persistence,new xP,e.initialUser,this.serializer)}ja(e){return new A_(sp.ei,this.serializer)}za(e){return new NP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class cA extends kc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){xt(this.persistence.referenceDelegate instanceof Ac);const i=this.persistence.referenceDelegate.garbageCollector;return new cP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new A_(i=>Ac.ei(i,t),this.serializer)}}class xf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lA.bind(null,this.syncEngine),await qP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GP}()}createDatastore(e){const t=N_(e.databaseInfo.databaseId),i=function(l){return new MP(l)}(e.databaseInfo);return function(l,c,d,p){return new jP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new zP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>hv(this.syncEngine,t,0),function(){return sv.p()?new sv:new DP}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const I=new eA(o,l,c,d,p,y);return _&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Xe(o);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Ll(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xf.provider={build:()=>new xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=V_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Kd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await k_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function fv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dA(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>av(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>av(e.remoteStore,o)),n._onlineComponents=e}async function dA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await Kd(n,new kc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Kd(n,new cA(void 0));return n._offlineComponents}async function fA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await fv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await fv(n,new xf))),n._onlineComponents}async function Q_(n){const e=await fA(n),t=e.eventManager;return t.onListen=tA.bind(null,e.syncEngine),t.onUnlisten=iA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sA.bind(null,e.syncEngine),t}function pA(n,e,t={}){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new G_({next:S=>{_.eu(),c.enqueueAndForget(()=>j_(l,I));const A=S.docs.has(d);!A&&S.fromCache?y.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&p&&p.source==="server"?y.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new U_(ep(d.path),_,{includeMetadataChanges:!0,ua:!0});return F_(l,I)}(await Q_(n),n.asyncQueue,e,t,i)),i.promise}function mA(n,e,t={}){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new G_({next:S=>{_.eu(),c.enqueueAndForget(()=>j_(l,I)),S.fromCache&&p.source==="server"?y.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new U_(d,_,{includeMetadataChanges:!0,ua:!0});return F_(l,I)}(await Q_(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gA(n,e,t,i){if(e===!0&&i===!0)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mv(n){if(!Ae.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gv(n){if(Ae.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function _l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yA(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zC;switch(i.type){case"firstParty":return new WC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=pv.get(t);i&&(ge("ComponentProvider","Removing Datastore"),pv.delete(t),i.terminate())}(this),Promise.resolve()}}function vA(n,e,t,i={}){var o;const l=(n=_l(n,eh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=dn.MOCK_USER;else{d=DI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dn(y)}n._authCredentials=new BC(new n_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class qr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class ms extends th{constructor(e,t,i){super(e,t,ep(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new Ae(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function _A(n,e,...t){if(n=Sr(n),X_("collection","path",e),n instanceof eh){const i=Tt.fromString(e,...t);return gv(i),new ms(n,null,i)}{if(!(n instanceof qr||n instanceof ms))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return gv(i),new ms(n.firestore,null,i)}}function wA(n,e,...t){if(n=Sr(n),arguments.length===1&&(e=r_.newId()),X_("doc","path",e),n instanceof eh){const i=Tt.fromString(e,...t);return mv(i),new qr(n,null,new Ae(i))}{if(!(n instanceof qr||n instanceof ms))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tt.fromString(e,...t));return mv(i),new qr(n.firestore,n instanceof ms?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new D_(this,"async_queue_retry"),this.fu=()=>{const i=qd();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=qd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ps;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!pa(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Ti("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=hp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class pp extends eh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function EA(n,e){const t=typeof n=="object"?n:s0(),i=typeof n=="string"?n:"(default)",o=jf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=bI("firestore");l&&vA(o,...l)}return o}function J_(n){if(n._terminated)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TA(n),n._firestoreClient}function TA(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new o2(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Y_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new hA(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(nn.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bc(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}const xA=new RegExp("[~\\*/\\[\\]]");function RA(n,e,t){if(e.search(xA)>=0)throw _v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new Z_(...e.split("."))._internalPath}catch{throw _v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function _v(n,e,t,i,o){let l=`Function ${e}() called with invalid data`;l+=". ";let c="";return new xe(he.INVALID_ARGUMENT,l+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(t1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CA extends e1{data(){return super.data()}}function t1(n,e){return typeof e=="string"?RA(n,e):e instanceof Z_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AA{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Nl(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>kt(c.doubleValue));return new SA(l)}convertGeoPoint(e){return new IA(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Tt.fromString(e);xt(P_(i));const o=new yl(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return o.isEqual(t)||Ti(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n1 extends e1{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(t1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cc extends n1{data(e={}){return super.data(e)}}class kA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new il(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cc(this._firestore,this._userDataWriter,i.key,i,new il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new il(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new il(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:bA(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){n=_l(n,qr);const e=_l(n.firestore,pp);return pA(J_(e),n._key).then(t=>LA(e,n,t))}class r1 extends AA{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,t)}}function DA(n){n=_l(n,th);const e=_l(n.firestore,pp),t=J_(e),i=new r1(e);return PA(n._query),mA(t,n._query).then(o=>new kA(e,i,n,o))}function LA(n,e,t){const i=t.docs.get(e._key),o=new r1(n);return new n1(n,o,e._key,i,new il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){fa=o})(ca),ta(new eo("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new pp(new $C(i.getProvider("auth-internal")),new KC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),fs(Ly,"4.7.5",e),fs(Ly,"4.7.5","esm2017")})();const OA={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},MA=jc(OA),i1=EA(MA),s1=async n=>{const e=wA(i1,"series",n),t=await NA(e);let i;return t.exists()?i=t.data():console.log("No such document!"),i},o1=async n=>{let e=[];return(await DA(_A(i1,n))).forEach(i=>{e.push(i.data())}),e},VA=({images:n})=>{const[e,t]=M.useState(0),i=()=>{t(l=>l===0?n.length-1:l-1)},o=()=>{t(l=>l===n.length-1?0:l+1)};return M.useEffect(()=>{const l=setInterval(()=>{t(c=>c===n.length-1?0:c+1)},4e3);return()=>clearInterval(l)},[n.length]),x.jsx("section",{className:"size-full",children:x.jsxs("div",{className:"relative size-full overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((l,c)=>x.jsxs(Hn,{className:"w-full sm:h-[90%] flex sm:justify-center flex-shrink-0 group",to:l.url,children:[x.jsxs("picture",{className:"w-full flex relative",children:[x.jsx("img",{src:l.imgs[0],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover flex sm:hidden",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),x.jsx("img",{src:l.imgs[1],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover hidden sm:flex",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),x.jsx("span",{className:"absolute sm:hidden flex justify-center w-full bottom-6",children:x.jsx("h1",{className:"text-3xl text-white font-bold text-center truncate ",children:n[e].name})})]}),x.jsx("span",{className:"absolute hidden sm:flex justify-center w-full bottom-4",children:x.jsx("h1",{className:"text-3xl text-white font-bold text-center duration-300 truncate group-hover:text-rd group-hover:underline",children:n[e].name})})]},c))}),x.jsx("button",{onClick:i,className:"absolute flex  h-full items-center top-0 left-0 bg-gradient-to-r from-st/50 to-transparent text-white px-4",children:x.jsx(EI,{className:"text-5xl sm:text-transparent"})}),x.jsx("button",{onClick:o,className:"absolute flex h-full items-center top-0 right-0 bg-gradient-to-l from-st/50 to-transparent text-white px-4",children:x.jsx(TI,{className:"text-5xl sm:text-transparent"})}),x.jsx("div",{className:"absolute w-full  flex items-center justify-center bottom-0",children:x.jsx("ul",{className:" w-full max-w-[600px] flex items-center h-4 sm:h-[8px] p-1 justify-center sm:justify-evenly sm:px-10 gap-4",children:n.map((l,c)=>x.jsx("li",{onClick:()=>t(c),className:e===c?" w-4 h-4 sm:w-full sm:h-[8px] bg-gradient-to-br from-nd to-rd rounded-full sm:rounded-sm duration-300":"w-2 h-2 sm:w-full sm:h-[5px] bg-gradient-to-b from-zinc-300/75 to-transparent rounded-full sm:rounded-none cursor-pointer duration-300 hover:bg-yellow-500 hover:h-[8px]"},c))})})]})})},FA={display:"block",margin:"0 auto",borderColor:"red"},jA=()=>{const[n,e]=M.useState(!0),[t,i]=M.useState([]),o={main:"flex items-center justify-center w-full h-[480px]"},l={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(M.useEffect(()=>{(async()=>{let d=[];(await o1("lastUpdated")).map(y=>{d.push({name:y.name?y.name:null,imgs:y.images,url:`/details/${y.name}`})}),i(d),e(!1)})()},[]),n)return x.jsx("div",{className:o.main,children:x.jsx(da,{color:l.color,loading:n,cssOverride:FA,size:l.size,"aria-label":l.ariaLabel,"data-testid":l.dataTest,speedMultiplier:l.speed})});if(n===!1)return x.jsx("div",{className:o.main,children:x.jsx(VA,{images:t})})},mp=()=>{const n={main:"flex w-full px-4 py-10 bg-st-200 z-10",content:"w-full flex flex-col sm:flex-row gap-2 sm:justify-between items-center justify-center",dataBox:"flex flex-col items-center",title:"font-bold text-xl text-rd",txt:"text-gray-500 text-sm text-center font-light",socialMedia:"flex gap-4",mediaIcons:"text-5xl text-gray-500 cursor-pointer"};return x.jsx("section",{className:n.main,children:x.jsxs("div",{className:n.content,children:[x.jsxs("div",{className:n.dataBox,children:[x.jsx("h1",{className:n.title,children:"NekoStore"}),x.jsx("p",{className:n.txt,children:"ningn video se encuentra alojado en nuestros servidores."}),x.jsx("h5",{className:n.txt,children:"Anderson Ollarves Web 2025"})]}),x.jsxs("div",{className:n.socialMedia,children:[x.jsx(fI,{className:n.mediaIcons}),x.jsx(hI,{className:n.mediaIcons}),x.jsx(pI,{className:n.mediaIcons})]})]})})},UA=()=>{const[n,e]=M.useState([{}]),t={main:"flex flex-col size-full relative",content:"flex flex-col pt-[9vh] pb-20 gap-10 min-h-screen w-full bg-st-100"};return M.useEffect(()=>{(async()=>{const o=await o1("series");e(o)})()},[]),x.jsxs("div",{className:t.main,children:[x.jsxs("div",{className:t.content,children:[x.jsx(jA,{}),n.length>=2?x.jsxs("div",{className:"flex flex-col gap-4 px-4 justify-center items-center",children:[x.jsx("span",{className:"w-full max-w-[1024px] p-3 bg-gradient-to-b from-rd to-nd rounded-t-2xl",children:x.jsx("h1",{className:"font-bold text-white tracking-widest text-lg text-center",children:"Ultimos subidos"})}),x.jsx(UC,{data:n})]}):""]}),x.jsx(mp,{})]})};function wv(n){return Ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(n)}const zA=({type:n,DefaultValue:e,set:t})=>{const[i,o]=M.useState(0),[l,c]=M.useState(""),[d,p]=M.useState(""),[y,_]=M.useState(""),I=A=>{const N=A.target.value;o(N.length),t(N.length)},S={main:"relative h-16 flex items-end",title:"absolute top-0 text-gray-400 font-bold text-sm",input:"z-10 bg-transparent border-b-2 text-xl text-white outline-none w-full placeholder:text-red-400 placeholder:font-bold truncate ",inputNumber:`${i<8||i>50?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputEmail:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputName:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`};return M.useEffect(()=>{n==="name"&&(c("Nombre del usuario"),p("text"),_("Debe tener entre 6 y 50 caracteres.")),n==="phone"&&(c("Nmero de telefono"),p("number"),_("Debe tener entre 8 y 20 caracteres.")),n==="email"&&(c("Email"),p("email"),_("Debe tener entre 6 y 20 caracteres")),e!=null&&(o(e.length),e.length>6&&t(6))},[]),x.jsxs("div",{className:S.main,children:[x.jsx("h2",{className:S.title,children:l}),x.jsx("input",{className:n==="name"?`${S.input} ${S.inputName}`:n==="phone"?`${S.input} ${S.inputNumber}`:`${S.input} ${S.inputEmail}`,type:d,name:n,placeholder:y,defaultValue:e===null?"":e,onChange:A=>I(A)})]})},BA=["https://gif-avatars.com/img/150x150/solo-leveling.gif","https://media.tenor.com/lixfij0N8pUAAAAM/1235.gif","https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcW9xdmQyZm1hd2V4eDF0OHlsNzRmMGNiOTU0OW14bHZsZTd0MHowcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1lSSrYQUVY3WU/giphy.webp","https://c.tenor.com/33SEDySh9y4AAAAC/tenor.gif","https://media.tenor.com/Dad5rgWBv2cAAAAM/frieren-sousou.gif","https://media.tenor.com/OeH90hWmnL8AAAAM/frieren-frieren-beyond-journey's-end.gif"],$A=({setProfileImage:n,image:e})=>{const[t,i]=M.useState(e),o=c=>{n(c),i(c)},l={main:"w-full h-[240px] overflow-hidden",content:"relative flex size-full top-0 left-0 overflow-hidden",profile:"scroll p-4 flex size-full overflow-auto gap-10 duration-300",background:"absolute scroll flex size-full overflow-auto gap-10 duration-300",items:"w-[100%] flex flex-col items-center justify-center cursor-pointer",imageBox:"size-28 flex rounded-full overflow-hidden border-[3px] duration-300",image:"size-full object-cover rounded-full",imageSelected:" border-rd size-44 border-4"};return x.jsx("section",{className:l.main,children:x.jsx("div",{className:l.content,children:x.jsx("ul",{className:l.profile,children:BA.map((c,d)=>x.jsx("li",{className:l.items,onClick:()=>{o(c)},children:x.jsx("picture",{className:`${l.imageBox} ${t===c?l.imageSelected:""}`,children:x.jsx("img",{className:l.image,src:c,alt:`slide-${d}-image`})})},d))})})})},Ev=({isShow:n,setShow:e,profileImage:t,setProfileImage:i,backgroundImage:o,setBackgroundImage:l})=>{const[c,d]=M.useState(""),[p,y]=M.useState(""),_=()=>{l(p),i(c),q0(e,null,c)},I={main:`size-full relative ${n?"flex":"hidden"} items-center justify-center`,content:{main:"relative w-[80%] h-auto flex flex-col bg-st-200 rounded",content:"flex flex-col gap-3 items-center px-4 py-8",title:"text-white font-bold mt-10",headerOptions:"flex gap-4 relative",bottomMain:"flex flex-col w-full overflow-auto "},buttonBox:{main:"mt-4 w-full max-w-60",saveBtn:"rounded-lg bg-rd active:bg-nd hover:bg-nd size-full h-[55px] font-bold text-white"},closeBtn:"absolute text-2xl rounded-full p-1 bg-white hover:bg-rd hover:border-rd hover:text-white border top-2 right-2"};return M.useEffect(()=>{y(o),d(t)},[]),x.jsx("section",{className:I.main,children:x.jsxs("div",{className:I.content.main,children:[x.jsx("button",{className:I.closeBtn,onClick:()=>e(!1),children:x.jsx(lI,{})}),x.jsxs("div",{className:I.content.content,children:[x.jsx("h1",{className:I.content.title,children:"EDITAR IMAGEN DE PERFIL"}),x.jsx("hr",{className:"my-2 w-[40%] h-[1px] bg-white"}),x.jsxs("div",{className:I.content.bottomMain,children:[x.jsx($A,{image:t,setProfileImage:d}),x.jsx("input",{type:"text",className:"hidden",name:"profile-image",defaultValue:t}),x.jsx("input",{type:"text",className:"hidden",name:"profile-background",defaultValue:o})]}),x.jsx("div",{className:I.buttonBox.main,children:x.jsx("button",{className:I.buttonBox.saveBtn,onClick:_,children:"GUARDAR CAMBIOS"})})]})]})})},HA={display:"block",margin:"0 auto",borderColor:"red"},WA=()=>{const n=ua(),[e,t]=M.useState(null),[i,o]=M.useState(!0),[l,c]=M.useState(!1),[d,p]=M.useState(""),[y,_]=M.useState(""),[I,S]=M.useState(0),[A,N]=M.useState(!0),[z,j]=M.useState(!1),D={main:"flex flex-col items-center justify-center w-full min-h-screen bg-st-100 z-50",content:"w-full mt-4 max-w-[400px] px-[36px] flex flex-col",title:"pb-6 sm:pb-6 text-white font-bold text-2xl text-center",contentBox:{main:"flex relative flex-col place-items-center w-full max-w-96 gap-2",topSide:"w-full flex items-center justify-center",imageBox:"relative size-[160px] rounded-full border-[3px] border-white",image:"size-full rounded-full object-cover",btnBox:"absolute -bottom-0 right-2 border-[4px] border-st-100 rounded-full p-2 bg-white text-2xl hover:text-rd hover:bg-gray-300",hr:"w-[15%] h-[1px] mt-10 mb-12 sm:mb-10 bg-gray-400",formMain:"flex flex-col gap-5 w-full ",dataBox:"flex flex-col w-full",titles:"text-gray-500 text-sm font-bold",data:"text-white text-lg sm:text-base",button:" w-full mt-6 sm:mt-8 h-[55px] sm:h-[45px] rounded-lg text-white font-bold text-lg bg-rd hover:bg-nd"},bottomSide:{main:"w-full flex gap-5 mt-4 font-bold",buttonSave:"w-full h-[55px] sm:h-[50px] text bg-rd hover:bg-nd text-white rounded-lg disabled:bg-gray-500",buttonCancel:"w-full h-[55px] sm:h-[50px] text bg-red-600  hover:bg-red-800  text-white  rounded-lg disabled:text-gray-400"},imageProfileEdit:`fixed top-0 left-0 bg-st-100/75 z-10 ${l?"w-full h-full":"w-0 h-0"} duration-300`},G={color:"#1e40af",size:120,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},Y=ee=>{ee.preventDefault();const se=ee.currentTarget.elements.name.value;q0(j,se)};if(M.useEffect(()=>{IC(t,o,p)},[]),M.useEffect(()=>{I>=6?N(!0):N(!1)},[I]),i)return x.jsx("section",{className:D.main,children:x.jsx("div",{className:D.content+" items-center justify-center",children:x.jsx("div",{children:x.jsx(da,{color:G.color,loading:i,cssOverride:HA,size:G.size,"aria-label":G.ariaLabel,"data-testid":G.dataTest,speedMultiplier:G.speed})})})});if(e===null&&n("/"),e&&z===!0)return x.jsx("section",{className:D.main,children:x.jsxs("div",{className:D.content,children:[x.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),x.jsxs("div",{className:D.contentBox.main,children:[x.jsxs("div",{className:D.contentBox.imageBox,children:[x.jsx("img",{className:D.contentBox.image,src:d,alt:"user-profile-image"}),x.jsx("button",{className:D.contentBox.btnBox,onClick:()=>c(!0),children:x.jsx(wv,{})})]}),x.jsx("hr",{className:D.contentBox.hr}),x.jsxs(xl,{className:D.contentBox.formMain,onSubmit:Y,children:[x.jsx(zA,{type:"name",DefaultValue:e.displayName,set:S}),x.jsxs("div",{className:D.bottomSide.main,children:[x.jsx("button",{className:D.bottomSide.buttonSave,type:"submit",disabled:!A,children:"GUARDAR"}),x.jsx("button",{className:D.bottomSide.buttonCancel,onClick:()=>j(!1),children:"CANCELAR"})]})]})]}),x.jsx("div",{className:D.imageProfileEdit,children:x.jsx(Ev,{setBackgroundImage:_,backgroundImage:y,profileImage:d,setProfileImage:p,isShow:l,setShow:c})})]})});if(e&&z===!1)return x.jsx("section",{className:D.main,children:x.jsxs("div",{className:D.content,children:[x.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),x.jsxs("div",{className:D.contentBox.main,children:[x.jsx("div",{className:D.contentBox.topSide,children:x.jsxs("picture",{className:D.contentBox.imageBox,children:[x.jsx("img",{className:D.contentBox.image,src:d,alt:"user-profile-image"}),x.jsx("button",{className:D.contentBox.btnBox,onClick:()=>c(!0),children:x.jsx(wv,{})})]})}),x.jsx("hr",{className:D.contentBox.hr}),x.jsxs("div",{className:D.contentBox.main,children:[x.jsxs("span",{className:D.contentBox.dataBox,children:[x.jsx("h2",{className:D.contentBox.titles,children:"Nombre de usuario"}),x.jsx("h4",{className:D.contentBox.data,children:e.displayName===null?"Sin nombre de usuario":e.displayName})]}),x.jsxs("span",{className:D.contentBox.dataBox,children:[x.jsx("h2",{className:D.contentBox.titles,children:"Email"}),x.jsx("h4",{className:D.contentBox.data,children:e.email===null?"Sin Email":e.email})]}),x.jsx("button",{className:D.contentBox.button,onClick:()=>j(!0),children:"EDITAR"})]})]}),x.jsx("div",{className:D.imageProfileEdit,children:x.jsx(Ev,{setBackgroundImage:_,backgroundImage:y,profileImage:d,setProfileImage:p,isShow:l,setShow:c})})]})})},qA=({name:n,description:e,categories:t})=>{const i={main:"flex w-full h-auto bg-st-200/80 z-10 rounded-lg sm:col-span-2",content:"flex flex-col w-full gap-4 p-4 ",title:"text-3xl text-center text-white font-bold",description:"px-2 scroll font-light text-sm text-gray-400 overflow-auto max-h-32",categoriesList:{main:"flex flex-wrap px-2 gap-x-4 gap-y-2",items:"bg-rd px-1 rounded text-sm"}};return x.jsx("section",{className:i.main,children:x.jsxs("div",{className:i.content,children:[x.jsx("h1",{className:i.title,children:n}),x.jsx("ul",{className:i.categoriesList.main,children:t.map((o,l)=>x.jsx("li",{className:i.categoriesList.items,children:o},l))}),x.jsx("p",{className:i.description,children:e})]})})},KA=({image:n,name:e})=>{const t={main:"flex w-full h-auto justify-center z-10",imageBox:"flex size-full max-w-[300px] ",image:"size-full object-cover rounded-lg"};return x.jsx("div",{className:t.main,children:x.jsx("picture",{className:t.imageBox,children:x.jsx("img",{className:t.image,src:n,alt:`${e}-poster`})})})},GA=({episode:n,image:e,name:t,id:i,season:o})=>{const l={main:"w-full flex",content:"grid grid-cols-[20%_80%] w-full h-14 group",imageBox:"size-full overflow-hidden rounded-lg",image:"size-full object-cover",titleBox:"flex p-1 items-center",title:"text-gray-400 group-hover:text-rd"};return x.jsx(Hn,{className:l.main,to:`/media/${i}/${o}/${n}`,children:x.jsxs("div",{className:l.content,children:[x.jsx("picture",{className:l.imageBox,children:x.jsx("img",{className:l.image,src:e,alt:`${t}-poster`})}),x.jsx("span",{className:l.titleBox,children:x.jsxs("h1",{className:l.title,children:["Episodio ",n]})})]})})},QA=({data:n,index:e,id:t})=>{const[i,o]=M.useState(!1),l={main:"flex z-10 ",titleBox:{main:"flex w-full justify-between p-2",title:`${i?"text-rd":"text-white"} duration-300`,icon:`text-xl ${i?"text-rd -rotate-90":"text-white rotate-90"} duration-300`},list:{main:`w-full gap-2 ${i?"flex flex-col":"hidden"} scroll max-h-[200px] overflow-auto`}};return x.jsx("div",{className:l.main,children:x.jsxs("div",{className:"flex flex-col w-full",children:[x.jsxs("button",{className:l.titleBox.main,onClick:()=>o(!i),children:[x.jsx("h1",{className:l.titleBox.title,children:n.name?n.name:`Temporada ${e+1}`}),x.jsx("span",{className:l.titleBox.icon,children:x.jsx(Yv,{})})]}),x.jsx("ul",{className:l.list.main,children:n.episodes.map((c,d)=>x.jsx("li",{children:x.jsx(GA,{name:n.name,episode:d+1,season:e,id:t,image:n.image})},d))})]})})},YA={display:"block",margin:"0 auto",borderColor:"red"},XA=()=>{const{id:n}=Bv(),[e,t]=M.useState(!0),[i,o]=M.useState(null),l={main:"w-full min-h-screen bg-st-100 flex flex-col items-center",content:"relative size-full max-w-[800px] z-10 grid sm:grid-cols-2 p-5 pb-20 mt-[9vh] gap-y-10 gap-x-5 sm:items-start",seasonBox:"Scroll flex flex-col gap-2 max-h-[600px] z-10 bg-st-200/80 p-2 rounded-lg overflow-auto",notFound:{main:"w-full min-h-screen p-10 gap-10 flex flex-col items-center justify-center",title1:"text-6xl text-white",title2:"text-xl text-center text-gray-400",button:"flex items-center justify-center bg-rd h-[55px] w-full rounded-lg text-white uppercase text-xl"},background:{main:"fixed flex top-[9vh] left-0 w-full min-h-screen z-0 opacity-50",image:"w-full min-h-screen object-cover z-0"},spinner:"size-full min-h-screen flex items-center justify-center"},c={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(M.useEffect(()=>{(async()=>{try{if(n!=null){const p=await s1(n);o(p),t(!1)}}catch(p){console.log("error: "+p),t(!1)}})()},[n]),e)return x.jsx("section",{className:l.main,children:x.jsx("div",{className:l.spinner,children:x.jsx(da,{color:c.color,loading:e,cssOverride:YA,size:c.size,"aria-label":c.ariaLabel,"data-testid":c.dataTest,speedMultiplier:c.speed})})});if(i==null)return x.jsx("section",{className:l.main,children:x.jsxs("div",{className:l.notFound.main,children:[x.jsx("h3",{className:l.notFound.title1,children:"Opps..."}),x.jsx("h3",{className:l.notFound.title2,children:"Lo sentimos, no hemos conseguido la serie que buscas."}),x.jsx(Hn,{className:l.notFound.button,to:"/",children:"Volver al inicio"})]})});if(e===!1&&i!==null||i!==void 0)return x.jsxs("section",{className:l.main,children:[x.jsxs("div",{className:l.content,children:[x.jsx("div",{className:l.background.main,children:x.jsx("img",{loading:"lazy",className:l.background.image,src:i.images[2]?i.images[2]:"",alt:i.name?`${i.name}-background`:"background"})}),x.jsx(qA,{name:i.name,description:i.description,categories:i.categories}),x.jsx(KA,{name:i.name,image:i.images[0]}),x.jsx("ul",{className:l.seasonBox,children:i.seasons.map((d,p)=>x.jsx("li",{children:x.jsx(QA,{data:d,index:p,id:i.name})},p))})]}),x.jsx(mp,{})]})},JA=({url:n})=>{const[e,t]=M.useState(""),i={main:"size-full flex",mediaPlayer:"size-full min-h-[300px] md:min-h-[420px]"};return M.useEffect(()=>{t(n)},[n]),x.jsx("div",{children:x.jsx("iframe",{className:i.mediaPlayer,src:e})})},ZA={display:"block",margin:"0 auto",borderColor:"red"},ek=()=>{const{id:n,season:e,episode:t}=Bv(),i=ua(),[o,l]=M.useState(null),[c,d]=M.useState(""),[p,y]=M.useState(!0),[_,I]=M.useState(!1),[S,A]=M.useState(!1),N={main:"w-full min-h-screen bg-st-100 flex flex-col",content:"flex flex-col w-full min-h-screen mt-[9vh] p-4",videoPlayer:{main:"flex flex-col w-full rounded-lg overflow-hidden",bottomBox:"flex w-full h-8 justify-between bg-st-200",buttons:"size-8 flex justify-center items-center",icons:"text-2xl text-white hover:text-rd active:text-yellow-500",Xbtn:"cursor-no-drop",XbtnIcon:"text-red-500 text-2xl"},spinner:"size-full min-h-screen flex items-center justify-center"},z={color:"#1e40af",size:140,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},j=()=>{const ee=Number(e),F=Number(t);o!=null&&(o.seasons[ee].episodes.length===F?I(!0):I(!1),F-1===0?A(!0):A(!1))},D=ee=>{const F=Number(e),se=Number(t)-1;return ee.seasons[F].episodes[se]},G=()=>{const ee=Number(t)+1;o!=null&&i(`/media/${o.name}/${e}/${ee}`)},Y=()=>{const ee=Number(t)-1;o!=null&&i(`/media/${o.name}/${e}/${ee}`)};if(M.useEffect(()=>{(async()=>{try{if(n!=null){const F=await s1(n);l(F);const se=D(F);se!=null||se!=null?d(se):d(""),y(!1)}}catch(F){console.log("error: "+F),y(!1)}j()})()},[n,e,t]),M.useEffect(()=>{j()},[t]),p)return x.jsx("section",{className:N.main,children:x.jsx("div",{className:N.spinner,children:x.jsx(da,{color:z.color,loading:p,cssOverride:ZA,size:z.size,"aria-label":z.ariaLabel,"data-testid":z.dataTest,speedMultiplier:z.speed})})});if(p===!1)return x.jsxs("section",{className:N.main,children:[x.jsx("div",{className:N.content,children:x.jsxs("div",{className:N.videoPlayer.main,children:[x.jsx(JA,{url:c}),x.jsxs("span",{className:N.videoPlayer.bottomBox,children:[S?x.jsx("button",{className:N.videoPlayer.Xbtn,disabled:!0,children:x.jsx(ty,{className:N.videoPlayer.XbtnIcon})}):x.jsx("button",{className:N.videoPlayer.buttons,onClick:Y,children:x.jsx(vI,{className:N.videoPlayer.icons})}),_?x.jsx("button",{className:N.videoPlayer.Xbtn,disabled:!0,children:x.jsx(ty,{className:N.videoPlayer.XbtnIcon})}):x.jsx("button",{className:N.videoPlayer.buttons,onClick:G,children:x.jsx(_I,{className:N.videoPlayer.icons})})]})]})}),x.jsx(mp,{})]})},tk=BT([{path:"/",element:x.jsx(CC,{}),children:[{index:!0,element:x.jsx(UA,{})},{path:"/login",element:x.jsx(OC,{})},{path:"/register",element:x.jsx(FC,{})},{path:"/edit-profile",element:x.jsx(WA,{})},{path:"/details/:id",element:x.jsx(XA,{})},{path:"/media/:id/:season/:episode",element:x.jsx(ek,{})}]}]);yw.createRoot(document.getElementById("root")).render(x.jsx(M.StrictMode,{children:x.jsx(eI,{router:tk})}));
