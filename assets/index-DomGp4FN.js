(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Gw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bh={exports:{}},tl={},$h={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Qw(){if(Wg)return ze;Wg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function I($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function N($,Z,we){this.props=$,this.context=Z,this.refs=z,this.updater=we||C}N.prototype.isReactComponent={},N.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function D(){}D.prototype=N.prototype;function K($,Z,we){this.props=$,this.context=Z,this.refs=z,this.updater=we||C}var Q=K.prototype=new D;Q.constructor=K,O(Q,N.prototype),Q.isPureReactComponent=!0;var te=Array.isArray,F=Object.prototype.hasOwnProperty,oe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x($,Z,we){var Me,Le={},$e=null,Ze=null;if(Z!=null)for(Me in Z.ref!==void 0&&(Ze=Z.ref),Z.key!==void 0&&($e=""+Z.key),Z)F.call(Z,Me)&&!P.hasOwnProperty(Me)&&(Le[Me]=Z[Me]);var et=arguments.length-2;if(et===1)Le.children=we;else if(1<et){for(var je=Array(et),mt=0;mt<et;mt++)je[mt]=arguments[mt+2];Le.children=je}if($&&$.defaultProps)for(Me in et=$.defaultProps,et)Le[Me]===void 0&&(Le[Me]=et[Me]);return{$$typeof:n,type:$,key:$e,ref:Ze,props:Le,_owner:oe.current}}function R($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function b($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function j($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(we){return Z[we]})}var B=/\/+/g;function k($,Z){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):Z.toString(36)}function ht($,Z,we,Me,Le){var $e=typeof $;($e==="undefined"||$e==="boolean")&&($=null);var Ze=!1;if($===null)Ze=!0;else switch($e){case"string":case"number":Ze=!0;break;case"object":switch($.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=$,Le=Le(Ze),$=Me===""?"."+k(Ze,0):Me,te(Le)?(we="",$!=null&&(we=$.replace(B,"$&/")+"/"),ht(Le,Z,we,"",function(mt){return mt})):Le!=null&&(b(Le)&&(Le=R(Le,we+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+$)),Z.push(Le)),1;if(Ze=0,Me=Me===""?".":Me+":",te($))for(var et=0;et<$.length;et++){$e=$[et];var je=Me+k($e,et);Ze+=ht($e,Z,we,je,Le)}else if(je=I($),typeof je=="function")for($=je.call($),et=0;!($e=$.next()).done;)$e=$e.value,je=Me+k($e,et++),Ze+=ht($e,Z,we,je,Le);else if($e==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Be($,Z,we){if($==null)return $;var Me=[],Le=0;return ht($,Me,"","",function($e){return Z.call(we,$e,Le++)}),Me}function wt($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(we){($._status===0||$._status===-1)&&($._status=1,$._result=we)},function(we){($._status===0||$._status===-1)&&($._status=2,$._result=we)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var Ue={current:null},le={transition:null},Te={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:le,ReactCurrentOwner:oe};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Be,forEach:function($,Z,we){Be($,function(){Z.apply(this,arguments)},we)},count:function($){var Z=0;return Be($,function(){Z++}),Z},toArray:function($){return Be($,function(Z){return Z})||[]},only:function($){if(!b($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ze.Component=N,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=K,ze.StrictMode=i,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,ze.act=he,ze.cloneElement=function($,Z,we){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Me=O({},$.props),Le=$.key,$e=$.ref,Ze=$._owner;if(Z!=null){if(Z.ref!==void 0&&($e=Z.ref,Ze=oe.current),Z.key!==void 0&&(Le=""+Z.key),$.type&&$.type.defaultProps)var et=$.type.defaultProps;for(je in Z)F.call(Z,je)&&!P.hasOwnProperty(je)&&(Me[je]=Z[je]===void 0&&et!==void 0?et[je]:Z[je])}var je=arguments.length-2;if(je===1)Me.children=we;else if(1<je){et=Array(je);for(var mt=0;mt<je;mt++)et[mt]=arguments[mt+2];Me.children=et}return{$$typeof:n,type:$.type,key:Le,ref:$e,props:Me,_owner:Ze}},ze.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ze.createElement=x,ze.createFactory=function($){var Z=x.bind(null,$);return Z.type=$,Z},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:h,render:$}},ze.isValidElement=b,ze.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:wt}},ze.memo=function($,Z){return{$$typeof:g,type:$,compare:Z===void 0?null:Z}},ze.startTransition=function($){var Z=le.transition;le.transition={};try{$()}finally{le.transition=Z}},ze.unstable_act=he,ze.useCallback=function($,Z){return Ue.current.useCallback($,Z)},ze.useContext=function($){return Ue.current.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($){return Ue.current.useDeferredValue($)},ze.useEffect=function($,Z){return Ue.current.useEffect($,Z)},ze.useId=function(){return Ue.current.useId()},ze.useImperativeHandle=function($,Z,we){return Ue.current.useImperativeHandle($,Z,we)},ze.useInsertionEffect=function($,Z){return Ue.current.useInsertionEffect($,Z)},ze.useLayoutEffect=function($,Z){return Ue.current.useLayoutEffect($,Z)},ze.useMemo=function($,Z){return Ue.current.useMemo($,Z)},ze.useReducer=function($,Z,we){return Ue.current.useReducer($,Z,we)},ze.useRef=function($){return Ue.current.useRef($)},ze.useState=function($){return Ue.current.useState($)},ze.useSyncExternalStore=function($,Z,we){return Ue.current.useSyncExternalStore($,Z,we)},ze.useTransition=function(){return Ue.current.useTransition()},ze.version="18.3.1",ze}var qg;function Uf(){return qg||(qg=1,$h.exports=Qw()),$h.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Yw(){if(Kg)return tl;Kg=1;var n=Uf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,g){var _,T={},I=null,C=null;g!==void 0&&(I=""+g),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(C=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(T[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:h,key:I,ref:C,props:T,_owner:o.current}}return tl.Fragment=t,tl.jsx=c,tl.jsxs=c,tl}var Gg;function Xw(){return Gg||(Gg=1,Bh.exports=Yw()),Bh.exports}var E=Xw(),L=Uf();const it=Gw(L);var Ju={},Hh={exports:{}},Ln={},Wh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Jw(){return Qg||(Qg=1,function(n){function e(le,Te){var he=le.length;le.push(Te);e:for(;0<he;){var $=he-1>>>1,Z=le[$];if(0<o(Z,Te))le[$]=Te,le[he]=Z,he=$;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Te=le[0],he=le.pop();if(he!==Te){le[0]=he;e:for(var $=0,Z=le.length,we=Z>>>1;$<we;){var Me=2*($+1)-1,Le=le[Me],$e=Me+1,Ze=le[$e];if(0>o(Le,he))$e<Z&&0>o(Ze,Le)?(le[$]=Ze,le[$e]=he,$=$e):(le[$]=Le,le[Me]=he,$=Me);else if($e<Z&&0>o(Ze,he))le[$]=Ze,le[$e]=he,$=$e;else break e}}return Te}function o(le,Te){var he=le.sortIndex-Te.sortIndex;return he!==0?he:le.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,T=null,I=3,C=!1,O=!1,z=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(le){for(var Te=t(g);Te!==null;){if(Te.callback===null)i(g);else if(Te.startTime<=le)i(g),Te.sortIndex=Te.expirationTime,e(f,Te);else break;Te=t(g)}}function te(le){if(z=!1,Q(le),!O)if(t(f)!==null)O=!0,wt(F);else{var Te=t(g);Te!==null&&Ue(te,Te.startTime-le)}}function F(le,Te){O=!1,z&&(z=!1,D(x),x=-1),C=!0;var he=I;try{for(Q(Te),T=t(f);T!==null&&(!(T.expirationTime>Te)||le&&!j());){var $=T.callback;if(typeof $=="function"){T.callback=null,I=T.priorityLevel;var Z=$(T.expirationTime<=Te);Te=n.unstable_now(),typeof Z=="function"?T.callback=Z:T===t(f)&&i(f),Q(Te)}else i(f);T=t(f)}if(T!==null)var we=!0;else{var Me=t(g);Me!==null&&Ue(te,Me.startTime-Te),we=!1}return we}finally{T=null,I=he,C=!1}}var oe=!1,P=null,x=-1,R=5,b=-1;function j(){return!(n.unstable_now()-b<R)}function B(){if(P!==null){var le=n.unstable_now();b=le;var Te=!0;try{Te=P(!0,le)}finally{Te?k():(oe=!1,P=null)}}else oe=!1}var k;if(typeof K=="function")k=function(){K(B)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,Be=ht.port2;ht.port1.onmessage=B,k=function(){Be.postMessage(null)}}else k=function(){N(B,0)};function wt(le){P=le,oe||(oe=!0,k())}function Ue(le,Te){x=N(function(){le(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){O||C||(O=!0,wt(F))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(I){case 1:case 2:case 3:var Te=3;break;default:Te=I}var he=I;I=Te;try{return le()}finally{I=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Te){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var he=I;I=le;try{return Te()}finally{I=he}},n.unstable_scheduleCallback=function(le,Te,he){var $=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?$+he:$):he=$,le){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,le={id:_++,callback:Te,priorityLevel:le,startTime:he,expirationTime:Z,sortIndex:-1},he>$?(le.sortIndex=he,e(g,le),t(f)===null&&le===t(g)&&(z?(D(x),x=-1):z=!0,Ue(te,he-$))):(le.sortIndex=Z,e(f,le),O||C||(O=!0,wt(F))),le},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(le){var Te=I;return function(){var he=I;I=Te;try{return le.apply(this,arguments)}finally{I=he}}}}(qh)),qh}var Yg;function Zw(){return Yg||(Yg=1,Wh.exports=Jw()),Wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function eE(){if(Xg)return Ln;Xg=1;var n=Uf(),e=Zw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function I(r){return f.call(T,r)?!0:f.call(_,r)?!1:g.test(r)?T[r]=!0:(_[r]=!0,!1)}function C(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,l,d){if(s===null||typeof s>"u"||C(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,l,d,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(D,K);N[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(D,K);N[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(D,K);N[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,l,d){var p=N.hasOwnProperty(s)?N[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,d)&&(l=null),d||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),oe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),le=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,$;function Z(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var we=!1;function Me(r,s){if(!r||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){d=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}r()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,A=y.length-1;1<=w&&0<=A&&p[w]!==y[A];)A--;for(;1<=w&&0<=A;w--,A--)if(p[w]!==y[A]){if(w!==1||A!==1)do if(w--,A--,0>A||p[w]!==y[A]){var M=`
`+p[w].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=w&&0<=A);break}}}finally{we=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function Le(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function $e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case oe:return"Portal";case R:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Be:return s=r.displayName||null,s!==null?s:$e(r.type)||"Memo";case wt:s=r._payload,r=r._init;try{return $e(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mt(r){var s=je(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Kn(r){r._valueTracker||(r._valueTracker=mt(r))}function bi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=je(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function on(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Jr(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ni(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=et(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Di(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function Ps(r,s){Di(r,s);var l=et(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Li(r,s.type,l):s.hasOwnProperty("defaultValue")&&Li(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function yo(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Li(r,s,l){(s!=="number"||on(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ir=Array.isArray;function Gt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+et(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function sr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(ir(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:et(l)}}function Ar(r,s){var l=et(s.value),d=et(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function In(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vn,As=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(r){br.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),kr[s]=kr[r]})});function Oi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||kr.hasOwnProperty(r)&&kr[r]?(""+s).trim():s+"px"}function ks(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Oi(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var Mi=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,s){if(s){if(Mi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Vi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=null;function ji(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ei=null,Sn=null,jn=null;function ar(r){if(r=Ua(r)){if(typeof ei!="function")throw Error(t(280));var s=r.stateNode;s&&(s=fu(s),ei(r.stateNode,r.type,s))}}function vn(r){Sn?jn?jn.push(r):jn=[r]:Sn=r}function bs(){if(Sn){var r=Sn,s=jn;if(jn=Sn=null,ar(r),s)for(r=0;r<s.length;r++)ar(s[r])}}function ti(r,s){return r(s)}function V(){}var H=!1;function X(r,s,l){if(H)return r(s,l);H=!0;try{return ti(r,s,l)}finally{H=!1,(Sn!==null||jn!==null)&&(V(),bs())}}function ee(r,s){var l=r.stateNode;if(l===null)return null;var d=fu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var fe=!1;if(h)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Re(r,s,l,d,p,y,w,A,M){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(l,Y)}catch(ie){this.onError(ie)}}var pe=!1,_e=null,ce=!1,ke=null,Fe={onError:function(r){pe=!0,_e=r}};function st(r,s,l,d,p,y,w,A,M){pe=!1,_e=null,Re.apply(Fe,arguments)}function Pt(r,s,l,d,p,y,w,A,M){if(st.apply(this,arguments),pe){if(pe){var Y=_e;pe=!1,_e=null}else throw Error(t(198));ce||(ce=!0,ke=Y)}}function qe(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ot(r){if(qe(r)!==r)throw Error(t(188))}function lr(r){var s=r.alternate;if(!s){if(s=qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ot(p),r;if(y===d)return ot(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var w=!1,A=p.child;A;){if(A===l){w=!0,l=p,d=y;break}if(A===d){w=!0,d=p,l=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===l){w=!0,l=y,d=p;break}if(A===d){w=!0,d=y,l=p;break}A=A.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ur(r){return r=lr(r),r!==null?an(r):null}function an(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=an(r);if(s!==null)return s;r=r.sibling}return null}var Yt=e.unstable_scheduleCallback,ni=e.unstable_cancelCallback,Dr=e.unstable_shouldYield,cr=e.unstable_requestPaint,at=e.unstable_now,ri=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,gt=e.unstable_UserBlockingPriority,Xt=e.unstable_NormalPriority,dr=e.unstable_LowPriority,yt=e.unstable_IdlePriority,Rn=null,ln=null;function vo(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Rn,r,void 0,(r.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Wl,Ia=Math.log,Hl=Math.LN2;function Wl(r){return r>>>=0,r===0?32:31-(Ia(r)/Hl|0)|0}var _o=64,wo=4194304;function Fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ns(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,w=l&268435455;if(w!==0){var A=w&~p;A!==0?d=Fi(A):(y&=w,y!==0&&(d=Fi(y)))}else w=l&~p,w!==0?d=Fi(w):y!==0&&(d=Fi(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-_n(s),p=1<<l,d|=r[l],s&=~p;return d}function vd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-_n(y),A=1<<w,M=p[w];M===-1?(!(A&l)||A&d)&&(p[w]=vd(A,s)):M<=s&&(r.expiredLanes|=A),y&=~A}}function Fn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ds(){var r=_o;return _o<<=1,!(_o&4194240)&&(_o=64),r}function Ui(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function zi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-_n(s),r[s]=l}function ft(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-_n(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Bi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-_n(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function $i(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ql,Eo,Kl,Gl,Ql,Sa=!1,Lr=[],Jt=null,hr=null,fr=null,Hi=new Map,Gn=new Map,Or=[],_d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yl(r,s){switch(r){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(s.pointerId)}}function Cn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ua(s),s!==null&&Eo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function wd(r,s,l,d,p){switch(s){case"focusin":return Jt=Cn(Jt,r,s,l,d,p),!0;case"dragenter":return hr=Cn(hr,r,s,l,d,p),!0;case"mouseover":return fr=Cn(fr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Hi.set(y,Cn(Hi.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Gn.set(y,Cn(Gn.get(y)||null,r,s,l,d,p)),!0}return!1}function Xl(r){var s=js(r.target);if(s!==null){var l=qe(s);if(l!==null){if(s=l.tag,s===13){if(s=tt(l),s!==null){r.blockedOn=s,Ql(r.priority,function(){Kl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function si(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=To(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);or=d,l.target.dispatchEvent(d),or=null}else return s=Ua(l),s!==null&&Eo(s),r.blockedOn=l,!1;s.shift()}return!0}function Ls(r,s,l){si(r)&&l.delete(s)}function Jl(){Sa=!1,Jt!==null&&si(Jt)&&(Jt=null),hr!==null&&si(hr)&&(hr=null),fr!==null&&si(fr)&&(fr=null),Hi.forEach(Ls),Gn.forEach(Ls)}function pr(r,s){r.blockedOn===s&&(r.blockedOn=null,Sa||(Sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jl)))}function mr(r){function s(p){return pr(p,r)}if(0<Lr.length){pr(Lr[0],r);for(var l=1;l<Lr.length;l++){var d=Lr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Jt!==null&&pr(Jt,r),hr!==null&&pr(hr,r),fr!==null&&pr(fr,r),Hi.forEach(s),Gn.forEach(s),l=0;l<Or.length;l++)d=Or[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Or.length&&(l=Or[0],l.blockedOn===null);)Xl(l),l.blockedOn===null&&Or.shift()}var oi=te.ReactCurrentBatchConfig,Wi=!0;function Et(r,s,l,d){var p=Ke,y=oi.transition;oi.transition=null;try{Ke=1,Ra(r,s,l,d)}finally{Ke=p,oi.transition=y}}function Ed(r,s,l,d){var p=Ke,y=oi.transition;oi.transition=null;try{Ke=4,Ra(r,s,l,d)}finally{Ke=p,oi.transition=y}}function Ra(r,s,l,d){if(Wi){var p=To(r,s,l,d);if(p===null)Nd(r,s,d,Os,l),Yl(r,d);else if(wd(p,r,s,l,d))d.stopPropagation();else if(Yl(r,d),s&4&&-1<_d.indexOf(r)){for(;p!==null;){var y=Ua(p);if(y!==null&&ql(y),y=To(r,s,l,d),y===null&&Nd(r,s,d,Os,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Nd(r,s,d,null,l)}}var Os=null;function To(r,s,l,d){if(Os=null,r=ji(d),r=js(r),r!==null)if(s=qe(r),s===null)r=null;else if(l=s.tag,l===13){if(r=tt(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Os=r,null}function Ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ri()){case Ye:return 1;case gt:return 4;case Xt:case dr:return 16;case yt:return 536870912;default:return 16}default:return 16}}var Un=null,xo=null,Pn=null;function Pa(){if(Pn)return Pn;var r,s=xo,l=s.length,d,p="value"in Un?Un.value:Un.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var w=l-r;for(d=1;d<=w&&s[l-d]===p[y-d];d++);return Pn=p.slice(r,1<d?1-d:void 0)}function Io(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function Aa(){return!1}function Zt(r){function s(l,d,p,y,w){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Mr:Aa,this.isPropagationStopped=Aa,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),s}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Zt(gr),Vr=he({},gr,{view:0,detail:0}),Td=Zt(Vr),Ro,ai,qi,Ms=he({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(Ro=r.screenX-qi.screenX,ai=r.screenY-qi.screenY):ai=Ro=0,qi=r),Ro)},movementY:function(r){return"movementY"in r?r.movementY:ai}}),Co=Zt(Ms),ka=he({},Ms,{dataTransfer:0}),Zl=Zt(ka),Po=he({},Vr,{relatedTarget:0}),Ao=Zt(Po),eu=he({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),li=Zt(eu),tu=he({},gr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nu=Zt(tu),ru=he({},gr,{data:0}),ba=Zt(ru),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=iu[r])?!!s[r]:!1}function jr(){return su}var u=he({},Vr,{key:function(r){if(r.key){var s=ko[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(r){return r.type==="keypress"?Io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Zt(u),v=he({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Zt(v),W=he({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),J=Zt(W),de=he({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Zt(de),Mt=he({},Ms,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Zt(Mt),Bt=[9,13,27,32],Dt=h&&"CompositionEvent"in window,Qn=null;h&&"documentMode"in document&&(Qn=document.documentMode);var zn=h&&"TextEvent"in window&&!Qn,Vs=h&&(!Dt||Qn&&8<Qn&&11>=Qn),bo=" ",Fp=!1;function Up(r,s){switch(r){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var No=!1;function q1(r,s){switch(r){case"compositionend":return zp(s);case"keypress":return s.which!==32?null:(Fp=!0,bo);case"textInput":return r=s.data,r===bo&&Fp?null:r;default:return null}}function K1(r,s){if(No)return r==="compositionend"||!Dt&&Up(r,s)?(r=Pa(),Pn=xo=Un=null,No=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vs&&s.locale!=="ko"?null:s.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!G1[r.type]:s==="textarea"}function $p(r,s,l,d){vn(d),s=cu(s,"onChange"),0<s.length&&(l=new So("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Na=null,Da=null;function Q1(r){am(r,0)}function ou(r){var s=Vo(r);if(bi(s))return r}function Y1(r,s){if(r==="change")return s}var Hp=!1;if(h){var xd;if(h){var Id="oninput"in document;if(!Id){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Id=typeof Wp.oninput=="function"}xd=Id}else xd=!1;Hp=xd&&(!document.documentMode||9<document.documentMode)}function qp(){Na&&(Na.detachEvent("onpropertychange",Kp),Da=Na=null)}function Kp(r){if(r.propertyName==="value"&&ou(Da)){var s=[];$p(s,Da,r,ji(r)),X(Q1,s)}}function X1(r,s,l){r==="focusin"?(qp(),Na=s,Da=l,Na.attachEvent("onpropertychange",Kp)):r==="focusout"&&qp()}function J1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ou(Da)}function Z1(r,s){if(r==="click")return ou(s)}function ew(r,s){if(r==="input"||r==="change")return ou(s)}function tw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yr=typeof Object.is=="function"?Object.is:tw;function La(r,s){if(yr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!yr(r[p],s[p]))return!1}return!0}function Gp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qp(r,s){var l=Gp(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gp(l)}}function Yp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Yp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xp(){for(var r=window,s=on();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=on(r.document)}return s}function Sd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nw(r){var s=Xp(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Yp(l.ownerDocument.documentElement,l)){if(d!==null&&Sd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Qp(l,y);var w=Qp(l,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rw=h&&"documentMode"in document&&11>=document.documentMode,Do=null,Rd=null,Oa=null,Cd=!1;function Jp(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cd||Do==null||Do!==on(d)||(d=Do,"selectionStart"in d&&Sd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oa&&La(Oa,d)||(Oa=d,d=cu(Rd,"onSelect"),0<d.length&&(s=new So("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Do)))}function au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Lo={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Pd={},Zp={};h&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function lu(r){if(Pd[r])return Pd[r];if(!Lo[r])return r;var s=Lo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Zp)return Pd[r]=s[l];return r}var em=lu("animationend"),tm=lu("animationiteration"),nm=lu("animationstart"),rm=lu("transitionend"),im=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(r,s){im.set(r,s),a(s,[r])}for(var Ad=0;Ad<sm.length;Ad++){var kd=sm[Ad],iw=kd.toLowerCase(),sw=kd[0].toUpperCase()+kd.slice(1);Ki(iw,"on"+sw)}Ki(em,"onAnimationEnd"),Ki(tm,"onAnimationIteration"),Ki(nm,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(rm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function om(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Pt(d,s,void 0,r),r.currentTarget=null}function am(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var A=d[w],M=A.instance,Y=A.currentTarget;if(A=A.listener,M!==y&&p.isPropagationStopped())break e;om(p,A,Y),y=M}else for(w=0;w<d.length;w++){if(A=d[w],M=A.instance,Y=A.currentTarget,A=A.listener,M!==y&&p.isPropagationStopped())break e;om(p,A,Y),y=M}}}if(ce)throw r=ke,ce=!1,ke=null,r}function vt(r,s){var l=s[jd];l===void 0&&(l=s[jd]=new Set);var d=r+"__bubble";l.has(d)||(lm(s,r,2,!1),l.add(d))}function bd(r,s,l){var d=0;s&&(d|=4),lm(l,r,d,s)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Va(r){if(!r[uu]){r[uu]=!0,i.forEach(function(l){l!=="selectionchange"&&(ow.has(l)||bd(l,!1,r),bd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[uu]||(s[uu]=!0,bd("selectionchange",!1,s))}}function lm(r,s,l,d){switch(Ca(s)){case 1:var p=Et;break;case 4:p=Ed;break;default:p=Ra}l=p.bind(null,s,l,r),p=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Nd(r,s,l,d,p){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;A!==null;){if(w=js(A),w===null)return;if(M=w.tag,M===5||M===6){d=y=w;continue e}A=A.parentNode}}d=d.return}X(function(){var Y=y,ie=ji(l),ae=[];e:{var re=im.get(r);if(re!==void 0){var me=So,Ee=r;switch(r){case"keypress":if(Io(l)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Ee="focus",me=Ao;break;case"focusout":Ee="blur",me=Ao;break;case"beforeblur":case"afterblur":me=Ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case em:case tm:case nm:me=li;break;case rm:me=ct;break;case"scroll":me=Td;break;case"wheel":me=Xe;break;case"copy":case"cut":case"paste":me=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=S}var xe=(s&4)!==0,kt=!xe&&r==="scroll",q=xe?re!==null?re+"Capture":null:re;xe=[];for(var U=Y,G;U!==null;){G=U;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=ee(U,q),ue!=null&&xe.push(ja(U,ue,G)))),kt)break;U=U.return}0<xe.length&&(re=new me(re,Ee,null,l,ie),ae.push({event:re,listeners:xe}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",re&&l!==or&&(Ee=l.relatedTarget||l.fromElement)&&(js(Ee)||Ee[ui]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(Ee=l.relatedTarget||l.toElement,me=Y,Ee=Ee?js(Ee):null,Ee!==null&&(kt=qe(Ee),Ee!==kt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=Y),me!==Ee)){if(xe=Co,ue="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(xe=S,ue="onPointerLeave",q="onPointerEnter",U="pointer"),kt=me==null?re:Vo(me),G=Ee==null?re:Vo(Ee),re=new xe(ue,U+"leave",me,l,ie),re.target=kt,re.relatedTarget=G,ue=null,js(ie)===Y&&(xe=new xe(q,U+"enter",Ee,l,ie),xe.target=G,xe.relatedTarget=kt,ue=xe),kt=ue,me&&Ee)t:{for(xe=me,q=Ee,U=0,G=xe;G;G=Oo(G))U++;for(G=0,ue=q;ue;ue=Oo(ue))G++;for(;0<U-G;)xe=Oo(xe),U--;for(;0<G-U;)q=Oo(q),G--;for(;U--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=Oo(xe),q=Oo(q)}xe=null}else xe=null;me!==null&&um(ae,re,me,xe,!1),Ee!==null&&kt!==null&&um(ae,kt,Ee,xe,!0)}}e:{if(re=Y?Vo(Y):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Ie=Y1;else if(Bp(re))if(Hp)Ie=ew;else{Ie=J1;var Ce=X1}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ie=Z1);if(Ie&&(Ie=Ie(r,Y))){$p(ae,Ie,l,ie);break e}Ce&&Ce(r,re,Y),r==="focusout"&&(Ce=re._wrapperState)&&Ce.controlled&&re.type==="number"&&Li(re,"number",re.value)}switch(Ce=Y?Vo(Y):window,r){case"focusin":(Bp(Ce)||Ce.contentEditable==="true")&&(Do=Ce,Rd=Y,Oa=null);break;case"focusout":Oa=Rd=Do=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Jp(ae,l,ie);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":Jp(ae,l,ie)}var Pe;if(Dt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else No?Up(r,l)&&(Ne="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Vs&&l.locale!=="ko"&&(No||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&No&&(Pe=Pa()):(Un=ie,xo="value"in Un?Un.value:Un.textContent,No=!0)),Ce=cu(Y,Ne),0<Ce.length&&(Ne=new ba(Ne,r,null,l,ie),ae.push({event:Ne,listeners:Ce}),Pe?Ne.data=Pe:(Pe=zp(l),Pe!==null&&(Ne.data=Pe)))),(Pe=zn?q1(r,l):K1(r,l))&&(Y=cu(Y,"onBeforeInput"),0<Y.length&&(ie=new ba("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:Y}),ie.data=Pe))}am(ae,s)})}function ja(r,s,l){return{instance:r,listener:s,currentTarget:l}}function cu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ee(r,l),y!=null&&d.unshift(ja(r,y,p)),y=ee(r,s),y!=null&&d.push(ja(r,y,p))),r=r.return}return d}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function um(r,s,l,d,p){for(var y=s._reactName,w=[];l!==null&&l!==d;){var A=l,M=A.alternate,Y=A.stateNode;if(M!==null&&M===d)break;A.tag===5&&Y!==null&&(A=Y,p?(M=ee(l,y),M!=null&&w.unshift(ja(l,M,A))):p||(M=ee(l,y),M!=null&&w.push(ja(l,M,A)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var aw=/\r\n?/g,lw=/\u0000|\uFFFD/g;function cm(r){return(typeof r=="string"?r:""+r).replace(aw,`
`).replace(lw,"")}function du(r,s,l){if(s=cm(s),cm(r)!==s&&l)throw Error(t(425))}function hu(){}var Dd=null,Ld=null;function Od(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,uw=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(r){return dm.resolve(null).then(r).catch(dw)}:Md;function dw(r){setTimeout(function(){throw r})}function Vd(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),mr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);mr(s)}function Gi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function hm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Mo,Fa="__reactProps$"+Mo,ui="__reactContainer$"+Mo,jd="__reactEvents$"+Mo,hw="__reactListeners$"+Mo,fw="__reactHandles$"+Mo;function js(r){var s=r[Fr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ui]||l[Fr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=hm(r);r!==null;){if(l=r[Fr])return l;r=hm(r)}return s}r=l,l=r.parentNode}return null}function Ua(r){return r=r[Fr]||r[ui],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Vo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function fu(r){return r[Fa]||null}var Fd=[],jo=-1;function Qi(r){return{current:r}}function _t(r){0>jo||(r.current=Fd[jo],Fd[jo]=null,jo--)}function pt(r,s){jo++,Fd[jo]=r.current,r.current=s}var Yi={},un=Qi(Yi),An=Qi(!1),Fs=Yi;function Fo(r,s){var l=r.type.contextTypes;if(!l)return Yi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function kn(r){return r=r.childContextTypes,r!=null}function pu(){_t(An),_t(un)}function fm(r,s,l){if(un.current!==Yi)throw Error(t(168));pt(un,s),pt(An,l)}function pm(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ze(r)||"Unknown",p));return he({},l,d)}function mu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Yi,Fs=un.current,pt(un,r),pt(An,An.current),!0}function mm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=pm(r,s,Fs),d.__reactInternalMemoizedMergedChildContext=r,_t(An),_t(un),pt(un,r)):_t(An),pt(An,l)}var ci=null,gu=!1,Ud=!1;function gm(r){ci===null?ci=[r]:ci.push(r)}function pw(r){gu=!0,gm(r)}function Xi(){if(!Ud&&ci!==null){Ud=!0;var r=0,s=Ke;try{var l=ci;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ci=null,gu=!1}catch(p){throw ci!==null&&(ci=ci.slice(r+1)),Yt(Ye,Xi),p}finally{Ke=s,Ud=!1}}return null}var Uo=[],zo=0,yu=null,vu=0,Yn=[],Xn=0,Us=null,di=1,hi="";function zs(r,s){Uo[zo++]=vu,Uo[zo++]=yu,yu=r,vu=s}function ym(r,s,l){Yn[Xn++]=di,Yn[Xn++]=hi,Yn[Xn++]=Us,Us=r;var d=di;r=hi;var p=32-_n(d)-1;d&=~(1<<p),l+=1;var y=32-_n(s)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,di=1<<32-_n(s)+p|l<<p|d,hi=y+r}else di=1<<y|l<<p|d,hi=r}function zd(r){r.return!==null&&(zs(r,1),ym(r,1,0))}function Bd(r){for(;r===yu;)yu=Uo[--zo],Uo[zo]=null,vu=Uo[--zo],Uo[zo]=null;for(;r===Us;)Us=Yn[--Xn],Yn[Xn]=null,hi=Yn[--Xn],Yn[Xn]=null,di=Yn[--Xn],Yn[Xn]=null}var Bn=null,$n=null,Tt=!1,vr=null;function vm(r,s){var l=tr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function _m(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Bn=r,$n=Gi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Bn=r,$n=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Us!==null?{id:di,overflow:hi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=tr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Bn=r,$n=null,!0):!1;default:return!1}}function $d(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hd(r){if(Tt){var s=$n;if(s){var l=s;if(!_m(r,s)){if($d(r))throw Error(t(418));s=Gi(l.nextSibling);var d=Bn;s&&_m(r,s)?vm(d,l):(r.flags=r.flags&-4097|2,Tt=!1,Bn=r)}}else{if($d(r))throw Error(t(418));r.flags=r.flags&-4097|2,Tt=!1,Bn=r}}}function wm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bn=r}function _u(r){if(r!==Bn)return!1;if(!Tt)return wm(r),Tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Od(r.type,r.memoizedProps)),s&&(s=$n)){if($d(r))throw Em(),Error(t(418));for(;s;)vm(r,s),s=Gi(s.nextSibling)}if(wm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){$n=Gi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}$n=null}}else $n=Bn?Gi(r.stateNode.nextSibling):null;return!0}function Em(){for(var r=$n;r;)r=Gi(r.nextSibling)}function Bo(){$n=Bn=null,Tt=!1}function Wd(r){vr===null?vr=[r]:vr.push(r)}var mw=te.ReactCurrentBatchConfig;function za(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var A=p.refs;w===null?delete A[y]:A[y]=w},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function wu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Tm(r){var s=r._init;return s(r._payload)}function xm(r){function s(q,U){if(r){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function l(q,U){if(!r)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function d(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function p(q,U){return q=ss(q,U),q.index=0,q.sibling=null,q}function y(q,U,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=2,U):G):(q.flags|=2,U)):(q.flags|=1048576,U)}function w(q){return r&&q.alternate===null&&(q.flags|=2),q}function A(q,U,G,ue){return U===null||U.tag!==6?(U=Mh(G,q.mode,ue),U.return=q,U):(U=p(U,G),U.return=q,U)}function M(q,U,G,ue){var Ie=G.type;return Ie===P?ie(q,U,G.props.children,ue,G.key):U!==null&&(U.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===wt&&Tm(Ie)===U.type)?(ue=p(U,G.props),ue.ref=za(q,U,G),ue.return=q,ue):(ue=Hu(G.type,G.key,G.props,null,q.mode,ue),ue.ref=za(q,U,G),ue.return=q,ue)}function Y(q,U,G,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Vh(G,q.mode,ue),U.return=q,U):(U=p(U,G.children||[]),U.return=q,U)}function ie(q,U,G,ue,Ie){return U===null||U.tag!==7?(U=Qs(G,q.mode,ue,Ie),U.return=q,U):(U=p(U,G),U.return=q,U)}function ae(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Mh(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return G=Hu(U.type,U.key,U.props,null,q.mode,G),G.ref=za(q,null,U),G.return=q,G;case oe:return U=Vh(U,q.mode,G),U.return=q,U;case wt:var ue=U._init;return ae(q,ue(U._payload),G)}if(ir(U)||Te(U))return U=Qs(U,q.mode,G,null),U.return=q,U;wu(q,U)}return null}function re(q,U,G,ue){var Ie=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ie!==null?null:A(q,U,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return G.key===Ie?M(q,U,G,ue):null;case oe:return G.key===Ie?Y(q,U,G,ue):null;case wt:return Ie=G._init,re(q,U,Ie(G._payload),ue)}if(ir(G)||Te(G))return Ie!==null?null:ie(q,U,G,ue,null);wu(q,G)}return null}function me(q,U,G,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,A(U,q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case F:return q=q.get(ue.key===null?G:ue.key)||null,M(U,q,ue,Ie);case oe:return q=q.get(ue.key===null?G:ue.key)||null,Y(U,q,ue,Ie);case wt:var Ce=ue._init;return me(q,U,G,Ce(ue._payload),Ie)}if(ir(ue)||Te(ue))return q=q.get(G)||null,ie(U,q,ue,Ie,null);wu(U,ue)}return null}function Ee(q,U,G,ue){for(var Ie=null,Ce=null,Pe=U,Ne=U=0,Wt=null;Pe!==null&&Ne<G.length;Ne++){Pe.index>Ne?(Wt=Pe,Pe=null):Wt=Pe.sibling;var rt=re(q,Pe,G[Ne],ue);if(rt===null){Pe===null&&(Pe=Wt);break}r&&Pe&&rt.alternate===null&&s(q,Pe),U=y(rt,U,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt,Pe=Wt}if(Ne===G.length)return l(q,Pe),Tt&&zs(q,Ne),Ie;if(Pe===null){for(;Ne<G.length;Ne++)Pe=ae(q,G[Ne],ue),Pe!==null&&(U=y(Pe,U,Ne),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return Tt&&zs(q,Ne),Ie}for(Pe=d(q,Pe);Ne<G.length;Ne++)Wt=me(Pe,q,Ne,G[Ne],ue),Wt!==null&&(r&&Wt.alternate!==null&&Pe.delete(Wt.key===null?Ne:Wt.key),U=y(Wt,U,Ne),Ce===null?Ie=Wt:Ce.sibling=Wt,Ce=Wt);return r&&Pe.forEach(function(os){return s(q,os)}),Tt&&zs(q,Ne),Ie}function xe(q,U,G,ue){var Ie=Te(G);if(typeof Ie!="function")throw Error(t(150));if(G=Ie.call(G),G==null)throw Error(t(151));for(var Ce=Ie=null,Pe=U,Ne=U=0,Wt=null,rt=G.next();Pe!==null&&!rt.done;Ne++,rt=G.next()){Pe.index>Ne?(Wt=Pe,Pe=null):Wt=Pe.sibling;var os=re(q,Pe,rt.value,ue);if(os===null){Pe===null&&(Pe=Wt);break}r&&Pe&&os.alternate===null&&s(q,Pe),U=y(os,U,Ne),Ce===null?Ie=os:Ce.sibling=os,Ce=os,Pe=Wt}if(rt.done)return l(q,Pe),Tt&&zs(q,Ne),Ie;if(Pe===null){for(;!rt.done;Ne++,rt=G.next())rt=ae(q,rt.value,ue),rt!==null&&(U=y(rt,U,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt);return Tt&&zs(q,Ne),Ie}for(Pe=d(q,Pe);!rt.done;Ne++,rt=G.next())rt=me(Pe,q,Ne,rt.value,ue),rt!==null&&(r&&rt.alternate!==null&&Pe.delete(rt.key===null?Ne:rt.key),U=y(rt,U,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt);return r&&Pe.forEach(function(Kw){return s(q,Kw)}),Tt&&zs(q,Ne),Ie}function kt(q,U,G,ue){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case F:e:{for(var Ie=G.key,Ce=U;Ce!==null;){if(Ce.key===Ie){if(Ie=G.type,Ie===P){if(Ce.tag===7){l(q,Ce.sibling),U=p(Ce,G.props.children),U.return=q,q=U;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===wt&&Tm(Ie)===Ce.type){l(q,Ce.sibling),U=p(Ce,G.props),U.ref=za(q,Ce,G),U.return=q,q=U;break e}l(q,Ce);break}else s(q,Ce);Ce=Ce.sibling}G.type===P?(U=Qs(G.props.children,q.mode,ue,G.key),U.return=q,q=U):(ue=Hu(G.type,G.key,G.props,null,q.mode,ue),ue.ref=za(q,U,G),ue.return=q,q=ue)}return w(q);case oe:e:{for(Ce=G.key;U!==null;){if(U.key===Ce)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(q,U.sibling),U=p(U,G.children||[]),U.return=q,q=U;break e}else{l(q,U);break}else s(q,U);U=U.sibling}U=Vh(G,q.mode,ue),U.return=q,q=U}return w(q);case wt:return Ce=G._init,kt(q,U,Ce(G._payload),ue)}if(ir(G))return Ee(q,U,G,ue);if(Te(G))return xe(q,U,G,ue);wu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(q,U.sibling),U=p(U,G),U.return=q,q=U):(l(q,U),U=Mh(G,q.mode,ue),U.return=q,q=U),w(q)):l(q,U)}return kt}var $o=xm(!0),Im=xm(!1),Eu=Qi(null),Tu=null,Ho=null,qd=null;function Kd(){qd=Ho=Tu=null}function Gd(r){var s=Eu.current;_t(Eu),r._currentValue=s}function Qd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Wo(r,s){Tu=r,qd=Ho=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(bn=!0),r.firstContext=null)}function Jn(r){var s=r._currentValue;if(qd!==r)if(r={context:r,memoizedValue:s,next:null},Ho===null){if(Tu===null)throw Error(t(308));Ho=r,Tu.dependencies={lanes:0,firstContext:r}}else Ho=Ho.next=r;return s}var Bs=null;function Yd(r){Bs===null?Bs=[r]:Bs.push(r)}function Sm(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Yd(s)):(l.next=p.next,p.next=l),s.interleaved=l,fi(r,d)}function fi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ji=!1;function Xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Zi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,nt&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,fi(r,l)}return p=d.interleaved,p===null?(s.next=s,Yd(d)):(s.next=p.next,p.next=s),d.interleaved=s,fi(r,l)}function xu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Bi(r,l)}}function Cm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Iu(r,s,l,d){var p=r.updateQueue;Ji=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var M=A,Y=M.next;M.next=null,w===null?y=Y:w.next=Y,w=M;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=Y:A.next=Y,ie.lastBaseUpdate=M))}if(y!==null){var ae=p.baseState;w=0,ie=Y=M=null,A=y;do{var re=A.lane,me=A.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Ee=r,xe=A;switch(re=s,me=l,xe.tag){case 1:if(Ee=xe.payload,typeof Ee=="function"){ae=Ee.call(me,ae,re);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=xe.payload,re=typeof Ee=="function"?Ee.call(me,ae,re):Ee,re==null)break e;ae=he({},ae,re);break e;case 2:Ji=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[A]:re.push(A))}else me={eventTime:me,lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(Y=ie=me,M=ae):ie=ie.next=me,w|=re;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;re=A,A=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(M=ae),p.baseState=M,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ws|=w,r.lanes=w,r.memoizedState=ae}}function Pm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ba={},Ur=Qi(Ba),$a=Qi(Ba),Ha=Qi(Ba);function $s(r){if(r===Ba)throw Error(t(174));return r}function Jd(r,s){switch(pt(Ha,s),pt($a,r),pt(Ur,Ba),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ct(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ct(s,r)}_t(Ur),pt(Ur,s)}function qo(){_t(Ur),_t($a),_t(Ha)}function Am(r){$s(Ha.current);var s=$s(Ur.current),l=Ct(s,r.type);s!==l&&(pt($a,r),pt(Ur,l))}function Zd(r){$a.current===r&&(_t(Ur),_t($a))}var It=Qi(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var eh=[];function th(){for(var r=0;r<eh.length;r++)eh[r]._workInProgressVersionPrimary=null;eh.length=0}var Ru=te.ReactCurrentDispatcher,nh=te.ReactCurrentBatchConfig,Hs=0,St=null,Vt=null,$t=null,Cu=!1,Wa=!1,qa=0,gw=0;function cn(){throw Error(t(321))}function rh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!yr(r[l],s[l]))return!1;return!0}function ih(r,s,l,d,p,y){if(Hs=y,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ru.current=r===null||r.memoizedState===null?ww:Ew,r=l(d,p),Wa){y=0;do{if(Wa=!1,qa=0,25<=y)throw Error(t(301));y+=1,$t=Vt=null,s.updateQueue=null,Ru.current=Tw,r=l(d,p)}while(Wa)}if(Ru.current=ku,s=Vt!==null&&Vt.next!==null,Hs=0,$t=Vt=St=null,Cu=!1,s)throw Error(t(300));return r}function sh(){var r=qa!==0;return qa=0,r}function zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?St.memoizedState=$t=r:$t=$t.next=r,$t}function Zn(){if(Vt===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=$t===null?St.memoizedState:$t.next;if(s!==null)$t=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},$t===null?St.memoizedState=$t=r:$t=$t.next=r}return $t}function Ka(r,s){return typeof s=="function"?s(r):s}function oh(r){var s=Zn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Vt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=w=null,M=null,Y=y;do{var ie=Y.lane;if((Hs&ie)===ie)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:r(d,Y.action);else{var ae={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(A=M=ae,w=d):M=M.next=ae,St.lanes|=ie,Ws|=ie}Y=Y.next}while(Y!==null&&Y!==y);M===null?w=d:M.next=A,yr(d,s.memoizedState)||(bn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=M,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,St.lanes|=y,Ws|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ah(r){var s=Zn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);yr(y,s.memoizedState)||(bn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function km(){}function bm(r,s){var l=St,d=Zn(),p=s(),y=!yr(d.memoizedState,p);if(y&&(d.memoizedState=p,bn=!0),d=d.queue,lh(Lm.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Dm.bind(null,l,d,p,s),void 0,null),Ht===null)throw Error(t(349));Hs&30||Nm(l,s,p)}return p}function Nm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Dm(r,s,l,d){s.value=l,s.getSnapshot=d,Om(s)&&Mm(r)}function Lm(r,s,l){return l(function(){Om(s)&&Mm(r)})}function Om(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!yr(r,l)}catch{return!0}}function Mm(r){var s=fi(r,1);s!==null&&Tr(s,r,1,-1)}function Vm(r){var s=zr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:r},s.queue=r,r=r.dispatch=_w.bind(null,St,r),[s.memoizedState,r]}function Ga(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function jm(){return Zn().memoizedState}function Pu(r,s,l,d){var p=zr();St.flags|=r,p.memoizedState=Ga(1|s,l,void 0,d===void 0?null:d)}function Au(r,s,l,d){var p=Zn();d=d===void 0?null:d;var y=void 0;if(Vt!==null){var w=Vt.memoizedState;if(y=w.destroy,d!==null&&rh(d,w.deps)){p.memoizedState=Ga(s,l,y,d);return}}St.flags|=r,p.memoizedState=Ga(1|s,l,y,d)}function Fm(r,s){return Pu(8390656,8,r,s)}function lh(r,s){return Au(2048,8,r,s)}function Um(r,s){return Au(4,2,r,s)}function zm(r,s){return Au(4,4,r,s)}function Bm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function $m(r,s,l){return l=l!=null?l.concat([r]):null,Au(4,4,Bm.bind(null,s,r),l)}function uh(){}function Hm(r,s){var l=Zn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&rh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Wm(r,s){var l=Zn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&rh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function qm(r,s,l){return Hs&21?(yr(l,s)||(l=Ds(),St.lanes|=l,Ws|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,bn=!0),r.memoizedState=l)}function yw(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=nh.transition;nh.transition={};try{r(!1),s()}finally{Ke=l,nh.transition=d}}function Km(){return Zn().memoizedState}function vw(r,s,l){var d=rs(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Gm(r))Qm(s,l);else if(l=Sm(r,s,l,d),l!==null){var p=Tn();Tr(l,r,d,p),Ym(l,s,d)}}function _w(r,s,l){var d=rs(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gm(r))Qm(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,A=y(w,l);if(p.hasEagerState=!0,p.eagerState=A,yr(A,w)){var M=s.interleaved;M===null?(p.next=p,Yd(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}l=Sm(r,s,p,d),l!==null&&(p=Tn(),Tr(l,r,d,p),Ym(l,s,d))}}function Gm(r){var s=r.alternate;return r===St||s!==null&&s===St}function Qm(r,s){Wa=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ym(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Bi(r,l)}}var ku={readContext:Jn,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},ww={readContext:Jn,useCallback:function(r,s){return zr().memoizedState=[r,s===void 0?null:s],r},useContext:Jn,useEffect:Fm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Pu(4194308,4,Bm.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Pu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Pu(4,2,r,s)},useMemo:function(r,s){var l=zr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=zr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=vw.bind(null,St,r),[d.memoizedState,r]},useRef:function(r){var s=zr();return r={current:r},s.memoizedState=r},useState:Vm,useDebugValue:uh,useDeferredValue:function(r){return zr().memoizedState=r},useTransition:function(){var r=Vm(!1),s=r[0];return r=yw.bind(null,r[1]),zr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=St,p=zr();if(Tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ht===null)throw Error(t(349));Hs&30||Nm(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Fm(Lm.bind(null,d,y,r),[r]),d.flags|=2048,Ga(9,Dm.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=zr(),s=Ht.identifierPrefix;if(Tt){var l=hi,d=di;l=(d&~(1<<32-_n(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=qa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=gw++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Ew={readContext:Jn,useCallback:Hm,useContext:Jn,useEffect:lh,useImperativeHandle:$m,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:Wm,useReducer:oh,useRef:jm,useState:function(){return oh(Ka)},useDebugValue:uh,useDeferredValue:function(r){var s=Zn();return qm(s,Vt.memoizedState,r)},useTransition:function(){var r=oh(Ka)[0],s=Zn().memoizedState;return[r,s]},useMutableSource:km,useSyncExternalStore:bm,useId:Km,unstable_isNewReconciler:!1},Tw={readContext:Jn,useCallback:Hm,useContext:Jn,useEffect:lh,useImperativeHandle:$m,useInsertionEffect:Um,useLayoutEffect:zm,useMemo:Wm,useReducer:ah,useRef:jm,useState:function(){return ah(Ka)},useDebugValue:uh,useDeferredValue:function(r){var s=Zn();return Vt===null?s.memoizedState=r:qm(s,Vt.memoizedState,r)},useTransition:function(){var r=ah(Ka)[0],s=Zn().memoizedState;return[r,s]},useMutableSource:km,useSyncExternalStore:bm,useId:Km,unstable_isNewReconciler:!1};function _r(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function ch(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var bu={isMounted:function(r){return(r=r._reactInternals)?qe(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Tn(),p=rs(r),y=pi(d,p);y.payload=s,l!=null&&(y.callback=l),s=Zi(r,y,p),s!==null&&(Tr(s,r,p,d),xu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Tn(),p=rs(r),y=pi(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Zi(r,y,p),s!==null&&(Tr(s,r,p,d),xu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Tn(),d=rs(r),p=pi(l,d);p.tag=2,s!=null&&(p.callback=s),s=Zi(r,p,d),s!==null&&(Tr(s,r,d,l),xu(s,r,d))}};function Xm(r,s,l,d,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!La(l,d)||!La(p,y):!0}function Jm(r,s,l){var d=!1,p=Yi,y=s.contextType;return typeof y=="object"&&y!==null?y=Jn(y):(p=kn(s)?Fs:un.current,d=s.contextTypes,y=(d=d!=null)?Fo(r,p):Yi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Zm(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&bu.enqueueReplaceState(s,s.state,null)}function dh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Xd(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Jn(y):(y=kn(s)?Fs:un.current,p.context=Fo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(ch(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&bu.enqueueReplaceState(p,p.state,null),Iu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ko(r,s){try{var l="",d=s;do l+=Le(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function hh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function fh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var xw=typeof WeakMap=="function"?WeakMap:Map;function eg(r,s,l){l=pi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ju||(ju=!0,Ph=d),fh(r,s)},l}function tg(r,s,l){l=pi(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){fh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){fh(r,s),typeof d!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function ng(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new xw;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=Vw.bind(null,r,s,l),s.then(r,r))}function rg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ig(r,s,l,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=pi(-1,1),s.tag=2,Zi(l,s,1))),l.lanes|=1),r)}var Iw=te.ReactCurrentOwner,bn=!1;function En(r,s,l,d){s.child=r===null?Im(s,null,l,d):$o(s,r.child,l,d)}function sg(r,s,l,d,p){l=l.render;var y=s.ref;return Wo(s,p),d=ih(r,s,l,d,y,p),l=sh(),r!==null&&!bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,mi(r,s,p)):(Tt&&l&&zd(s),s.flags|=1,En(r,s,d,p),s.child)}function og(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Oh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ag(r,s,y,d,p)):(r=Hu(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(w,d)&&r.ref===s.ref)return mi(r,s,p)}return s.flags|=1,r=ss(y,d),r.ref=s.ref,r.return=s,s.child=r}function ag(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(La(y,d)&&r.ref===s.ref)if(bn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)r.flags&131072&&(bn=!0);else return s.lanes=r.lanes,mi(r,s,p)}return ph(r,s,l,d,p)}function lg(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Qo,Hn),Hn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,pt(Qo,Hn),Hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,pt(Qo,Hn),Hn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,pt(Qo,Hn),Hn|=d;return En(r,s,p,l),s.child}function ug(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ph(r,s,l,d,p){var y=kn(l)?Fs:un.current;return y=Fo(s,y),Wo(s,p),l=ih(r,s,l,d,y,p),d=sh(),r!==null&&!bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,mi(r,s,p)):(Tt&&d&&zd(s),s.flags|=1,En(r,s,l,p),s.child)}function cg(r,s,l,d,p){if(kn(l)){var y=!0;mu(s)}else y=!1;if(Wo(s,p),s.stateNode===null)Du(r,s),Jm(s,l,d),dh(s,l,d,p),d=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var M=w.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=Jn(Y):(Y=kn(l)?Fs:un.current,Y=Fo(s,Y));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==d||M!==Y)&&Zm(s,w,d,Y),Ji=!1;var re=s.memoizedState;w.state=re,Iu(s,d,w,p),M=s.memoizedState,A!==d||re!==M||An.current||Ji?(typeof ie=="function"&&(ch(s,l,ie,d),M=s.memoizedState),(A=Ji||Xm(s,l,A,d,re,M,Y))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),w.props=d,w.state=M,w.context=Y,d=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Rm(r,s),A=s.memoizedProps,Y=s.type===s.elementType?A:_r(s.type,A),w.props=Y,ae=s.pendingProps,re=w.context,M=l.contextType,typeof M=="object"&&M!==null?M=Jn(M):(M=kn(l)?Fs:un.current,M=Fo(s,M));var me=l.getDerivedStateFromProps;(ie=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==ae||re!==M)&&Zm(s,w,d,M),Ji=!1,re=s.memoizedState,w.state=re,Iu(s,d,w,p);var Ee=s.memoizedState;A!==ae||re!==Ee||An.current||Ji?(typeof me=="function"&&(ch(s,l,me,d),Ee=s.memoizedState),(Y=Ji||Xm(s,l,Y,d,re,Ee,M)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Ee,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Ee,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ee),w.props=d,w.state=Ee,w.context=M,d=Y):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),d=!1)}return mh(r,s,l,d,y,p)}function mh(r,s,l,d,p,y){ug(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return p&&mm(s,l,!1),mi(r,s,y);d=s.stateNode,Iw.current=s;var A=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=$o(s,r.child,null,y),s.child=$o(s,null,A,y)):En(r,s,A,y),s.memoizedState=d.state,p&&mm(s,l,!0),s.child}function dg(r){var s=r.stateNode;s.pendingContext?fm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&fm(r,s.context,!1),Jd(r,s.containerInfo)}function hg(r,s,l,d,p){return Bo(),Wd(p),s.flags|=256,En(r,s,l,d),s.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function fg(r,s,l){var d=s.pendingProps,p=It.current,y=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),pt(It,p&1),r===null)return Hd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,r=d.fallback,y?(d=s.mode,y=s.child,w={mode:"hidden",children:w},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Wu(w,d,0,null),r=Qs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=yh(l),s.memoizedState=gh,r):vh(s,w));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return Sw(r,s,w,d,A,p,l);if(y){y=d.fallback,w=s.mode,p=r.child,A=p.sibling;var M={mode:"hidden",children:d.children};return!(w&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=ss(p,M),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=ss(A,y):(y=Qs(y,w,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,w=r.child.memoizedState,w=w===null?yh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~l,s.memoizedState=gh,d}return y=r.child,r=y.sibling,d=ss(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function vh(r,s){return s=Wu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Nu(r,s,l,d){return d!==null&&Wd(d),$o(s,r.child,null,l),r=vh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Sw(r,s,l,d,p,y,w){if(l)return s.flags&256?(s.flags&=-257,d=hh(Error(t(422))),Nu(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Wu({mode:"visible",children:d.children},p,0,null),y=Qs(y,p,w,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&$o(s,r.child,null,w),s.child.memoizedState=yh(w),s.memoizedState=gh,y);if(!(s.mode&1))return Nu(r,s,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(t(419)),d=hh(y,d,void 0),Nu(r,s,w,d)}if(A=(w&r.childLanes)!==0,bn||A){if(d=Ht,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|w)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,fi(r,p),Tr(d,r,p,-1))}return Lh(),d=hh(Error(t(421))),Nu(r,s,w,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=jw.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,$n=Gi(p.nextSibling),Bn=s,Tt=!0,vr=null,r!==null&&(Yn[Xn++]=di,Yn[Xn++]=hi,Yn[Xn++]=Us,di=r.id,hi=r.overflow,Us=s),s=vh(s,d.children),s.flags|=4096,s)}function pg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Qd(r.return,s,l)}function _h(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function mg(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(En(r,s,d.children,l),d=It.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pg(r,l,s);else if(r.tag===19)pg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(pt(It,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Su(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),_h(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}_h(s,!0,l,null,y);break;case"together":_h(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Du(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function mi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ws|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=ss(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ss(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Rw(r,s,l){switch(s.tag){case 3:dg(s),Bo();break;case 5:Am(s);break;case 1:kn(s.type)&&mu(s);break;case 4:Jd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;pt(Eu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(pt(It,It.current&1),s.flags|=128,null):l&s.child.childLanes?fg(r,s,l):(pt(It,It.current&1),r=mi(r,s,l),r!==null?r.sibling:null);pt(It,It.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return mg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pt(It,It.current),d)break;return null;case 22:case 23:return s.lanes=0,lg(r,s,l)}return mi(r,s,l)}var gg,wh,yg,vg;gg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},wh=function(){},yg=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,$s(Ur.current);var y=null;switch(l){case"input":p=Jr(r,p),d=Jr(r,d),y=[];break;case"select":p=he({},p,{value:void 0}),d=he({},d,{value:void 0}),y=[];break;case"textarea":p=sr(r,p),d=sr(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=hu)}Nr(l,d);var w;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var A=p[Y];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var M=d[Y];if(A=p!=null?p[Y]:void 0,d.hasOwnProperty(Y)&&M!==A&&(M!=null||A!=null))if(Y==="style")if(A){for(w in A)!A.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in M)M.hasOwnProperty(w)&&A[w]!==M[w]&&(l||(l={}),l[w]=M[w])}else l||(y||(y=[]),y.push(Y,l)),l=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(y=y||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&vt("scroll",r),y||A===M||(y=[])):(y=y||[]).push(Y,M))}l&&(y=y||[]).push("style",l);var Y=y;(s.updateQueue=Y)&&(s.flags|=4)}},vg=function(r,s,l,d){l!==d&&(s.flags|=4)};function Qa(r,s){if(!Tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function Cw(r,s,l){var d=s.pendingProps;switch(Bd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return kn(s.type)&&pu(),dn(s),null;case 3:return d=s.stateNode,qo(),_t(An),_t(un),th(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(_u(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,vr!==null&&(bh(vr),vr=null))),wh(r,s),dn(s),null;case 5:Zd(s);var p=$s(Ha.current);if(l=s.type,r!==null&&s.stateNode!=null)yg(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return dn(s),null}if(r=$s(Ur.current),_u(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Fr]=s,d[Fa]=y,r=(s.mode&1)!==0,l){case"dialog":vt("cancel",d),vt("close",d);break;case"iframe":case"object":case"embed":vt("load",d);break;case"video":case"audio":for(p=0;p<Ma.length;p++)vt(Ma[p],d);break;case"source":vt("error",d);break;case"img":case"image":case"link":vt("error",d),vt("load",d);break;case"details":vt("toggle",d);break;case"input":Ni(d,y),vt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},vt("invalid",d);break;case"textarea":Zr(d,y),vt("invalid",d)}Nr(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var A=y[w];w==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&du(d.textContent,A,r),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&du(d.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&vt("scroll",d)}switch(l){case"input":Kn(d),yo(d,y,!0);break;case"textarea":Kn(d),In(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=hu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[Fr]=s,r[Fa]=d,gg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Vi(l,d),l){case"dialog":vt("cancel",r),vt("close",r),p=d;break;case"iframe":case"object":case"embed":vt("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ma.length;p++)vt(Ma[p],r);p=d;break;case"source":vt("error",r),p=d;break;case"img":case"image":case"link":vt("error",r),vt("load",r),p=d;break;case"details":vt("toggle",r),p=d;break;case"input":Ni(r,d),p=Jr(r,d),vt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=he({},d,{value:void 0}),vt("invalid",r);break;case"textarea":Zr(r,d),p=sr(r,d),vt("invalid",r);break;default:p=d}Nr(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var M=A[y];y==="style"?ks(r,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&As(r,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Qt(r,M):typeof M=="number"&&Qt(r,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&vt("scroll",r):M!=null&&Q(r,y,M,w))}switch(l){case"input":Kn(r),yo(r,d,!1);break;case"textarea":Kn(r),In(r);break;case"option":d.value!=null&&r.setAttribute("value",""+et(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Gt(r,!!d.multiple,y,!1):d.defaultValue!=null&&Gt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=hu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return dn(s),null;case 6:if(r&&s.stateNode!=null)vg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=$s(Ha.current),$s(Ur.current),_u(s)){if(d=s.stateNode,l=s.memoizedProps,d[Fr]=s,(y=d.nodeValue!==l)&&(r=Bn,r!==null))switch(r.tag){case 3:du(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&du(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Fr]=s,s.stateNode=d}return dn(s),null;case 13:if(_t(It),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&$n!==null&&s.mode&1&&!(s.flags&128))Em(),Bo(),s.flags|=98560,y=!1;else if(y=_u(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Fr]=s}else Bo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;dn(s),y=!1}else vr!==null&&(bh(vr),vr=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||It.current&1?jt===0&&(jt=3):Lh())),s.updateQueue!==null&&(s.flags|=4),dn(s),null);case 4:return qo(),wh(r,s),r===null&&Va(s.stateNode.containerInfo),dn(s),null;case 10:return Gd(s.type._context),dn(s),null;case 17:return kn(s.type)&&pu(),dn(s),null;case 19:if(_t(It),y=s.memoizedState,y===null)return dn(s),null;if(d=(s.flags&128)!==0,w=y.rendering,w===null)if(d)Qa(y,!1);else{if(jt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Su(r),w!==null){for(s.flags|=128,Qa(y,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return pt(It,It.current&1|2),s.child}r=r.sibling}y.tail!==null&&at()>Yo&&(s.flags|=128,d=!0,Qa(y,!1),s.lanes=4194304)}else{if(!d)if(r=Su(w),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Qa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Tt)return dn(s),null}else 2*at()-y.renderingStartTime>Yo&&l!==1073741824&&(s.flags|=128,d=!0,Qa(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=at(),s.sibling=null,l=It.current,pt(It,d?l&1|2:l&1),s):(dn(s),null);case 22:case 23:return Dh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Hn&1073741824&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Pw(r,s){switch(Bd(s),s.tag){case 1:return kn(s.type)&&pu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qo(),_t(An),_t(un),th(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Zd(s),null;case 13:if(_t(It),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Bo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(It),null;case 4:return qo(),null;case 10:return Gd(s.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Lu=!1,hn=!1,Aw=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Go(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){At(r,s,d)}else l.current=null}function Eh(r,s,l){try{l()}catch(d){At(r,s,d)}}var _g=!1;function kw(r,s){if(Dd=Wi,r=Xp(),Sd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,A=-1,M=-1,Y=0,ie=0,ae=r,re=null;t:for(;;){for(var me;ae!==l||p!==0&&ae.nodeType!==3||(A=w+p),ae!==y||d!==0&&ae.nodeType!==3||(M=w+d),ae.nodeType===3&&(w+=ae.nodeValue.length),(me=ae.firstChild)!==null;)re=ae,ae=me;for(;;){if(ae===r)break t;if(re===l&&++Y===p&&(A=w),re===y&&++ie===d&&(M=w),(me=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=me}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:r,selectionRange:l},Wi=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Ee=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var xe=Ee.memoizedProps,kt=Ee.memoizedState,q=s.stateNode,U=q.getSnapshotBeforeUpdate(s.elementType===s.type?xe:_r(s.type,xe),kt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){At(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Ee=_g,_g=!1,Ee}function Ya(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Eh(s,l,y)}p=p.next}while(p!==d)}}function Ou(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Th(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function wg(r){var s=r.alternate;s!==null&&(r.alternate=null,wg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Fr],delete s[Fa],delete s[jd],delete s[hw],delete s[fw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Eg(r){return r.tag===5||r.tag===3||r.tag===4}function Tg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=hu));else if(d!==4&&(r=r.child,r!==null))for(xh(r,s,l),r=r.sibling;r!==null;)xh(r,s,l),r=r.sibling}function Ih(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Ih(r,s,l),r=r.sibling;r!==null;)Ih(r,s,l),r=r.sibling}var en=null,wr=!1;function es(r,s,l){for(l=l.child;l!==null;)xg(r,s,l),l=l.sibling}function xg(r,s,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Rn,l)}catch{}switch(l.tag){case 5:hn||Go(l,s);case 6:var d=en,p=wr;en=null,es(r,s,l),en=d,wr=p,en!==null&&(wr?(r=en,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):en.removeChild(l.stateNode));break;case 18:en!==null&&(wr?(r=en,l=l.stateNode,r.nodeType===8?Vd(r.parentNode,l):r.nodeType===1&&Vd(r,l),mr(r)):Vd(en,l.stateNode));break;case 4:d=en,p=wr,en=l.stateNode.containerInfo,wr=!0,es(r,s,l),en=d,wr=p;break;case 0:case 11:case 14:case 15:if(!hn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&(y&2||y&4)&&Eh(l,s,w),p=p.next}while(p!==d)}es(r,s,l);break;case 1:if(!hn&&(Go(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){At(l,s,A)}es(r,s,l);break;case 21:es(r,s,l);break;case 22:l.mode&1?(hn=(d=hn)||l.memoizedState!==null,es(r,s,l),hn=d):es(r,s,l);break;default:es(r,s,l)}}function Ig(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Aw),s.forEach(function(d){var p=Fw.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Er(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:en=A.stateNode,wr=!1;break e;case 3:en=A.stateNode.containerInfo,wr=!0;break e;case 4:en=A.stateNode.containerInfo,wr=!0;break e}A=A.return}if(en===null)throw Error(t(160));xg(y,w,p),en=null,wr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(Y){At(p,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sg(s,r),s=s.sibling}function Sg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Er(s,r),Br(r),d&4){try{Ya(3,r,r.return),Ou(3,r)}catch(xe){At(r,r.return,xe)}try{Ya(5,r,r.return)}catch(xe){At(r,r.return,xe)}}break;case 1:Er(s,r),Br(r),d&512&&l!==null&&Go(l,l.return);break;case 5:if(Er(s,r),Br(r),d&512&&l!==null&&Go(l,l.return),r.flags&32){var p=r.stateNode;try{Qt(p,"")}catch(xe){At(r,r.return,xe)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,w=l!==null?l.memoizedProps:y,A=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Di(p,y),Vi(A,w);var Y=Vi(A,y);for(w=0;w<M.length;w+=2){var ie=M[w],ae=M[w+1];ie==="style"?ks(p,ae):ie==="dangerouslySetInnerHTML"?As(p,ae):ie==="children"?Qt(p,ae):Q(p,ie,ae,Y)}switch(A){case"input":Ps(p,y);break;case"textarea":Ar(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Gt(p,!!y.multiple,me,!1):re!==!!y.multiple&&(y.defaultValue!=null?Gt(p,!!y.multiple,y.defaultValue,!0):Gt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Fa]=y}catch(xe){At(r,r.return,xe)}}break;case 6:if(Er(s,r),Br(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(xe){At(r,r.return,xe)}}break;case 3:if(Er(s,r),Br(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{mr(s.containerInfo)}catch(xe){At(r,r.return,xe)}break;case 4:Er(s,r),Br(r);break;case 13:Er(s,r),Br(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Ch=at())),d&4&&Ig(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(hn=(Y=hn)||ie,Er(s,r),hn=Y):Er(s,r),Br(r),d&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!ie&&r.mode&1)for(ve=r,ie=r.child;ie!==null;){for(ae=ve=ie;ve!==null;){switch(re=ve,me=re.child,re.tag){case 0:case 11:case 14:case 15:Ya(4,re,re.return);break;case 1:Go(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(xe){At(d,l,xe)}}break;case 5:Go(re,re.return);break;case 22:if(re.memoizedState!==null){Pg(ae);continue}}me!==null?(me.return=re,ve=me):Pg(ae)}ie=ie.sibling}e:for(ie=null,ae=r;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=ae.stateNode,M=ae.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=Oi("display",w))}catch(xe){At(r,r.return,xe)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(xe){At(r,r.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Er(s,r),Br(r),d&4&&Ig(r);break;case 21:break;default:Er(s,r),Br(r)}}function Br(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Eg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Qt(p,""),d.flags&=-33);var y=Tg(r);Ih(r,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,A=Tg(r);xh(r,A,w);break;default:throw Error(t(161))}}catch(M){At(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bw(r,s,l){ve=r,Rg(r)}function Rg(r,s,l){for(var d=(r.mode&1)!==0;ve!==null;){var p=ve,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Lu;if(!w){var A=p.alternate,M=A!==null&&A.memoizedState!==null||hn;A=Lu;var Y=hn;if(Lu=w,(hn=M)&&!Y)for(ve=p;ve!==null;)w=ve,M=w.child,w.tag===22&&w.memoizedState!==null?Ag(p):M!==null?(M.return=w,ve=M):Ag(p);for(;y!==null;)ve=y,Rg(y),y=y.sibling;ve=p,Lu=A,hn=Y}Cg(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,ve=y):Cg(r)}}function Cg(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:hn||Ou(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!hn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:_r(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Pm(s,y,d);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Pm(s,w,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&mr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}hn||s.flags&512&&Th(s)}catch(re){At(s,s.return,re)}}if(s===r){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Pg(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Ag(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ou(4,s)}catch(M){At(s,l,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(M){At(s,p,M)}}var y=s.return;try{Th(s)}catch(M){At(s,y,M)}break;case 5:var w=s.return;try{Th(s)}catch(M){At(s,w,M)}}}catch(M){At(s,s.return,M)}if(s===r){ve=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ve=A;break}ve=s.return}}var Nw=Math.ceil,Mu=te.ReactCurrentDispatcher,Sh=te.ReactCurrentOwner,er=te.ReactCurrentBatchConfig,nt=0,Ht=null,Lt=null,tn=0,Hn=0,Qo=Qi(0),jt=0,Xa=null,Ws=0,Vu=0,Rh=0,Ja=null,Nn=null,Ch=0,Yo=1/0,gi=null,ju=!1,Ph=null,ts=null,Fu=!1,ns=null,Uu=0,Za=0,Ah=null,zu=-1,Bu=0;function Tn(){return nt&6?at():zu!==-1?zu:zu=at()}function rs(r){return r.mode&1?nt&2&&tn!==0?tn&-tn:mw.transition!==null?(Bu===0&&(Bu=Ds()),Bu):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Ca(r.type)),r):1}function Tr(r,s,l,d){if(50<Za)throw Za=0,Ah=null,Error(t(185));zi(r,l,d),(!(nt&2)||r!==Ht)&&(r===Ht&&(!(nt&2)&&(Vu|=l),jt===4&&is(r,tn)),Dn(r,d),l===1&&nt===0&&!(s.mode&1)&&(Yo=at()+500,gu&&Xi()))}function Dn(r,s){var l=r.callbackNode;ii(r,s);var d=Ns(r,r===Ht?tn:0);if(d===0)l!==null&&ni(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ni(l),s===1)r.tag===0?pw(bg.bind(null,r)):gm(bg.bind(null,r)),cw(function(){!(nt&6)&&Xi()}),l=null;else{switch($i(d)){case 1:l=Ye;break;case 4:l=gt;break;case 16:l=Xt;break;case 536870912:l=yt;break;default:l=Xt}l=Fg(l,kg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function kg(r,s){if(zu=-1,Bu=0,nt&6)throw Error(t(327));var l=r.callbackNode;if(Xo()&&r.callbackNode!==l)return null;var d=Ns(r,r===Ht?tn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=$u(r,d);else{s=d;var p=nt;nt|=2;var y=Dg();(Ht!==r||tn!==s)&&(gi=null,Yo=at()+500,Ks(r,s));do try{Ow();break}catch(A){Ng(r,A)}while(!0);Kd(),Mu.current=y,nt=p,Lt!==null?s=0:(Ht=null,tn=0,s=jt)}if(s!==0){if(s===2&&(p=Fn(r),p!==0&&(d=p,s=kh(r,p))),s===1)throw l=Xa,Ks(r,0),is(r,d),Dn(r,at()),l;if(s===6)is(r,d);else{if(p=r.current.alternate,!(d&30)&&!Dw(p)&&(s=$u(r,d),s===2&&(y=Fn(r),y!==0&&(d=y,s=kh(r,y))),s===1))throw l=Xa,Ks(r,0),is(r,d),Dn(r,at()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Gs(r,Nn,gi);break;case 3:if(is(r,d),(d&130023424)===d&&(s=Ch+500-at(),10<s)){if(Ns(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Tn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Md(Gs.bind(null,r,Nn,gi),s);break}Gs(r,Nn,gi);break;case 4:if(is(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var w=31-_n(d);y=1<<w,w=s[w],w>p&&(p=w),d&=~y}if(d=p,d=at()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Nw(d/1960))-d,10<d){r.timeoutHandle=Md(Gs.bind(null,r,Nn,gi),d);break}Gs(r,Nn,gi);break;case 5:Gs(r,Nn,gi);break;default:throw Error(t(329))}}}return Dn(r,at()),r.callbackNode===l?kg.bind(null,r):null}function kh(r,s){var l=Ja;return r.current.memoizedState.isDehydrated&&(Ks(r,s).flags|=256),r=$u(r,s),r!==2&&(s=Nn,Nn=l,s!==null&&bh(s)),r}function bh(r){Nn===null?Nn=r:Nn.push.apply(Nn,r)}function Dw(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!yr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(r,s){for(s&=~Rh,s&=~Vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-_n(s),d=1<<l;r[l]=-1,s&=~d}}function bg(r){if(nt&6)throw Error(t(327));Xo();var s=Ns(r,0);if(!(s&1))return Dn(r,at()),null;var l=$u(r,s);if(r.tag!==0&&l===2){var d=Fn(r);d!==0&&(s=d,l=kh(r,d))}if(l===1)throw l=Xa,Ks(r,0),is(r,s),Dn(r,at()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Gs(r,Nn,gi),Dn(r,at()),null}function Nh(r,s){var l=nt;nt|=1;try{return r(s)}finally{nt=l,nt===0&&(Yo=at()+500,gu&&Xi())}}function qs(r){ns!==null&&ns.tag===0&&!(nt&6)&&Xo();var s=nt;nt|=1;var l=er.transition,d=Ke;try{if(er.transition=null,Ke=1,r)return r()}finally{Ke=d,er.transition=l,nt=s,!(nt&6)&&Xi()}}function Dh(){Hn=Qo.current,_t(Qo)}function Ks(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,uw(l)),Lt!==null)for(l=Lt.return;l!==null;){var d=l;switch(Bd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&pu();break;case 3:qo(),_t(An),_t(un),th();break;case 5:Zd(d);break;case 4:qo();break;case 13:_t(It);break;case 19:_t(It);break;case 10:Gd(d.type._context);break;case 22:case 23:Dh()}l=l.return}if(Ht=r,Lt=r=ss(r.current,null),tn=Hn=s,jt=0,Xa=null,Rh=Vu=Ws=0,Nn=Ja=null,Bs!==null){for(s=0;s<Bs.length;s++)if(l=Bs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}l.pending=d}Bs=null}return r}function Ng(r,s){do{var l=Lt;try{if(Kd(),Ru.current=ku,Cu){for(var d=St.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(Hs=0,$t=Vt=St=null,Wa=!1,qa=0,Sh.current=null,l===null||l.return===null){jt=1,Xa=s,Lt=null;break}e:{var y=r,w=l.return,A=l,M=s;if(s=tn,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,ie=A,ae=ie.tag;if(!(ie.mode&1)&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=rg(w);if(me!==null){me.flags&=-257,ig(me,w,A,y,s),me.mode&1&&ng(y,Y,s),s=me,M=Y;var Ee=s.updateQueue;if(Ee===null){var xe=new Set;xe.add(M),s.updateQueue=xe}else Ee.add(M);break e}else{if(!(s&1)){ng(y,Y,s),Lh();break e}M=Error(t(426))}}else if(Tt&&A.mode&1){var kt=rg(w);if(kt!==null){!(kt.flags&65536)&&(kt.flags|=256),ig(kt,w,A,y,s),Wd(Ko(M,A));break e}}y=M=Ko(M,A),jt!==4&&(jt=2),Ja===null?Ja=[y]:Ja.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=eg(y,M,s);Cm(y,q);break e;case 1:A=M;var U=y.type,G=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ts===null||!ts.has(G)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=tg(y,A,s);Cm(y,ue);break e}}y=y.return}while(y!==null)}Og(l)}catch(Ie){s=Ie,Lt===l&&l!==null&&(Lt=l=l.return);continue}break}while(!0)}function Dg(){var r=Mu.current;return Mu.current=ku,r===null?ku:r}function Lh(){(jt===0||jt===3||jt===2)&&(jt=4),Ht===null||!(Ws&268435455)&&!(Vu&268435455)||is(Ht,tn)}function $u(r,s){var l=nt;nt|=2;var d=Dg();(Ht!==r||tn!==s)&&(gi=null,Ks(r,s));do try{Lw();break}catch(p){Ng(r,p)}while(!0);if(Kd(),nt=l,Mu.current=d,Lt!==null)throw Error(t(261));return Ht=null,tn=0,jt}function Lw(){for(;Lt!==null;)Lg(Lt)}function Ow(){for(;Lt!==null&&!Dr();)Lg(Lt)}function Lg(r){var s=jg(r.alternate,r,Hn);r.memoizedProps=r.pendingProps,s===null?Og(r):Lt=s,Sh.current=null}function Og(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=Pw(l,s),l!==null){l.flags&=32767,Lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{jt=6,Lt=null;return}}else if(l=Cw(l,s,Hn),l!==null){Lt=l;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=r}while(s!==null);jt===0&&(jt=5)}function Gs(r,s,l){var d=Ke,p=er.transition;try{er.transition=null,Ke=1,Mw(r,s,l,d)}finally{er.transition=p,Ke=d}return null}function Mw(r,s,l,d){do Xo();while(ns!==null);if(nt&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(ft(r,y),r===Ht&&(Lt=Ht=null,tn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Fu||(Fu=!0,Fg(Xt,function(){return Xo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=er.transition,er.transition=null;var w=Ke;Ke=1;var A=nt;nt|=4,Sh.current=null,kw(r,l),Sg(l,r),nw(Ld),Wi=!!Dd,Ld=Dd=null,r.current=l,bw(l),cr(),nt=A,Ke=w,er.transition=y}else r.current=l;if(Fu&&(Fu=!1,ns=r,Uu=p),y=r.pendingLanes,y===0&&(ts=null),vo(l.stateNode),Dn(r,at()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ju)throw ju=!1,r=Ph,Ph=null,r;return Uu&1&&r.tag!==0&&Xo(),y=r.pendingLanes,y&1?r===Ah?Za++:(Za=0,Ah=r):Za=0,Xi(),null}function Xo(){if(ns!==null){var r=$i(Uu),s=er.transition,l=Ke;try{if(er.transition=null,Ke=16>r?16:r,ns===null)var d=!1;else{if(r=ns,ns=null,Uu=0,nt&6)throw Error(t(331));var p=nt;for(nt|=4,ve=r.current;ve!==null;){var y=ve,w=y.child;if(ve.flags&16){var A=y.deletions;if(A!==null){for(var M=0;M<A.length;M++){var Y=A[M];for(ve=Y;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ya(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,ve=ae;else for(;ve!==null;){ie=ve;var re=ie.sibling,me=ie.return;if(wg(ie),ie===Y){ve=null;break}if(re!==null){re.return=me,ve=re;break}ve=me}}}var Ee=y.alternate;if(Ee!==null){var xe=Ee.child;if(xe!==null){Ee.child=null;do{var kt=xe.sibling;xe.sibling=null,xe=kt}while(xe!==null)}}ve=y}}if(y.subtreeFlags&2064&&w!==null)w.return=y,ve=w;else e:for(;ve!==null;){if(y=ve,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Ya(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,ve=q;break e}ve=y.return}}var U=r.current;for(ve=U;ve!==null;){w=ve;var G=w.child;if(w.subtreeFlags&2064&&G!==null)G.return=w,ve=G;else e:for(w=U;ve!==null;){if(A=ve,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Ou(9,A)}}catch(Ie){At(A,A.return,Ie)}if(A===w){ve=null;break e}var ue=A.sibling;if(ue!==null){ue.return=A.return,ve=ue;break e}ve=A.return}}if(nt=p,Xi(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Rn,r)}catch{}d=!0}return d}finally{Ke=l,er.transition=s}}return!1}function Mg(r,s,l){s=Ko(l,s),s=eg(r,s,1),r=Zi(r,s,1),s=Tn(),r!==null&&(zi(r,1,s),Dn(r,s))}function At(r,s,l){if(r.tag===3)Mg(r,r,l);else for(;s!==null;){if(s.tag===3){Mg(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ts===null||!ts.has(d))){r=Ko(l,r),r=tg(s,r,1),s=Zi(s,r,1),r=Tn(),s!==null&&(zi(s,1,r),Dn(s,r));break}}s=s.return}}function Vw(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Tn(),r.pingedLanes|=r.suspendedLanes&l,Ht===r&&(tn&l)===l&&(jt===4||jt===3&&(tn&130023424)===tn&&500>at()-Ch?Ks(r,0):Rh|=l),Dn(r,s)}function Vg(r,s){s===0&&(r.mode&1?(s=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):s=1);var l=Tn();r=fi(r,s),r!==null&&(zi(r,s,l),Dn(r,l))}function jw(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Vg(r,l)}function Fw(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Vg(r,l)}var jg;jg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||An.current)bn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return bn=!1,Rw(r,s,l);bn=!!(r.flags&131072)}else bn=!1,Tt&&s.flags&1048576&&ym(s,vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Du(r,s),r=s.pendingProps;var p=Fo(s,un.current);Wo(s,l),p=ih(null,s,d,r,p,l);var y=sh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kn(d)?(y=!0,mu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Xd(s),p.updater=bu,s.stateNode=p,p._reactInternals=s,dh(s,d,r,l),s=mh(null,s,d,!0,y,l)):(s.tag=0,Tt&&y&&zd(s),En(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Du(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=zw(d),r=_r(d,r),p){case 0:s=ph(null,s,d,r,l);break e;case 1:s=cg(null,s,d,r,l);break e;case 11:s=sg(null,s,d,r,l);break e;case 14:s=og(null,s,d,_r(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:_r(d,p),ph(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:_r(d,p),cg(r,s,d,p,l);case 3:e:{if(dg(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Rm(r,s),Iu(s,d,null,l);var w=s.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Ko(Error(t(423)),s),s=hg(r,s,d,l,p);break e}else if(d!==p){p=Ko(Error(t(424)),s),s=hg(r,s,d,l,p);break e}else for($n=Gi(s.stateNode.containerInfo.firstChild),Bn=s,Tt=!0,vr=null,l=Im(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bo(),d===p){s=mi(r,s,l);break e}En(r,s,d,l)}s=s.child}return s;case 5:return Am(s),r===null&&Hd(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,w=p.children,Od(d,p)?w=null:y!==null&&Od(d,y)&&(s.flags|=32),ug(r,s),En(r,s,w,l),s.child;case 6:return r===null&&Hd(s),null;case 13:return fg(r,s,l);case 4:return Jd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=$o(s,null,d,l):En(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:_r(d,p),sg(r,s,d,p,l);case 7:return En(r,s,s.pendingProps,l),s.child;case 8:return En(r,s,s.pendingProps.children,l),s.child;case 12:return En(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,pt(Eu,d._currentValue),d._currentValue=w,y!==null)if(yr(y.value,w)){if(y.children===p.children&&!An.current){s=mi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var A=y.dependencies;if(A!==null){w=y.child;for(var M=A.firstContext;M!==null;){if(M.context===d){if(y.tag===1){M=pi(-1,l&-l),M.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?M.next=M:(M.next=ie.next,ie.next=M),Y.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),Qd(y.return,l,s),A.lanes|=l;break}M=M.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),Qd(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}En(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Wo(s,l),p=Jn(p),d=d(p),s.flags|=1,En(r,s,d,l),s.child;case 14:return d=s.type,p=_r(d,s.pendingProps),p=_r(d.type,p),og(r,s,d,p,l);case 15:return ag(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:_r(d,p),Du(r,s),s.tag=1,kn(d)?(r=!0,mu(s)):r=!1,Wo(s,l),Jm(s,d,p),dh(s,d,p,l),mh(null,s,d,!0,r,l);case 19:return mg(r,s,l);case 22:return lg(r,s,l)}throw Error(t(156,s.tag))};function Fg(r,s){return Yt(r,s)}function Uw(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(r,s,l,d){return new Uw(r,s,l,d)}function Oh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zw(r){if(typeof r=="function")return Oh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Be)return 14}return 2}function ss(r,s){var l=r.alternate;return l===null?(l=tr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Hu(r,s,l,d,p,y){var w=2;if(d=r,typeof r=="function")Oh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return Qs(l.children,p,y,s);case x:w=8,p|=8;break;case R:return r=tr(12,l,s,p|2),r.elementType=R,r.lanes=y,r;case k:return r=tr(13,l,s,p),r.elementType=k,r.lanes=y,r;case ht:return r=tr(19,l,s,p),r.elementType=ht,r.lanes=y,r;case Ue:return Wu(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case j:w=9;break e;case B:w=11;break e;case Be:w=14;break e;case wt:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=tr(w,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Qs(r,s,l,d){return r=tr(7,r,d,s),r.lanes=l,r}function Wu(r,s,l,d){return r=tr(22,r,d,s),r.elementType=Ue,r.lanes=l,r.stateNode={isHidden:!1},r}function Mh(r,s,l){return r=tr(6,r,null,s),r.lanes=l,r}function Vh(r,s,l){return s=tr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Bw(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function jh(r,s,l,d,p,y,w,A,M){return r=new Bw(r,s,l,A,M),s===1?(s=1,y===!0&&(s|=8)):s=0,y=tr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(y),r}function $w(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Ug(r){if(!r)return Yi;r=r._reactInternals;e:{if(qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(kn(l))return pm(r,l,s)}return s}function zg(r,s,l,d,p,y,w,A,M){return r=jh(l,d,!0,r,p,y,w,A,M),r.context=Ug(null),l=r.current,d=Tn(),p=rs(l),y=pi(d,p),y.callback=s??null,Zi(l,y,p),r.current.lanes=p,zi(r,p,d),Dn(r,d),r}function qu(r,s,l,d){var p=s.current,y=Tn(),w=rs(p);return l=Ug(l),s.context===null?s.context=l:s.pendingContext=l,s=pi(y,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Zi(p,s,w),r!==null&&(Tr(r,p,w,y),xu(r,p,w)),w}function Ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Bg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Fh(r,s){Bg(r,s),(r=r.alternate)&&Bg(r,s)}var $g=typeof reportError=="function"?reportError:function(r){console.error(r)};function Uh(r){this._internalRoot=r}Gu.prototype.render=Uh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Gu.prototype.unmount=Uh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qs(function(){qu(null,r,null,null)}),s[ui]=null}};function Gu(r){this._internalRoot=r}Gu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Or.length&&s!==0&&s<Or[l].priority;l++);Or.splice(l,0,r),l===0&&Xl(r)}};function zh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function Hw(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Y=Ku(w);y.call(Y)}}var w=zg(s,d,r,0,null,!1,!1,"",Hg);return r._reactRootContainer=w,r[ui]=w.current,Va(r.nodeType===8?r.parentNode:r),qs(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var Y=Ku(M);A.call(Y)}}var M=jh(r,0,!1,null,null,!1,!1,"",Hg);return r._reactRootContainer=M,r[ui]=M.current,Va(r.nodeType===8?r.parentNode:r),qs(function(){qu(s,M,l,d)}),M}function Yu(r,s,l,d,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var A=p;p=function(){var M=Ku(w);A.call(M)}}qu(s,w,r,p)}else w=Hw(l,s,r,p,d);return Ku(w)}ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Fi(s.pendingLanes);l!==0&&(Bi(s,l|1),Dn(s,at()),!(nt&6)&&(Yo=at()+500,Xi()))}break;case 13:qs(function(){var d=fi(r,1);if(d!==null){var p=Tn();Tr(d,r,1,p)}}),Fh(r,1)}},Eo=function(r){if(r.tag===13){var s=fi(r,134217728);if(s!==null){var l=Tn();Tr(s,r,134217728,l)}Fh(r,134217728)}},Kl=function(r){if(r.tag===13){var s=rs(r),l=fi(r,s);if(l!==null){var d=Tn();Tr(l,r,s,d)}Fh(r,s)}},Gl=function(){return Ke},Ql=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},ei=function(r,s,l){switch(s){case"input":if(Ps(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=fu(d);if(!p)throw Error(t(90));bi(d),Ps(d,p)}}}break;case"textarea":Ar(r,l);break;case"select":s=l.value,s!=null&&Gt(r,!!l.multiple,s,!1)}},ti=Nh,V=qs;var Ww={usingClientEntryPoint:!1,Events:[Ua,Vo,fu,vn,bs,Nh]},el={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qw={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ur(r),r===null?null:r.stateNode},findFiberByHostInstance:el.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Rn=Xu.inject(qw),ln=Xu}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ww,Ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(s))throw Error(t(200));return $w(r,s,null,l)},Ln.createRoot=function(r,s){if(!zh(r))throw Error(t(299));var l=!1,d="",p=$g;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=jh(r,1,!1,null,null,l,!1,d,p),r[ui]=s.current,Va(r.nodeType===8?r.parentNode:r),new Uh(s)},Ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ur(s),r=r===null?null:r.stateNode,r},Ln.flushSync=function(r){return qs(r)},Ln.hydrate=function(r,s,l){if(!Qu(s))throw Error(t(200));return Yu(null,r,s,!0,l)},Ln.hydrateRoot=function(r,s,l){if(!zh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",w=$g;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=zg(s,null,r,1,l??null,p,!1,y,w),r[ui]=s.current,Va(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Gu(s)},Ln.render=function(r,s,l){if(!Qu(s))throw Error(t(200));return Yu(null,r,s,!1,l)},Ln.unmountComponentAtNode=function(r){if(!Qu(r))throw Error(t(40));return r._reactRootContainer?(qs(function(){Yu(null,null,r,!1,function(){r._reactRootContainer=null,r[ui]=null})}),!0):!1},Ln.unstable_batchedUpdates=Nh,Ln.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Qu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Yu(r,s,l,!1,d)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var Jg;function Hv(){if(Jg)return Hh.exports;Jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hh.exports=eE(),Hh.exports}var Zg;function tE(){if(Zg)return Ju;Zg=1;var n=Hv();return Ju.createRoot=n.createRoot,Ju.hydrateRoot=n.hydrateRoot,Ju}var nE=tE();function Wv(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Wv(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function eo(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Wv(n))&&(i&&(i+=" "),i+=e);return i}function rE(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}rE(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Al=n=>typeof n=="number"&&!isNaN(n),no=n=>typeof n=="string",xi=n=>typeof n=="function",iE=n=>no(n)||Al(n),cf=n=>no(n)||xi(n)?n:null,sE=(n,e)=>n===!1||Al(n)&&n>0?n:e,df=n=>L.isValidElement(n)||no(n)||xi(n)||Al(n);function oE(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function aE({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:c,preventExitTransition:h,done:f,nodeRef:g,isIn:_,playToast:T}){let I=t?`${n}--${c}`:n,C=t?`${e}--${c}`:e,O=L.useRef(0);return L.useLayoutEffect(()=>{let z=g.current,N=I.split(" "),D=K=>{K.target===g.current&&(T(),z.removeEventListener("animationend",D),z.removeEventListener("animationcancel",D),O.current===0&&K.type!=="animationcancel"&&z.classList.remove(...N))};z.classList.add(...N),z.addEventListener("animationend",D),z.addEventListener("animationcancel",D)},[]),L.useEffect(()=>{let z=g.current,N=()=>{z.removeEventListener("animationend",N),i?oE(z,f,o):f()};_||(h?N():(O.current=1,z.className+=` ${C}`,z.addEventListener("animationend",N)))},[_]),it.createElement(it.Fragment,null,a)}}function ey(n,e){return{content:qv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function qv(n,e,t=!1){return L.isValidElement(n)&&!no(n.type)?L.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):xi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function lE({closeToast:n,theme:e,ariaLabel:t="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function uE({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:c,progress:h,rtl:f,isIn:g,theme:_}){let T=o||c&&h===0,I={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(I.transform=`scaleX(${h})`);let C=eo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),O=xi(a)?a({rtl:f,type:i,defaultClassName:C}):eo(C,a),z={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{g&&t()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),it.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:O,style:I,...z}))}var cE=1,Kv=()=>`${cE++}`;function dE(n,e,t){let i=1,o=0,a=[],c=[],h=e,f=new Map,g=new Set,_=K=>(g.add(K),()=>g.delete(K)),T=()=>{c=Array.from(f.values()),g.forEach(K=>K())},I=({containerId:K,toastId:Q,updateId:te})=>{let F=K?K!==n:n!==1,oe=f.has(Q)&&te==null;return F||oe},C=(K,Q)=>{f.forEach(te=>{var F;(Q==null||Q===te.props.toastId)&&((F=te.toggle)==null||F.call(te,K))})},O=K=>{var Q,te;(te=(Q=K.props)==null?void 0:Q.onClose)==null||te.call(Q,K.removalReason),K.isActive=!1},z=K=>{if(K==null)f.forEach(O);else{let Q=f.get(K);Q&&O(Q)}T()},N=()=>{o-=a.length,a=[]},D=K=>{var Q,te;let{toastId:F,updateId:oe}=K.props,P=oe==null;K.staleId&&f.delete(K.staleId),K.isActive=!0,f.set(F,K),T(),t(ey(K,P?"added":"updated")),P&&((te=(Q=K.props).onOpen)==null||te.call(Q))};return{id:n,props:h,observe:_,toggle:C,removeToast:z,toasts:f,clearQueue:N,buildToast:(K,Q)=>{if(I(Q))return;let{toastId:te,updateId:F,data:oe,staleId:P,delay:x}=Q,R=F==null;R&&o++;let b={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(Q).filter(([B,k])=>k!=null)),toastId:te,updateId:F,data:oe,isIn:!1,className:cf(Q.className||h.toastClassName),progressClassName:cf(Q.progressClassName||h.progressClassName),autoClose:Q.isLoading?!1:sE(Q.autoClose,h.autoClose),closeToast(B){f.get(te).removalReason=B,z(te)},deleteToast(){let B=f.get(te);if(B!=null){if(t(ey(B,"removed")),f.delete(te),o--,o<0&&(o=0),a.length>0){D(a.shift());return}T()}}};b.closeButton=h.closeButton,Q.closeButton===!1||df(Q.closeButton)?b.closeButton=Q.closeButton:Q.closeButton===!0&&(b.closeButton=df(h.closeButton)?h.closeButton:!0);let j={content:K,props:b,staleId:P};h.limit&&h.limit>0&&o>h.limit&&R?a.push(j):Al(x)?setTimeout(()=>{D(j)},x):D(j)},setProps(K){h=K},setToggle:(K,Q)=>{let te=f.get(K);te&&(te.toggle=Q)},isToastActive:K=>{var Q;return(Q=f.get(K))==null?void 0:Q.isActive},getSnapshot:()=>c}}var xn=new Map,_l=[],hf=new Set,hE=n=>hf.forEach(e=>e(n)),Gv=()=>xn.size>0;function fE(){_l.forEach(n=>Yv(n.content,n.options)),_l=[]}var pE=(n,{containerId:e})=>{var t;return(t=xn.get(e||1))==null?void 0:t.toasts.get(n)};function Qv(n,e){var t;if(e)return!!((t=xn.get(e))!=null&&t.isToastActive(n));let i=!1;return xn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function mE(n){if(!Gv()){_l=_l.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||iE(n))xn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=xn.get(n.containerId);e?e.removeToast(n.id):xn.forEach(t=>{t.removeToast(n.id)})}}var gE=(n={})=>{xn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Yv(n,e){df(n)&&(Gv()||_l.push({content:n,options:e}),xn.forEach(t=>{t.buildToast(n,e)}))}function yE(n){var e;(e=xn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Xv(n,e){xn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function vE(n){let e=n.containerId||1;return{subscribe(t){let i=dE(e,n,hE);xn.set(e,i);let o=i.observe(t);return fE(),()=>{o(),xn.delete(e)}},setProps(t){var i;(i=xn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=xn.get(e))==null?void 0:t.getSnapshot()}}}function _E(n){return hf.add(n),()=>{hf.delete(n)}}function wE(n){return n&&(no(n.toastId)||Al(n.toastId))?n.toastId:Kv()}function kl(n,e){return Yv(n,e),e.toastId}function Hc(n,e){return{...e,type:e&&e.type||n,toastId:wE(e)}}function Wc(n){return(e,t)=>kl(e,Hc(n,t))}function dt(n,e){return kl(n,Hc("default",e))}dt.loading=(n,e)=>kl(n,Hc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function EE(n,{pending:e,error:t,success:i},o){let a;e&&(a=no(e)?dt.loading(e,o):dt.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,_,T)=>{if(_==null){dt.dismiss(a);return}let I={type:g,...c,...o,data:T},C=no(_)?{render:_}:_;return a?dt.update(a,{...I,...C}):dt(C.render,{...I,...C}),T},f=xi(n)?n():n;return f.then(g=>h("success",i,g)).catch(g=>h("error",t,g)),f}dt.promise=EE;dt.success=Wc("success");dt.info=Wc("info");dt.error=Wc("error");dt.warning=Wc("warning");dt.warn=dt.warning;dt.dark=(n,e)=>kl(n,Hc("default",{theme:"dark",...e}));function TE(n){mE(n)}dt.dismiss=TE;dt.clearWaitingQueue=gE;dt.isActive=Qv;dt.update=(n,e={})=>{let t=pE(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:Kv()};a.toastId!==n&&(a.staleId=n);let c=a.render||o;delete a.render,kl(c,a)}};dt.done=n=>{dt.update(n,{progress:1})};dt.onChange=_E;dt.play=n=>Xv(!0,n);dt.pause=n=>Xv(!1,n);function xE(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=L.useRef(vE(n)).current;o(n);let a=(e=L.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(g=>{let{position:_}=g.props;f.has(_)||f.set(_,[]),f.get(_).push(g)}),Array.from(f,g=>h(g[0],g[1]))}return{getToastToRender:c,isToastActive:Qv,count:a==null?void 0:a.length}}function IE(n){let[e,t]=L.useState(!1),[i,o]=L.useState(!1),a=L.useRef(null),c=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:g,onClick:_,closeOnClick:T}=n;yE({id:n.toastId,containerId:n.containerId,fn:t}),L.useEffect(()=>{if(n.pauseOnFocusLoss)return I(),()=>{C()}},[n.pauseOnFocusLoss]);function I(){document.hasFocus()||D(),window.addEventListener("focus",N),window.addEventListener("blur",D)}function C(){window.removeEventListener("focus",N),window.removeEventListener("blur",D)}function O(P){if(n.draggable===!0||n.draggable===P.pointerType){K();let x=a.current;c.canCloseOnClick=!0,c.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(c.start=P.clientX,c.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(c.start=P.clientY,c.removalDistance=x.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(P){let{top:x,bottom:R,left:b,right:j}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=b&&P.clientX<=j&&P.clientY>=x&&P.clientY<=R?D():N()}function N(){t(!0)}function D(){t(!1)}function K(){c.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",F)}function Q(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",F)}function te(P){let x=a.current;if(c.canDrag&&x){c.didMove=!0,e&&D(),n.draggableDirection==="x"?c.delta=P.clientX-c.start:c.delta=P.clientY-c.start,c.start!==P.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;x.style.transform=`translate3d(${R},0)`,x.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function F(){Q();let P=a.current;if(c.canDrag&&c.didMove&&P){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let oe={onPointerDown:O,onPointerUp:z};return h&&f&&(oe.onMouseEnter=D,n.stacked||(oe.onMouseLeave=N)),T&&(oe.onClick=P=>{_&&_(P),c.canCloseOnClick&&g(!0)}),{playToast:N,pauseToast:D,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:oe}}var SE=typeof window<"u"?L.useLayoutEffect:L.useEffect,qc=({theme:n,type:e,isLoading:t,...i})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function RE(n){return it.createElement(qc,{...n},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CE(n){return it.createElement(qc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function PE(n){return it.createElement(qc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AE(n){return it.createElement(qc,{...n},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kE(){return it.createElement("div",{className:"Toastify__spinner"})}var ff={info:CE,warning:RE,success:PE,error:AE,spinner:kE},bE=n=>n in ff;function NE({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(xi(i)?o=i({...a,isLoading:t}):L.isValidElement(i)?o=L.cloneElement(i,a):t?o=ff.spinner():bE(e)&&(o=ff[e](a))),o}var DE=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=IE(n),{closeButton:c,children:h,autoClose:f,onClick:g,type:_,hideProgressBar:T,closeToast:I,transition:C,position:O,className:z,style:N,progressClassName:D,updateId:K,role:Q,progress:te,rtl:F,toastId:oe,deleteToast:P,isIn:x,isLoading:R,closeOnClick:b,theme:j,ariaLabel:B}=n,k=eo("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":b}),ht=xi(z)?z({rtl:F,position:O,type:_,defaultClassName:k}):eo(k,z),Be=NE(n),wt=!!te||!f,Ue={closeToast:I,type:_,theme:j},le=null;return c===!1||(xi(c)?le=c(Ue):L.isValidElement(c)?le=L.cloneElement(c,Ue):le=lE(Ue)),it.createElement(C,{isIn:x,done:P,position:O,preventExitTransition:t,nodeRef:i,playToast:a},it.createElement("div",{id:oe,tabIndex:0,onClick:g,"data-in":x,className:ht,...o,style:N,ref:i,...x&&{role:Q,"aria-label":B}},Be!=null&&it.createElement("div",{className:eo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Be),qv(h,n,!e),le,!n.customProgressBar&&it.createElement(uE,{...K&&!wt?{key:`p-${K}`}:{},rtl:F,theme:j,delay:f,isRunning:e,isIn:x,closeToast:I,hide:T,type:_,className:D,controlledProgress:wt,progress:te||0})))},LE=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),OE=aE(LE("bounce",!0)),ME={position:"top-right",transition:OE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function VE(n){let e={...ME,...n},t=n.stacked,[i,o]=L.useState(!0),a=L.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=xE(e),{className:g,style:_,rtl:T,containerId:I,hotKeys:C}=e;function O(N){let D=eo("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":T});return xi(g)?g({position:N,rtl:T,defaultClassName:D}):eo(D,cf(g))}function z(){t&&(o(!0),dt.play())}return SE(()=>{var N;if(t){let D=a.current.querySelectorAll('[data-in="true"]'),K=12,Q=(N=e.position)==null?void 0:N.includes("top"),te=0,F=0;Array.from(D).reverse().forEach((oe,P)=>{let x=oe;x.classList.add("Toastify__toast--stacked"),P>0&&(x.dataset.collapsed=`${i}`),x.dataset.pos||(x.dataset.pos=Q?"top":"bot");let R=te*(i?.2:1)+(i?0:K*P);x.style.setProperty("--y",`${Q?R:R*-1}px`),x.style.setProperty("--g",`${K}`),x.style.setProperty("--s",`${1-(i?F:0)}`),te+=x.offsetHeight,F+=.025})}},[i,f,t]),L.useEffect(()=>{function N(D){var K;let Q=a.current;C(D)&&((K=Q.querySelector('[tabIndex="0"]'))==null||K.focus(),o(!1),dt.pause()),D.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(o(!0),dt.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[C]),it.createElement("section",{ref:a,className:"Toastify",id:I,onMouseEnter:()=>{t&&(o(!1),dt.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((N,D)=>{let K=D.length?{..._}:{..._,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:O(N),"data-stacked":t,style:K,key:`c-${N}`},D.map(({content:Q,props:te})=>it.createElement(DE,{...te,stacked:t,collapseAll:z,isIn:h(te.toastId,te.containerId),key:`t-${te.key}`},Q)))}))}var nl={},ty;function jE(){if(ty)return nl;ty=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.parse=c,nl.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,C){const O=new a,z=I.length;if(z<2)return O;const N=(C==null?void 0:C.decode)||_;let D=0;do{const K=I.indexOf("=",D);if(K===-1)break;const Q=I.indexOf(";",D),te=Q===-1?z:Q;if(K>te){D=I.lastIndexOf(";",K-1)+1;continue}const F=h(I,D,K),oe=f(I,K,F),P=I.slice(F,oe);if(O[P]===void 0){let x=h(I,K+1,te),R=f(I,te,x);const b=N(I.slice(x,R));O[P]=b}D=te+1}while(D<z);return O}function h(I,C,O){do{const z=I.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<O);return O}function f(I,C,O){for(;C>O;){const z=I.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return O}function g(I,C,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const N=z(C);if(!e.test(N))throw new TypeError(`argument val is invalid: ${C}`);let D=I+"="+N;if(!O)return D;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);D+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);D+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);D+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);D+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(D+="; HttpOnly"),O.secure&&(D+="; Secure"),O.partitioned&&(D+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return D}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return nl}jE();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ny="popstate";function FE(n={}){function e(o,a){let{pathname:c="/",search:h="",hash:f=""}=Pi(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),wl("",{pathname:c,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=o.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof a=="string"?a:_s(a))}function i(o,a){Kt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return zE(e,t,i,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UE(){return Math.random().toString(36).substring(2,10)}function ry(n,e){return{usr:n.state,key:n.key,idx:e}}function wl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pi(e):e,state:t,key:e&&e.key||i||UE()}}function _s({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function zE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",f=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){h="POP";let N=_(),D=N==null?null:N-g;g=N,f&&f({action:h,location:z.location,delta:D})}function I(N,D){h="PUSH";let K=wl(z.location,N,D);t(K,N),g=_()+1;let Q=ry(K,g),te=z.createHref(K);try{c.pushState(Q,"",te)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(te)}a&&f&&f({action:h,location:z.location,delta:1})}function C(N,D){h="REPLACE";let K=wl(z.location,N,D);t(K,N),g=_();let Q=ry(K,g),te=z.createHref(K);c.replaceState(Q,"",te),a&&f&&f({action:h,location:z.location,delta:0})}function O(N){let D=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof N=="string"?N:_s(N);return K=K.replace(/ $/,"%20"),Qe(D,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,D)}let z={get action(){return h},get location(){return n(o,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ny,T),f=N,()=>{o.removeEventListener(ny,T),f=null}},createHref(N){return e(o,N)},createURL:O,encodeLocation(N){let D=O(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:I,replace:C,go(N){return c.go(N)}};return z}var BE=new Set(["lazy","caseSensitive","path","id","index","children"]);function $E(n){return n.index===!0}function wc(n,e,t=[],i={}){return n.map((o,a)=>{let c=[...t,String(a)],h=typeof o.id=="string"?o.id:c.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),$E(o)){let f={...o,...e(o),id:h};return i[h]=f,f}else{let f={...o,...e(o),id:h,children:void 0};return i[h]=f,o.children&&(f.children=wc(o.children,e,c,i)),f}})}function us(n,e,t="/"){return ac(n,e,t,!1)}function ac(n,e,t,i){let o=typeof e=="string"?Pi(e):e,a=Rr(o.pathname||"/",t);if(a==null)return null;let c=Jv(n);WE(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=nT(a);h=eT(c[f],g,i)}return h}function HE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Jv(n,e=[],t=[],i=""){let o=(a,c,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Hr([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(Qe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Jv(a.children,e,_,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:JE(g,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let f of Zv(a.path))o(a,c,f)}),e}function Zv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Zv(i.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function WE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qE=/^:[\w-]+$/,KE=3,GE=2,QE=1,YE=10,XE=-2,iy=n=>n==="*";function JE(n,e){let t=n.split("/"),i=t.length;return t.some(iy)&&(i+=XE),e&&(i+=GE),t.filter(o=>!iy(o)).reduce((o,a)=>o+(qE.test(a)?KE:a===""?QE:YE),i)}function ZE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function eT(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=Ec({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),I=f.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Ec({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Hr([a,T.pathname]),pathnameBase:sT(Hr([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=Hr([a,T.pathnameBase]))}return c}function Ec(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=tT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},I)=>{if(_==="*"){let O=h[I]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const C=h[I];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:n}}function tT(n,e=!1,t=!0){Kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function nT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function rT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Pi(n):n;return{pathname:t?t.startsWith("/")?t:iT(t,e):e,search:oT(i),hash:aT(o)}}function iT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Kh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zf(n){let e=e0(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Bf(n,e,t,i=!1){let o;typeof n=="string"?o=Pi(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),Kh("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Kh("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Kh("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}h=T>=0?e[T]:"/"}let f=rT(o,h),g=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),sT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Tc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Kc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var t0=["POST","PUT","PATCH","DELETE"],lT=new Set(t0),uT=["GET",...t0],cT=new Set(uT),dT=new Set([301,302,303,307,308]),hT=new Set([307,308]),Gh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),n0="remix-router-transitions",r0=Symbol("ResetLoaderData");function mT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||pT,o={},a=wc(n.routes,i,void 0,o),c,h=n.basename||"/",f=n.dataStrategy||wT,g=n.patchRoutesOnNavigation,_={...n.future},T=null,I=new Set,C=null,O=null,z=null,N=n.hydrationData!=null,D=us(a,n.history.location,h),K=null;if(D==null&&!g){let V=nr(404,{pathname:n.history.location.pathname}),{matches:H,route:X}=my(a);D=H,K={[X.id]:V}}D&&!n.hydrationData&&ar(D,a,n.history.location.pathname).active&&(D=null);let Q;if(D)if(D.some(V=>V.route.lazy))Q=!1;else if(!D.some(V=>V.route.loader))Q=!0;else{let V=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let X=D.findIndex(ee=>H[ee.route.id]!==void 0);Q=D.slice(0,X+1).every(ee=>!mf(ee.route,V,H))}else Q=D.every(X=>!mf(X.route,V,H))}else{Q=!1,D=[];let V=ar(null,a,n.history.location.pathname);V.active&&V.matches&&(D=V.matches)}let te,F={historyAction:n.history.action,location:n.history.location,matches:D,initialized:Q,navigation:Gh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||K,fetchers:new Map,blockers:new Map},oe="POP",P=!1,x,R=!1,b=new Map,j=null,B=!1,k=!1,ht=new Set,Be=new Map,wt=0,Ue=-1,le=new Map,Te=new Set,he=new Map,$=new Map,Z=new Set,we=new Map,Me,Le=null;function $e(){if(T=n.history.listen(({action:V,location:H,delta:X})=>{if(Me){Me(),Me=void 0;return}Kt(we.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Vi({currentLocation:F.location,nextLocation:H,historyAction:V});if(ee&&X!=null){let fe=new Promise(ye=>{Me=ye});n.history.go(X*-1),Nr(ee,{state:"blocked",location:H,proceed(){Nr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fe.then(()=>n.history.go(X))},reset(){let ye=new Map(F.blockers);ye.set(ee,rl),je({blockers:ye})}});return}return on(V,H)}),t){bT(e,b);let V=()=>NT(e,b);e.addEventListener("pagehide",V),j=()=>e.removeEventListener("pagehide",V)}return F.initialized||on("POP",F.location,{initialHydration:!0}),te}function Ze(){T&&T(),j&&j(),I.clear(),x&&x.abort(),F.fetchers.forEach((V,H)=>Vn(H)),F.blockers.forEach((V,H)=>Mi(H))}function et(V){return I.add(V),()=>I.delete(V)}function je(V,H={}){F={...F,...V};let X=[],ee=[];F.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(Z.has(ye)?X.push(ye):ee.push(ye))}),[...I].forEach(fe=>fe(F,{deletedFetchers:X,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),X.forEach(fe=>Vn(fe)),ee.forEach(fe=>F.fetchers.delete(fe))}function mt(V,H,{flushSync:X}={}){var ce,ke;let ee=F.actionData!=null&&F.navigation.formMethod!=null&&xr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ce=V.state)==null?void 0:ce._isRedirect)!==!0,fe;H.actionData?Object.keys(H.actionData).length>0?fe=H.actionData:fe=null:ee?fe=F.actionData:fe=null;let ye=H.loaderData?fy(F.loaderData,H.loaderData,H.matches||[],H.errors):F.loaderData,Re=F.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Fe,st)=>Re.set(st,rl)));let pe=P===!0||F.navigation.formMethod!=null&&xr(F.navigation.formMethod)&&((ke=V.state)==null?void 0:ke._isRedirect)!==!0;c&&(a=c,c=void 0),B||oe==="POP"||(oe==="PUSH"?n.history.push(V,V.state):oe==="REPLACE"&&n.history.replace(V,V.state));let _e;if(oe==="POP"){let Fe=b.get(F.location.pathname);Fe&&Fe.has(V.pathname)?_e={currentLocation:F.location,nextLocation:V}:b.has(V.pathname)&&(_e={currentLocation:V,nextLocation:F.location})}else if(R){let Fe=b.get(F.location.pathname);Fe?Fe.add(V.pathname):(Fe=new Set([V.pathname]),b.set(F.location.pathname,Fe)),_e={currentLocation:F.location,nextLocation:V}}je({...H,actionData:fe,loaderData:ye,historyAction:oe,location:V,initialized:!0,navigation:Gh,revalidation:"idle",restoreScrollPosition:jn(V,H.matches||F.matches),preventScrollReset:pe,blockers:Re},{viewTransitionOpts:_e,flushSync:X===!0}),oe="POP",P=!1,R=!1,B=!1,k=!1,Le==null||Le.resolve(),Le=null}async function Kn(V,H){if(typeof V=="number"){n.history.go(V);return}let X=pf(F.location,F.matches,h,V,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ee,submission:fe,error:ye}=sy(!1,X,H),Re=F.location,pe=wl(F.location,ee,H&&H.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=H&&H.replace!=null?H.replace:void 0,ce="PUSH";_e===!0?ce="REPLACE":_e===!1||fe!=null&&xr(fe.formMethod)&&fe.formAction===F.location.pathname+F.location.search&&(ce="REPLACE");let ke=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Fe=(H&&H.flushSync)===!0,st=Vi({currentLocation:Re,nextLocation:pe,historyAction:ce});if(st){Nr(st,{state:"blocked",location:pe,proceed(){Nr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Kn(V,H)},reset(){let Pt=new Map(F.blockers);Pt.set(st,rl),je({blockers:Pt})}});return}await on(ce,pe,{submission:fe,pendingError:ye,preventScrollReset:ke,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Fe})}function bi(){Le||(Le=DT()),Ar(),je({revalidation:"loading"});let V=Le.promise;return F.navigation.state==="submitting"?V:F.navigation.state==="idle"?(on(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),V):(on(oe||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:R===!0}),V)}async function on(V,H,X){x&&x.abort(),x=null,oe=V,B=(X&&X.startUninterruptedRevalidation)===!0,Sn(F.location,F.matches),P=(X&&X.preventScrollReset)===!0,R=(X&&X.enableViewTransition)===!0;let ee=c||a,fe=X&&X.overrideNavigation,ye=us(ee,H,h),Re=(X&&X.flushSync)===!0,pe=ar(ye,ee,H.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:qe,notFoundMatches:tt,route:ot}=or(H.pathname);mt(H,{matches:tt,loaderData:{},errors:{[ot.id]:qe}},{flushSync:Re});return}if(F.initialized&&!k&&RT(F.location,H)&&!(X&&X.submission&&xr(X.submission.formMethod))){mt(H,{matches:ye},{flushSync:Re});return}x=new AbortController;let _e=Jo(n.history,H,x.signal,X&&X.submission),ce;if(X&&X.pendingError)ce=[Xs(ye).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&xr(X.submission.formMethod)){let qe=await Jr(_e,H,X.submission,ye,pe.active,{replace:X.replace,flushSync:Re});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[tt,ot]=qe.pendingActionResult;if(Wn(ot)&&Kc(ot.error)&&ot.error.status===404){x=null,mt(H,{matches:qe.matches,loaderData:{},errors:{[tt]:ot.error}});return}}ye=qe.matches||ye,ce=qe.pendingActionResult,fe=Qh(H,X.submission),Re=!1,pe.active=!1,_e=Jo(n.history,_e.url,_e.signal)}let{shortCircuited:ke,matches:Fe,loaderData:st,errors:Pt}=await Ni(_e,H,ye,pe.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Re,ce);ke||(x=null,mt(H,{matches:Fe||ye,...py(ce),loaderData:st,errors:Pt}))}async function Jr(V,H,X,ee,fe,ye={}){Ar();let Re=AT(H,X);if(je({navigation:Re},{flushSync:ye.flushSync===!0}),fe){let ce=await vn(ee,H.pathname,V.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let ke=Xs(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[ke,{type:"error",error:ce.error}]}}else if(ce.matches)ee=ce.matches;else{let{notFoundMatches:ke,error:Fe,route:st}=or(H.pathname);return{matches:ke,pendingActionResult:[st.id,{type:"error",error:Fe}]}}}let pe,_e=ol(ee,H);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:nr(405,{method:V.method,pathname:H.pathname,routeId:_e.route.id})};else if(pe=(await sr("action",F,V,[_e],ee,null))[_e.route.id],V.signal.aborted)return{shortCircuited:!0};if(Js(pe)){let ce;return ye&&ye.replace!=null?ce=ye.replace:ce=cy(pe.response.headers.get("Location"),new URL(V.url),h)===F.location.pathname+F.location.search,await Gt(V,pe,!0,{submission:X,replace:ce}),{shortCircuited:!0}}if(Wn(pe)){let ce=Xs(ee,_e.route.id);return(ye&&ye.replace)!==!0&&(oe="PUSH"),{matches:ee,pendingActionResult:[ce.route.id,pe]}}return{matches:ee,pendingActionResult:[_e.route.id,pe]}}async function Ni(V,H,X,ee,fe,ye,Re,pe,_e,ce,ke){let Fe=fe||Qh(H,ye),st=ye||Re||yy(Fe),Pt=!B&&!_e;if(ee){if(Pt){let gt=Di(ke);je({navigation:Fe,...gt!==void 0?{actionData:gt}:{}},{flushSync:ce})}let Ye=await vn(X,H.pathname,V.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let gt=Xs(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[gt]:Ye.error}}}else if(Ye.matches)X=Ye.matches;else{let{error:gt,notFoundMatches:Xt,route:dr}=or(H.pathname);return{matches:Xt,loaderData:{},errors:{[dr.id]:gt}}}}let qe=c||a,[tt,ot]=ay(n.history,F,X,st,H,_e===!0,k,ht,Z,he,Te,qe,h,ke);if(Ue=++wt,tt.length===0&&ot.length===0){let Ye=br();return mt(H,{matches:X,loaderData:{},errors:ke&&Wn(ke[1])?{[ke[0]]:ke[1].error}:null,...py(ke),...Ye?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ce}),{shortCircuited:!0}}if(Pt){let Ye={};if(!ee){Ye.navigation=Fe;let gt=Di(ke);gt!==void 0&&(Ye.actionData=gt)}ot.length>0&&(Ye.fetchers=Ps(ot)),je(Ye,{flushSync:ce})}ot.forEach(Ye=>{Qt(Ye.key),Ye.controller&&Be.set(Ye.key,Ye.controller)});let lr=()=>ot.forEach(Ye=>Qt(Ye.key));x&&x.signal.addEventListener("abort",lr);let{loaderResults:ur,fetcherResults:an}=await Zr(F,X,tt,ot,V);if(V.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",lr),ot.forEach(Ye=>Be.delete(Ye.key));let Yt=Zu(ur);if(Yt)return await Gt(V,Yt.result,!0,{replace:pe}),{shortCircuited:!0};if(Yt=Zu(an),Yt)return Te.add(Yt.key),await Gt(V,Yt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:ni,errors:Dr}=hy(F,X,ur,ke,ot,an);_e&&F.errors&&(Dr={...F.errors,...Dr});let cr=br(),at=Oi(Ue),ri=cr||at||ot.length>0;return{matches:X,loaderData:ni,errors:Dr,...ri?{fetchers:new Map(F.fetchers)}:{}}}function Di(V){if(V&&!Wn(V[1]))return{[V[0]]:V[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Ps(V){return V.forEach(H=>{let X=F.fetchers.get(H.key),ee=il(void 0,X?X.data:void 0);F.fetchers.set(H.key,ee)}),new Map(F.fetchers)}async function yo(V,H,X,ee){Qt(V);let fe=(ee&&ee.flushSync)===!0,ye=c||a,Re=pf(F.location,F.matches,h,X,H,ee==null?void 0:ee.relative),pe=us(ye,Re,h),_e=ar(pe,ye,Re);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){ut(V,H,nr(404,{pathname:Re}),{flushSync:fe});return}let{path:ce,submission:ke,error:Fe}=sy(!0,Re,ee);if(Fe){ut(V,H,Fe,{flushSync:fe});return}let st=ol(pe,ce),Pt=(ee&&ee.preventScrollReset)===!0;if(ke&&xr(ke.formMethod)){await Li(V,H,ce,st,pe,_e.active,fe,Pt,ke);return}he.set(V,{routeId:H,path:ce}),await ir(V,H,ce,st,pe,_e.active,fe,Pt,ke)}async function Li(V,H,X,ee,fe,ye,Re,pe,_e){Ar(),he.delete(V);function ce(yt){if(!yt.route.action&&!yt.route.lazy){let Rn=nr(405,{method:_e.formMethod,pathname:X,routeId:H});return ut(V,H,Rn,{flushSync:Re}),!0}return!1}if(!ye&&ce(ee))return;let ke=F.fetchers.get(V);In(V,kT(_e,ke),{flushSync:Re});let Fe=new AbortController,st=Jo(n.history,X,Fe.signal,_e);if(ye){let yt=await vn(fe,X,st.signal);if(yt.type==="aborted")return;if(yt.type==="error"){ut(V,H,yt.error,{flushSync:Re});return}else if(yt.matches){if(fe=yt.matches,ee=ol(fe,X),ce(ee))return}else{ut(V,H,nr(404,{pathname:X}),{flushSync:Re});return}}Be.set(V,Fe);let Pt=wt,tt=(await sr("action",F,st,[ee],fe,V))[ee.route.id];if(st.signal.aborted){Be.get(V)===Fe&&Be.delete(V);return}if(Z.has(V)){if(Js(tt)||Wn(tt)){In(V,ls(void 0));return}}else{if(Js(tt))if(Be.delete(V),Ue>Pt){In(V,ls(void 0));return}else return Te.add(V),In(V,il(_e)),Gt(st,tt,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(Wn(tt)){ut(V,H,tt.error);return}}let ot=F.navigation.location||F.location,lr=Jo(n.history,ot,Fe.signal),ur=c||a,an=F.navigation.state!=="idle"?us(ur,F.navigation.location,h):F.matches;Qe(an,"Didn't find any matches after fetcher action");let Yt=++wt;le.set(V,Yt);let ni=il(_e,tt.data);F.fetchers.set(V,ni);let[Dr,cr]=ay(n.history,F,an,_e,ot,!1,k,ht,Z,he,Te,ur,h,[ee.route.id,tt]);cr.filter(yt=>yt.key!==V).forEach(yt=>{let Rn=yt.key,ln=F.fetchers.get(Rn),vo=il(void 0,ln?ln.data:void 0);F.fetchers.set(Rn,vo),Qt(Rn),yt.controller&&Be.set(Rn,yt.controller)}),je({fetchers:new Map(F.fetchers)});let at=()=>cr.forEach(yt=>Qt(yt.key));Fe.signal.addEventListener("abort",at);let{loaderResults:ri,fetcherResults:Ye}=await Zr(F,an,Dr,cr,lr);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",at),le.delete(V),Be.delete(V),cr.forEach(yt=>Be.delete(yt.key));let gt=Zu(ri);if(gt)return Gt(lr,gt.result,!1,{preventScrollReset:pe});if(gt=Zu(Ye),gt)return Te.add(gt.key),Gt(lr,gt.result,!1,{preventScrollReset:pe});let{loaderData:Xt,errors:dr}=hy(F,an,ri,void 0,cr,Ye);if(F.fetchers.has(V)){let yt=ls(tt.data);F.fetchers.set(V,yt)}Oi(Yt),F.navigation.state==="loading"&&Yt>Ue?(Qe(oe,"Expected pending action"),x&&x.abort(),mt(F.navigation.location,{matches:an,loaderData:Xt,errors:dr,fetchers:new Map(F.fetchers)})):(je({errors:dr,loaderData:fy(F.loaderData,Xt,an,dr),fetchers:new Map(F.fetchers)}),k=!1)}async function ir(V,H,X,ee,fe,ye,Re,pe,_e){let ce=F.fetchers.get(V);In(V,il(_e,ce?ce.data:void 0),{flushSync:Re});let ke=new AbortController,Fe=Jo(n.history,X,ke.signal);if(ye){let tt=await vn(fe,X,Fe.signal);if(tt.type==="aborted")return;if(tt.type==="error"){ut(V,H,tt.error,{flushSync:Re});return}else if(tt.matches)fe=tt.matches,ee=ol(fe,X);else{ut(V,H,nr(404,{pathname:X}),{flushSync:Re});return}}Be.set(V,ke);let st=wt,qe=(await sr("loader",F,Fe,[ee],fe,V))[ee.route.id];if(Be.get(V)===ke&&Be.delete(V),!Fe.signal.aborted){if(Z.has(V)){In(V,ls(void 0));return}if(Js(qe))if(Ue>st){In(V,ls(void 0));return}else{Te.add(V),await Gt(Fe,qe,!1,{preventScrollReset:pe});return}if(Wn(qe)){ut(V,H,qe.error);return}In(V,ls(qe.data))}}async function Gt(V,H,X,{submission:ee,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){H.response.headers.has("X-Remix-Revalidate")&&(k=!0);let pe=H.response.headers.get("Location");Qe(pe,"Expected a Location header on the redirect Response"),pe=cy(pe,new URL(V.url),h);let _e=wl(F.location,pe,{_isRedirect:!0});if(t){let qe=!1;if(H.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if($f.test(pe)){const tt=n.history.createURL(pe);qe=tt.origin!==e.location.origin||Rr(tt.pathname,h)==null}if(qe){Re?e.location.replace(pe):e.location.assign(pe);return}}x=null;let ce=Re===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Fe,formEncType:st}=F.navigation;!ee&&!fe&&ke&&Fe&&st&&(ee=yy(F.navigation));let Pt=ee||fe;if(hT.has(H.response.status)&&Pt&&xr(Pt.formMethod))await on(ce,_e,{submission:{...Pt,formAction:pe},preventScrollReset:ye||P,enableViewTransition:X?R:void 0});else{let qe=Qh(_e,ee);await on(ce,_e,{overrideNavigation:qe,fetcherSubmission:fe,preventScrollReset:ye||P,enableViewTransition:X?R:void 0})}}async function sr(V,H,X,ee,fe,ye){let Re,pe={};try{Re=await ET(f,V,H,X,ee,fe,ye,o,i)}catch(_e){return ee.forEach(ce=>{pe[ce.route.id]={type:"error",error:_e}}),pe}for(let[_e,ce]of Object.entries(Re))if(CT(ce)){let ke=ce.result;pe[_e]={type:"redirect",response:IT(ke,X,_e,fe,h)}}else pe[_e]=await xT(ce);return pe}async function Zr(V,H,X,ee,fe){let ye=sr("loader",V,fe,X,H,null),Re=Promise.all(ee.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let Fe=(await sr("loader",V,Jo(n.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:Fe}}else return Promise.resolve({[ce.key]:{type:"error",error:nr(404,{pathname:ce.path})}})})),pe=await ye,_e=(await Re).reduce((ce,ke)=>Object.assign(ce,ke),{});return{loaderResults:pe,fetcherResults:_e}}function Ar(){k=!0,he.forEach((V,H)=>{Be.has(H)&&ht.add(H),Qt(H)})}function In(V,H,X={}){F.fetchers.set(V,H),je({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ut(V,H,X,ee={}){let fe=Xs(F.matches,H);Vn(V),je({errors:{[fe.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ct(V){return $.set(V,($.get(V)||0)+1),Z.has(V)&&Z.delete(V),F.fetchers.get(V)||fT}function Vn(V){let H=F.fetchers.get(V);Be.has(V)&&!(H&&H.state==="loading"&&le.has(V))&&Qt(V),he.delete(V),le.delete(V),Te.delete(V),Z.delete(V),ht.delete(V),F.fetchers.delete(V)}function As(V){let H=($.get(V)||0)-1;H<=0?($.delete(V),Z.add(V)):$.set(V,H),je({fetchers:new Map(F.fetchers)})}function Qt(V){let H=Be.get(V);H&&(H.abort(),Be.delete(V))}function kr(V){for(let H of V){let X=Ct(H),ee=ls(X.data);F.fetchers.set(H,ee)}}function br(){let V=[],H=!1;for(let X of Te){let ee=F.fetchers.get(X);Qe(ee,`Expected fetcher: ${X}`),ee.state==="loading"&&(Te.delete(X),V.push(X),H=!0)}return kr(V),H}function Oi(V){let H=[];for(let[X,ee]of le)if(ee<V){let fe=F.fetchers.get(X);Qe(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(Qt(X),le.delete(X),H.push(X))}return kr(H),H.length>0}function ks(V,H){let X=F.blockers.get(V)||rl;return we.get(V)!==H&&we.set(V,H),X}function Mi(V){F.blockers.delete(V),we.delete(V)}function Nr(V,H){let X=F.blockers.get(V)||rl;Qe(X.state==="unblocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="proceeding"||X.state==="blocked"&&H.state==="unblocked"||X.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${H.state}`);let ee=new Map(F.blockers);ee.set(V,H),je({blockers:ee})}function Vi({currentLocation:V,nextLocation:H,historyAction:X}){if(we.size===0)return;we.size>1&&Kt(!1,"A router only supports one blocker at a time");let ee=Array.from(we.entries()),[fe,ye]=ee[ee.length-1],Re=F.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:V,nextLocation:H,historyAction:X}))return fe}function or(V){let H=nr(404,{pathname:V}),X=c||a,{matches:ee,route:fe}=my(X);return{notFoundMatches:ee,route:fe,error:H}}function ji(V,H,X){if(C=V,z=H,O=X||null,!N&&F.navigation===Gh){N=!0;let ee=jn(F.location,F.matches);ee!=null&&je({restoreScrollPosition:ee})}return()=>{C=null,z=null,O=null}}function ei(V,H){return O&&O(V,H.map(ee=>HE(ee,F.loaderData)))||V.key}function Sn(V,H){if(C&&z){let X=ei(V,H);C[X]=z()}}function jn(V,H){if(C){let X=ei(V,H),ee=C[X];if(typeof ee=="number")return ee}return null}function ar(V,H,X){if(g)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:ac(H,X,h,!0)}}else return{active:!0,matches:ac(H,X,h,!0)||[]};return{active:!1,matches:null}}async function vn(V,H,X){if(!g)return{type:"success",matches:V};let ee=V;for(;;){let fe=c==null,ye=c||a,Re=o;try{await g({path:H,matches:ee,patch:(ce,ke)=>{X.aborted||uy(ce,ke,ye,Re,i)}})}catch(ce){return{type:"error",error:ce,partialMatches:ee}}finally{fe&&!X.aborted&&(a=[...a])}if(X.aborted)return{type:"aborted"};let pe=us(ye,H,h);if(pe)return{type:"success",matches:pe};let _e=ac(ye,H,h,!0);if(!_e||ee.length===_e.length&&ee.every((ce,ke)=>ce.route.id===_e[ke].route.id))return{type:"success",matches:null};ee=_e}}function bs(V){o={},c=wc(V,i,void 0,o)}function ti(V,H){let X=c==null;uy(V,H,c||a,o,i),X&&(a=[...a],je({}))}return te={get basename(){return h},get future(){return _},get state(){return F},get routes(){return a},get window(){return e},initialize:$e,subscribe:et,enableScrollRestoration:ji,navigate:Kn,fetch:yo,revalidate:bi,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:Ct,deleteFetcher:As,dispose:Ze,getBlocker:ks,deleteBlocker:Mi,patchRoutes:ti,_internalFetchControllers:Be,_internalSetRoutes:bs},te}function gT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function pf(n,e,t,i,o,a){let c,h;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){h=g;break}}else c=e,h=e[e.length-1];let f=Bf(i||".",zf(c),Rr(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let g=Hf(f.search);if(h.route.index&&!g)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let _=new URLSearchParams(f.search),T=_.getAll("index");_.delete("index"),T.filter(C=>C).forEach(C=>_.append("index",C));let I=_.toString();f.search=I?`?${I}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Hr([t,f.pathname])),_s(f)}function sy(n,e,t){if(!t||!gT(t))return{path:e};if(t.formMethod&&!PT(t.formMethod))return{path:e,error:nr(405,{method:t.formMethod})};let i=()=>({path:e,error:nr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),c=s0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!xr(a))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((I,[C,O])=>`${I}${C}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!xr(a))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=gf(t.formData),f=t.formData;else if(t.body instanceof FormData)h=gf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=dy(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=dy(h)}catch{return i()}let g={formMethod:a,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(xr(g.formMethod))return{path:e,submission:g};let _=Pi(e);return n&&_.search&&Hf(_.search)&&h.append("index",""),_.search=`?${h}`,{path:_s(_),submission:g}}function oy(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function ay(n,e,t,i,o,a,c,h,f,g,_,T,I,C){let O=C?Wn(C[1])?C[1].error:C[1].data:void 0,z=n.createURL(e.location),N=n.createURL(o),D=t;a&&e.errors?D=oy(t,Object.keys(e.errors)[0],!0):C&&Wn(C[1])&&(D=oy(t,C[0]));let K=C?C[1].statusCode:void 0,Q=K&&K>=400,te=D.filter((oe,P)=>{let{route:x}=oe;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return mf(x,e.loaderData,e.errors);if(yT(e.loaderData,e.matches[P],oe))return!0;let R=e.matches[P],b=oe;return ly(oe,{currentUrl:z,currentParams:R.params,nextUrl:N,nextParams:b.params,...i,actionResult:O,actionStatus:K,defaultShouldRevalidate:Q?!1:c||z.pathname+z.search===N.pathname+N.search||z.search!==N.search||vT(R,b)})}),F=[];return g.forEach((oe,P)=>{if(a||!t.some(B=>B.route.id===oe.routeId)||f.has(P))return;let x=us(T,oe.path,I);if(!x){F.push({key:P,routeId:oe.routeId,path:oe.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(P),b=ol(x,oe.path),j=!1;_.has(P)?j=!1:h.has(P)?(h.delete(P),j=!0):R&&R.state!=="idle"&&R.data===void 0?j=c:j=ly(b,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:N,nextParams:t[t.length-1].params,...i,actionResult:O,actionStatus:K,defaultShouldRevalidate:Q?!1:c}),j&&F.push({key:P,routeId:oe.routeId,path:oe.path,matches:x,match:b,controller:new AbortController})}),[te,F]}function mf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function yT(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function vT(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ly(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function uy(n,e,t,i,o){let a;if(n){let f=i[n];Qe(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let c=e.filter(f=>!a.some(g=>i0(f,g))),h=wc(c,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function i0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>i0(t,a))}):!1}async function _T(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Qe(o,"No route found in manifest");let a={};for(let c in i){let f=o[c]!==void 0&&c!=="hasErrorBoundary";Kt(!f,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!f&&!BE.has(c)&&(a[c]=i[c])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function wT({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[e[a].route.id]:o}),{})}async function ET(n,e,t,i,o,a,c,h,f,g){let _=a.map(C=>C.route.lazy?_T(C.route,f,h):void 0),T=a.map((C,O)=>{let z=_[O],N=o.some(K=>K.route.id===C.route.id);return{...C,shouldLoad:N,resolve:async K=>(K&&i.method==="GET"&&(C.route.lazy||C.route.loader)&&(N=!0),N?TT(e,i,C,z,K,g):Promise.resolve({type:"data",result:void 0}))}}),I=await n({matches:T,request:i,params:a[0].params,fetcherKey:c,context:g});try{await Promise.all(_)}catch{}return I}async function TT(n,e,t,i,o,a){let c,h,f=g=>{let _,T=new Promise((O,z)=>_=z);h=()=>_(),e.signal.addEventListener("abort",h);let I=O=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:a},...O!==void 0?[O]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(z=>I(z)):I())}}catch(O){return{type:"error",result:O}}})();return Promise.race([C,T])};try{let g=t.route[n];if(i)if(g){let _,[T]=await Promise.all([f(g).catch(I=>{_=I}),i]);if(_!==void 0)throw _;c=T}else if(await i,g=t.route[n],g)c=await f(g);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw nr(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)c=await f(g);else{let _=new URL(e.url),T=_.pathname+_.search;throw nr(404,{pathname:T})}}catch(g){return{type:"error",result:g}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function xT(n){var i,o,a,c;let{result:e,type:t}=n;if(o0(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new Tc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(gy(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Tc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Kc(e)?e.status:void 0}}return gy(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function IT(n,e,t,i,o){let a=n.headers.get("Location");if(Qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!$f.test(a)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=pf(new URL(e.url),c,o,a),n.headers.set("Location",a)}return n}function cy(n,e,t){if($f.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Rr(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function Jo(n,e,t,i){let o=n.createURL(s0(e)).toString(),a={signal:t};if(i&&xr(i.formMethod)){let{formMethod:c,formEncType:h}=i;a.method=c.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=gf(i.formData):a.body=i.formData}return new Request(o,a)}function gf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function dy(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function ST(n,e,t,i=!1,o=!1){let a={},c=null,h,f=!1,g={},_=t&&Wn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let I=T.route.id,C=e[I];if(Qe(!Js(C),"Cannot handle redirect results in processLoaderData"),Wn(C)){let O=C.error;if(_!==void 0&&(O=_,_=void 0),c=c||{},o)c[I]=O;else{let z=Xs(n,I);c[z.route.id]==null&&(c[z.route.id]=O)}i||(a[I]=r0),f||(f=!0,h=Kc(C.error)?C.error.status:500),C.headers&&(g[I]=C.headers)}else a[I]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(h=C.statusCode),C.headers&&(g[I]=C.headers)}),_!==void 0&&t&&(c={[t[0]]:_},a[t[0]]=void 0),{loaderData:a,errors:c,statusCode:h||200,loaderHeaders:g}}function hy(n,e,t,i,o,a){let{loaderData:c,errors:h}=ST(e,t,i);return o.forEach(f=>{let{key:g,match:_,controller:T}=f,I=a[g];if(Qe(I,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Wn(I)){let C=Xs(n.matches,_==null?void 0:_.route.id);h&&h[C.route.id]||(h={...h,[C.route.id]:I.error}),n.fetchers.delete(g)}else if(Js(I))Qe(!1,"Unhandled fetcher revalidation redirect");else{let C=ls(I.data);n.fetchers.set(g,C)}}),{loaderData:c,errors:h}}function fy(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==r0).reduce((a,[c,h])=>(a[c]=h,a),{});for(let a of t){let c=a.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&a.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function py(n){return n?Wn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xs(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function my(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function nr(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Tc(n||500,c,new Error(h),!0)}function Zu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Js(o))return{key:i,result:o}}}function s0(n){let e=typeof n=="string"?Pi(n):n;return _s({...e,hash:""})}function RT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function CT(n){return o0(n.result)&&dT.has(n.result.status)}function Wn(n){return n.type==="error"}function Js(n){return(n&&n.type)==="redirect"}function gy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function o0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function PT(n){return cT.has(n.toUpperCase())}function xr(n){return lT.has(n.toUpperCase())}function Hf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ol(n,e){let t=typeof e=="string"?Pi(e).search:e.search;if(n[n.length-1].route.index&&Hf(t||""))return n[n.length-1];let i=e0(n);return i[i.length-1]}function yy(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Qh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function il(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ls(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function bT(n,e){try{let t=n.sessionStorage.getItem(n0);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function NT(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(n0,JSON.stringify(t))}catch(i){Kt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function DT(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var uo=L.createContext(null);uo.displayName="DataRouter";var bl=L.createContext(null);bl.displayName="DataRouterState";var Wf=L.createContext({isTransitioning:!1});Wf.displayName="ViewTransition";var a0=L.createContext(new Map);a0.displayName="Fetchers";var LT=L.createContext(null);LT.displayName="Await";var Xr=L.createContext(null);Xr.displayName="Navigation";var Gc=L.createContext(null);Gc.displayName="Location";var Pr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var qf=L.createContext(null);qf.displayName="RouteError";function OT(n,{relative:e}={}){Qe(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(Xr),{hash:o,pathname:a,search:c}=Dl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Hr([t,a])),i.createHref({pathname:h,search:c,hash:o})}function Nl(){return L.useContext(Gc)!=null}function co(){return Qe(Nl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Gc).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(n){L.useContext(Xr).static||L.useLayoutEffect(n)}function ya(){let{isDataRoute:n}=L.useContext(Pr);return n?YT():MT()}function MT(){Qe(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(uo),{basename:e,navigator:t}=L.useContext(Xr),{matches:i}=L.useContext(Pr),{pathname:o}=co(),a=JSON.stringify(zf(i)),c=L.useRef(!1);return u0(()=>{c.current=!0}),L.useCallback((f,g={})=>{if(Kt(c.current,l0),!c.current)return;if(typeof f=="number"){t.go(f);return}let _=Bf(f,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Hr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,o,n])}var VT=L.createContext(null);function jT(n){let e=L.useContext(Pr).outlet;return e&&L.createElement(VT.Provider,{value:n},e)}function Qc(){let{matches:n}=L.useContext(Pr),e=n[n.length-1];return e?e.params:{}}function Dl(n,{relative:e}={}){let{matches:t}=L.useContext(Pr),{pathname:i}=co(),o=JSON.stringify(zf(t));return L.useMemo(()=>Bf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function FT(n,e,t,i){Qe(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Xr),{matches:a}=L.useContext(Pr),c=a[a.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let D=_&&_.path||"";c0(f,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let T=co(),I;I=T;let C=I.pathname||"/",O=C;if(g!=="/"){let D=g.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let z=us(n,{pathname:O});return Kt(_||z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Kt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),HT(z&&z.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Hr([g,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Hr([g,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,i)}function UT(){let n=QT(),e=Kc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,c)}var zT=L.createElement(UT,null),BT=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Pr.Provider,{value:this.props.routeContext},L.createElement(qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $T({routeContext:n,match:e,children:t}){let i=L.useContext(uo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Pr.Provider,{value:n},t)}function HT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:T}=t,I=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,g,_)=>{let T,I=!1,C=null,O=null;t&&(T=a&&g.route.id?a[g.route.id]:void 0,C=g.route.errorElement||zT,c&&(h<0&&_===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):h===_&&(I=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),N=()=>{let D;return T?D=C:I?D=O:g.route.Component?D=L.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=f,L.createElement($T,{match:g,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:D})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?L.createElement(BT,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):N()},null)}function Kf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(n){let e=L.useContext(uo);return Qe(e,Kf(n)),e}function qT(n){let e=L.useContext(bl);return Qe(e,Kf(n)),e}function KT(n){let e=L.useContext(Pr);return Qe(e,Kf(n)),e}function Gf(n){let e=KT(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GT(){return Gf("useRouteId")}function QT(){var i;let n=L.useContext(qf),e=qT("useRouteError"),t=Gf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function YT(){let{router:n}=WT("useNavigate"),e=Gf("useNavigate"),t=L.useRef(!1);return u0(()=>{t.current=!0}),L.useCallback(async(o,a={})=>{Kt(t.current,l0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var vy={};function c0(n,e,t){!e&&!vy[n]&&(vy[n]=!0,Kt(!1,t))}var _y={};function wy(n,e){!n&&!_y[e]&&(_y[e]=!0,console.warn(e))}function XT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:L.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:L.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:L.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var JT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function ZT({router:n,flushSync:e}){let[t,i]=L.useState(n.state),[o,a]=L.useState(),[c,h]=L.useState({isTransitioning:!1}),[f,g]=L.useState(),[_,T]=L.useState(),[I,C]=L.useState(),O=L.useRef(new Map),z=L.useCallback((Q,{deletedFetchers:te,flushSync:F,viewTransitionOpts:oe})=>{te.forEach(x=>O.current.delete(x)),Q.fetchers.forEach((x,R)=>{x.data!==void 0&&O.current.set(R,x.data)}),wy(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(wy(oe==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!P){e&&F?e(()=>i(Q)):L.startTransition(()=>i(Q));return}if(e&&F){e(()=>{_&&(f&&f.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let x=n.window.document.startViewTransition(()=>{e(()=>i(Q))});x.finished.finally(()=>{e(()=>{g(void 0),T(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>T(x));return}_?(f&&f.resolve(),_.skipTransition(),C({state:Q,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(a(Q),h({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,e,_,f]);L.useLayoutEffect(()=>n.subscribe(z),[n,z]),L.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new JT)},[c]),L.useEffect(()=>{if(f&&o&&n.window){let Q=o,te=f.promise,F=n.window.document.startViewTransition(async()=>{L.startTransition(()=>i(Q)),await te});F.finished.finally(()=>{g(void 0),T(void 0),a(void 0),h({isTransitioning:!1})}),T(F)}},[o,f,n.window]),L.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,_,t.location,o]),L.useEffect(()=>{!c.isTransitioning&&I&&(a(I.state),h({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),C(void 0))},[c.isTransitioning,I]);let N=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Q=>n.navigate(Q),push:(Q,te,F)=>n.navigate(Q,{state:te,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(Q,te,F)=>n.navigate(Q,{replace:!0,state:te,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),D=n.basename||"/",K=L.useMemo(()=>({router:n,navigator:N,static:!1,basename:D}),[n,N,D]);return L.createElement(L.Fragment,null,L.createElement(uo.Provider,{value:K},L.createElement(bl.Provider,{value:t},L.createElement(a0.Provider,{value:O.current},L.createElement(Wf.Provider,{value:c},L.createElement(rx,{basename:D,location:t.location,navigationType:t.historyAction,navigator:N},L.createElement(ex,{routes:n.routes,future:n.future,state:t})))))),null)}var ex=L.memo(tx);function tx({routes:n,future:e,state:t}){return FT(n,void 0,t,e)}function nx(n){return jT(n.context)}function rx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Qe(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Pi(t));let{pathname:f="/",search:g="",hash:_="",state:T=null,key:I="default"}=t,C=L.useMemo(()=>{let O=Rr(f,c);return O==null?null:{location:{pathname:O,search:g,hash:_,state:T,key:I},navigationType:i}},[c,f,g,_,T,I,i]);return Kt(C!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(Xr.Provider,{value:h},L.createElement(Gc.Provider,{children:e,value:C}))}var lc="get",uc="application/x-www-form-urlencoded";function Yc(n){return n!=null&&typeof n.tagName=="string"}function ix(n){return Yc(n)&&n.tagName.toLowerCase()==="button"}function sx(n){return Yc(n)&&n.tagName.toLowerCase()==="form"}function ox(n){return Yc(n)&&n.tagName.toLowerCase()==="input"}function ax(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lx(n,e){return n.button===0&&(!e||e==="_self")&&!ax(n)}var ec=null;function ux(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(n){return n!=null&&!cx.has(n)?(Kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function dx(n,e){let t,i,o,a,c;if(sx(n)){let h=n.getAttribute("action");i=h?Rr(h,e):null,t=n.getAttribute("method")||lc,o=Yh(n.getAttribute("enctype"))||uc,a=new FormData(n)}else if(ix(n)||ox(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Rr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||lc,o=Yh(n.getAttribute("formenctype"))||Yh(h.getAttribute("enctype"))||uc,a=new FormData(h,n),!ux()){let{name:g,type:_,value:T}=n;if(_==="image"){let I=g?`${g}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else g&&a.append(g,T)}}else{if(Yc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lc,i=null,o=uc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Qf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function px(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await hx(a,t);return c.links?c.links():[]}return[]}));return vx(i.flat(1).filter(fx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ey(n,e,t,i,o,a){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var _;return t[g].pathname!==f.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):a==="data"?e.filter((f,g)=>{var T;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function mx(n,e){return gx(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gx(n){return[...new Set(n)]}function yx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vx(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(yx(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function _x(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function wx(){let n=L.useContext(uo);return Qf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ex(){let n=L.useContext(bl);return Qf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yf=L.createContext(void 0);Yf.displayName="FrameworkContext";function d0(){let n=L.useContext(Yf);return Qf(n,"You must render this element inside a <HydratedRouter> element"),n}function Tx(n,e){let t=L.useContext(Yf),[i,o]=L.useState(!1),[a,c]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,I=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=D=>{D.forEach(K=>{c(K.isIntersecting)})},N=new IntersectionObserver(z,{threshold:.5});return I.current&&N.observe(I.current),()=>{N.disconnect()}}},[n]),L.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let C=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:sl(h,C),onBlur:sl(f,O),onMouseEnter:sl(g,C),onMouseLeave:sl(_,O),onTouchStart:sl(T,C)}]:[!1,I,{}]}function sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xx({page:n,...e}){let{router:t}=wx(),i=L.useMemo(()=>us(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(Sx,{page:n,matches:i,...e}):null}function Ix(n){let{manifest:e,routeModules:t}=d0(),[i,o]=L.useState([]);return L.useEffect(()=>{let a=!1;return px(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function Sx({page:n,matches:e,...t}){let i=co(),{manifest:o,routeModules:a}=d0(),{loaderData:c,matches:h}=Ex(),f=L.useMemo(()=>Ey(n,e,h,o,i,"data"),[n,e,h,o,i]),g=L.useMemo(()=>Ey(n,e,h,o,i,"assets"),[n,e,h,o,i]),_=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,O=!1;if(e.forEach(N=>{var K;let D=o.routes[N.route.id];!D||!D.hasLoader||(!f.some(Q=>Q.route.id===N.route.id)&&N.route.id in c&&((K=a[N.route.id])!=null&&K.shouldRevalidate)||D.hasClientLoader?O=!0:C.add(N.route.id))}),C.size===0)return[];let z=_x(n);return O&&C.size>0&&z.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[z.pathname+z.search]},[c,i,o,f,e,n,a]),T=L.useMemo(()=>mx(g,o),[g,o]),I=Ix(g);return L.createElement(L.Fragment,null,_.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:O})=>L.createElement("link",{key:C,...O})))}function Rx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.1.1")}catch{}function Cx(n,e){return mT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:FE({window:e==null?void 0:e.window}),hydrationData:Px(),routes:n,mapRouteProperties:XT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Px(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Ax(n.errors)}),n}function Ax(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Tc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let c=new a(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:f,to:g,preventScrollReset:_,viewTransition:T,...I},C){let{basename:O}=L.useContext(Xr),z=typeof g=="string"&&f0.test(g),N,D=!1;if(typeof g=="string"&&z&&(N=g,h0))try{let R=new URL(window.location.href),b=g.startsWith("//")?new URL(R.protocol+g):new URL(g),j=Rr(b.pathname,O);b.origin===R.origin&&j!=null?g=j+b.search+b.hash:D=!0}catch{Kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=OT(g,{relative:o}),[Q,te,F]=Tx(i,I),oe=Nx(g,{replace:c,state:h,target:f,preventScrollReset:_,relative:o,viewTransition:T});function P(R){e&&e(R),R.defaultPrevented||oe(R)}let x=L.createElement("a",{...I,...F,href:N||K,onClick:D||a?e:P,ref:Rx(C,te),target:f,"data-discover":!z&&t==="render"?"true":void 0});return Q&&!z?L.createElement(L.Fragment,null,x,L.createElement(xx,{page:K})):x});gn.displayName="Link";var kx=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:f,...g},_){let T=Dl(c,{relative:g.relative}),I=co(),C=L.useContext(bl),{navigator:O,basename:z}=L.useContext(Xr),N=C!=null&&Vx(T)&&h===!0,D=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,K=I.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(K=K.toLowerCase(),Q=Q?Q.toLowerCase():null,D=D.toLowerCase()),Q&&z&&(Q=Rr(Q,z)||Q);const te=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let F=K===D||!o&&K.startsWith(D)&&K.charAt(te)==="/",oe=Q!=null&&(Q===D||!o&&Q.startsWith(D)&&Q.charAt(D.length)==="/"),P={isActive:F,isPending:oe,isTransitioning:N},x=F?e:void 0,R;typeof i=="function"?R=i(P):R=[i,F?"active":null,oe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(P):a;return L.createElement(gn,{...g,"aria-current":x,className:R,ref:_,style:b,to:c,viewTransition:h},typeof f=="function"?f(P):f)});kx.displayName="NavLink";var ro=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=lc,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:T,...I},C)=>{let O=Ox(),z=Mx(h,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&f0.test(h),K=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,F=(te==null?void 0:te.getAttribute("formmethod"))||c;O(te||Q.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:a,relative:g,preventScrollReset:_,viewTransition:T})};return L.createElement("form",{ref:C,method:N,action:z,onSubmit:i?f:K,...I,"data-discover":!D&&n==="render"?"true":void 0})});ro.displayName="Form";function bx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p0(n){let e=L.useContext(uo);return Qe(e,bx(n)),e}function Nx(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=ya(),f=co(),g=Dl(n,{relative:a});return L.useCallback(_=>{if(lx(_,e)){_.preventDefault();let T=t!==void 0?t:_s(f)===_s(g);h(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[f,h,g,t,i,e,n,o,a,c])}var Dx=0,Lx=()=>`__${String(++Dx)}__`;function Ox(){let{router:n}=p0("useSubmit"),{basename:e}=L.useContext(Xr),t=GT();return L.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:f,body:g}=dx(i,e);if(o.navigate===!1){let _=o.fetcherKey||Lx();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Mx(n,{relative:e}={}){let{basename:t}=L.useContext(Xr),i=L.useContext(Pr);Qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Dl(n||".",{relative:e})},c=co();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(T=>T).forEach(T=>h.append("index",T));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Hr([t,a.pathname])),_s(a)}function Vx(n,e={}){let t=L.useContext(Wf);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p0("useViewTransitionState"),o=Dl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Rr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Rr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ec(o.pathname,c)!=null||Ec(o.pathname,a)!=null}new TextEncoder;var jx=Hv();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fx(n){return L.createElement(ZT,{flushSync:jx.flushSync,...n})}var m0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ty=it.createContext&&it.createContext(m0),Ux=["attr","size","title"];function zx(n,e){if(n==null)return{};var t=Bx(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Bx(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function xc(){return xc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xc.apply(this,arguments)}function xy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Ic(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xy(Object(t),!0).forEach(function(i){$x(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $x(n,e,t){return e=Hx(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hx(n){var e=Wx(n,"string");return typeof e=="symbol"?e:e+""}function Wx(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function g0(n){return n&&n.map((e,t)=>it.createElement(e.tag,Ic({key:t},e.attr),g0(e.child)))}function Nt(n){return e=>it.createElement(qx,xc({attr:Ic({},n.attr)},e),g0(n.child))}function qx(n){var e=t=>{var{attr:i,size:o,title:a}=n,c=zx(n,Ux),h=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),it.createElement("svg",xc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:f,style:Ic(Ic({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&it.createElement("title",null,a),n.children)};return Ty!==void 0?it.createElement(Ty.Consumer,null,t=>e(t)):e(m0)}function Kx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function Iy(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function Gx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.707 2.293l9 9c.63 .63 .184 1.707 -.707 1.707h-1v6a3 3 0 0 1 -3 3h-1v-7a3 3 0 0 0 -2.824 -2.995l-.176 -.005h-2a3 3 0 0 0 -3 3v7h-1a3 3 0 0 1 -3 -3v-6h-1c-.89 0 -1.337 -1.077 -.707 -1.707l9 -9a1 1 0 0 1 1.414 0m.293 11.707a1 1 0 0 1 1 1v7h-4v-7a1 1 0 0 1 .883 -.993l.117 -.007z"},child:[]}]})(n)}function Qx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z"},child:[]}]})(n)}function Xh(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function Yx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"},child:[]}]})(n)}function Xx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function Jx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"},child:[]}]})(n)}function Zx(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function eI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L389.6 269.3C433.8 244.7 464 198.1 464 144 464 64.5 399.5 0 320 0c-67.1 0-123 46.1-139 108.2L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM198.4 320C124.2 320 64 380.2 64 454.4v9.6c0 26.5 21.5 48 48 48h382.2L245.8 320h-47.4z"},child:[]}]})(n)}function tI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function nI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}function rI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h2v12H4zm10.293-.707L7.586 12l6.707 6.707 1.414-1.414L11.414 13H20v-2h-8.586l4.293-4.293z"},child:[]}]})(n)}function iI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 6h2v12h-2zM4 13h8.586l-4.293 4.293 1.414 1.414L16.414 12 9.707 5.293 8.293 6.707 12.586 11H4z"},child:[]}]})(n)}function y0(n){return Nt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm13 0c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4z"},child:[]}]})(n)}function sI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function oI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(n)}function aI(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(n)}function v0(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 128l128 128-128 128z"},child:[]}]})(n)}function Sy(n){return Nt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(n)}var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},lI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,g=f?n[o+2]:0,_=a>>2,T=(a&3)<<4|h>>4;let I=(h&15)<<2|g>>6,C=g&63;f||(C=64,c||(I=64)),i.push(t[_],t[T],t[I],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||g==null||T==null)throw new uI;const I=a<<2|h>>4;if(i.push(I),g!==64){const C=h<<4&240|g>>2;if(i.push(C),T!==64){const O=g<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(n){const e=_0(n);return w0.encodeByteArray(e,!0)},Sc=function(n){return cI(n).replace(/\./g,"")},E0=function(n){try{return w0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>dI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof Ry>"u")return;const n=Ry.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&E0(n[1]);return e&&JSON.parse(e)},Xc=()=>{try{return hI()||fI()||pI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T0=n=>{var e,t;return(t=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mI=n=>{const e=T0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},x0=()=>{var n;return(n=Xc())===null||n===void 0?void 0:n.config},I0=n=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sc(JSON.stringify(t)),Sc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function _I(){var n;const e=(n=Xc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function II(){return!_I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SI(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class Ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=CI,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?PI(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ai(o,h,i)}}function PI(n,e){return n.replace(AI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const AI=/\{\$([^}]+)}/g;function kI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Cy(a)&&Cy(c)){if(!Rc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Cy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bI(n,e){const t=new NI(n,e);return t.subscribe.bind(t)}class NI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Jh),o.error===void 0&&(o.error=Jh),o.complete===void 0&&(o.complete=Jh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new gI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MI(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(n){return n===Ys?void 0:n}function MI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const jI={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},FI=He.INFO,UI={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},zI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=UI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=zI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const BI=(n,e)=>e.some(t=>n instanceof t);let Py,Ay;function $I(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HI(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,yf=new WeakMap,R0=new WeakMap,Zh=new WeakMap,Jf=new WeakMap;function WI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(ms(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&S0.set(t,n)}).catch(()=>{}),Jf.set(e,n),e}function qI(n){if(yf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});yf.set(n,e)}let vf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KI(n){vf=n(vf)}function GI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ef(this),e,...t);return R0.set(i,e.sort?e.sort():[e]),ms(i)}:HI().includes(n)?function(...e){return n.apply(ef(this),e),ms(S0.get(this))}:function(...e){return ms(n.apply(ef(this),e))}}function QI(n){return typeof n=="function"?GI(n):(n instanceof IDBTransaction&&qI(n),BI(n,$I())?new Proxy(n,vf):n)}function ms(n){if(n instanceof IDBRequest)return WI(n);if(Zh.has(n))return Zh.get(n);const e=QI(n);return e!==n&&(Zh.set(n,e),Jf.set(e,n)),e}const ef=n=>Jf.get(n);function YI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=ms(c);return i&&c.addEventListener("upgradeneeded",f=>{i(ms(c.result),f.oldVersion,f.newVersion,ms(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const XI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],tf=new Map;function ky(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=JI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||XI.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&f.done]))[0]};return tf.set(e,a),a}KI(n=>({...n,get:(e,t,i)=>ky(e,t)||n.get(e,t,i),has:(e,t)=>!!ky(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function eS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _f="@firebase/app",by="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Xf("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",oS="@firebase/auth",aS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",dS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",pS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",yS="@firebase/performance",vS="@firebase/performance-compat",_S="@firebase/remote-config",wS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",xS="@firebase/firestore",IS="@firebase/vertexai",SS="@firebase/firestore-compat",RS="firebase",CS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",PS={[_f]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[oS]:"fire-auth",[aS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[dS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[pS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[yS]:"fire-perf",[vS]:"fire-perf-compat",[_S]:"fire-rc",[wS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[xS]:"fire-fst",[SS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,AS=new Map,Ef=new Map;function Ny(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){const e=n.name;if(Ef.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,n);for(const t of Cc.values())Ny(t,n);for(const t of AS.values())Ny(t,n);return!0}function Zf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $r(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Ll("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=CS;function Jc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(t||(t=x0()),!t)throw gs.create("no-options");const a=Cc.get(o);if(a){if(Rc(t,a.options)&&Rc(i,a.config))return a;throw gs.create("duplicate-app",{appName:o})}const c=new VI(o);for(const f of Ef.values())c.addComponent(f);const h=new bS(t,i,c);return Cc.set(o,h),h}function C0(n=wf){const e=Cc.get(n);if(!e&&n===wf&&x0())return Jc();if(!e)throw gs.create("no-app",{appName:n});return e}function ys(n,e,t){var i;let o=(i=PS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(h.join(" "));return}la(new io(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebase-heartbeat-database",DS=1,El="firebase-heartbeat-store";let nf=null;function P0(){return nf||(nf=YI(NS,DS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(El)}catch(t){console.warn(t)}}}}).catch(n=>{throw gs.create("idb-open",{originalErrorMessage:n.message})})),nf}async function LS(n){try{const t=(await P0()).transaction(El),i=await t.objectStore(El).get(A0(n));return await t.done,i}catch(e){if(e instanceof Ai)Ii.warn(e.message);else{const t=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function Dy(n,e){try{const i=(await P0()).transaction(El,"readwrite");await i.objectStore(El).put(e,A0(n)),await i.done}catch(t){if(t instanceof Ai)Ii.warn(t.message);else{const i=gs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function A0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,MS=30*24*60*60*1e3;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ly();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=MS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ly(),{heartbeatsToSend:i,unsentEntries:o}=jS(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ii.warn(t),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function jS(n,e=OS){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Oy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Oy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class FS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SI()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Oy(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){la(new io("platform-logger",e=>new ZI(e),"PRIVATE")),la(new io("heartbeat",e=>new VS(e),"PRIVATE")),ys(_f,by,n),ys(_f,by,"esm2017"),ys("fire-js","")}US("");var zS="firebase",BS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(zS,BS,"app");const Sr=(n,e)=>{switch(n){case"error":dt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":dt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}};function ep(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $S=k0,b0=new Ll("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Xf("@firebase/auth");function HS(n,...e){Pc.logLevel<=He.WARN&&Pc.warn(`Auth (${va}): ${n}`,...e)}function cc(n,...e){Pc.logLevel<=He.ERROR&&Pc.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,...e){throw tp(n,...e)}function Wr(n,...e){return tp(n,...e)}function N0(n,e,t){const i=Object.assign(Object.assign({},$S()),{[e]:t});return new Ll("auth","Firebase",i).create(e,{appName:n.name})}function wi(n){return N0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return b0.create(n,...e)}function be(n,e,...t){if(!n)throw tp(e,...t)}function yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cc(e),new Error(e)}function Si(n,e){n||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WS(){return My()==="http:"||My()==="https:"}function My(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WS()||EI()||"connection"in navigator)?navigator.onLine:!0}function KS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=vI()||TI()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Ml(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ki(n,e,t,i,o={}){return L0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Ol(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:f},a);return wI()||(g.referrerPolicy="no-referrer"),D0.fetch()(O0(n,n.config.apiHost,t,h),g)})}async function L0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},GS),e);try{const o=new XS(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw tc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw tc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw tc(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw N0(n,_,g);Cr(n,_)}}catch(o){if(o instanceof Ai)throw o;Cr(n,"network-request-failed",{message:String(o)})}}async function Vl(n,e,t,i,o={}){const a=await ki(n,e,t,i,o);return"mfaPendingCredential"in a&&Cr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function O0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?np(n.config,o):`${n.config.apiScheme}://${o}`}function YS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),QS.get())})}}function tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Wr(n,e,i);return o.customData._tokenResponse=t,o}function Vy(n){return n!==void 0&&n.enterprise!==void 0}class JS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZS(n,e){return ki(n,"GET","/v2/recaptchaConfig",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n,e){return ki(n,"POST","/v1/accounts:delete",e)}async function M0(n,e){return ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tR(n,e=!1){const t=Mn(n),i=await t.getIdToken(e),o=rp(i);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:fl(rf(o.auth_time)),issuedAtTime:fl(rf(o.iat)),expirationTime:fl(rf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rf(n){return Number(n)*1e3}function rp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(t);return o?JSON.parse(o):(cc("Failed to decode base64 JWT payload"),null)}catch(o){return cc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jy(n){const e=rp(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ai&&nR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function nR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ua(n,M0(t,{idToken:i}));be(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?V0(a.providerUserInfo):[],h=sR(n.providerData,c),f=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?g:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new xf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function iR(n){const e=Mn(n);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function V0(n){return n.map(e=>{var{providerId:t}=e,i=ep(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e){const t=await L0(n,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=O0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",D0.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aR(n,e){return ki(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=jy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await oR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ia;return i&&(be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(be(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ua(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ac(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await ua(this,eR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,g,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(h=t.tenantId)!==null&&h!==void 0?h:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(g=t.createdAt)!==null&&g!==void 0?g:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:te,isAnonymous:F,providerData:oe,stsTokenManager:P}=t;be(Q&&P,e,"internal-error");const x=ia.fromJSON(this.name,P);be(typeof Q=="string",e,"internal-error"),as(T,e.name),as(I,e.name),be(typeof te=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),as(C,e.name),as(O,e.name),as(z,e.name),as(N,e.name),as(D,e.name),as(K,e.name);const R=new vi({uid:Q,auth:e,email:I,emailVerified:te,displayName:T,isAnonymous:F,photoURL:O,phoneNumber:C,tenantId:z,stsTokenManager:x,createdAt:D,lastLoginAt:K});return oe&&Array.isArray(oe)&&(R.providerData=oe.map(b=>Object.assign({},b))),N&&(R._redirectEventId=N),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new ia;o.updateFromServerResponse(t);const a=new vi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ac(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];be(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?V0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new ia;h.updateFromIdToken(i);const f=new vi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function _i(n){Si(n instanceof Function,"Expected a class definition");let e=Fy.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}j0.type="NONE";const Uy=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n,e,t){return`firebase:${n}:${e}:${t}`}class sa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=dc(this.userKey,o.apiKey,a),this.fullPersistenceKey=dc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sa(_i(Uy),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||_i(Uy);const c=dc(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(c);if(_){const T=vi._fromJSON(e,_);g!==a&&(h=T),a=g;break}}catch{}const f=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new sa(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new sa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H0(e))return"Blackberry";if(W0(e))return"Webos";if(U0(e))return"Safari";if((e.includes("chrome/")||z0(e))&&!e.includes("edge/"))return"Chrome";if($0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function F0(n=yn()){return/firefox\//i.test(n)}function U0(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z0(n=yn()){return/crios\//i.test(n)}function B0(n=yn()){return/iemobile/i.test(n)}function $0(n=yn()){return/android/i.test(n)}function H0(n=yn()){return/blackberry/i.test(n)}function W0(n=yn()){return/webos/i.test(n)}function ip(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lR(n=yn()){var e;return ip(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uR(){return xI()&&document.documentMode===10}function q0(n=yn()){return ip(n)||$0(n)||W0(n)||H0(n)||/windows phone/i.test(n)||B0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e=[]){let t;switch(n){case"Browser":t=zy(yn());break;case"Worker":t=`${zy(yn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=6;class fR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:hR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await M0(this,{idToken:e}),i=await vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(wi(this));const t=e?Mn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dR(this),t=new fR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await aR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_i(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ho(n){return Mn(n)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mR(n){Zc=n}function G0(n){return Zc.loadJS(n)}function gR(){return Zc.recaptchaEnterpriseScript}function yR(){return Zc.gapiScript}function vR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _R{constructor(){this.enterprise=new wR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ER="recaptcha-enterprise",Q0="NO_RECAPTCHA";class TR{constructor(e){this.type=ER,this.auth=ho(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{ZS(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new JS(f);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;Vy(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(Q0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _R().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&Vy(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gR();f.length!==0&&(f+=h),G0(f).then(()=>{o(h,a,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function $y(n,e,t,i=!1,o=!1){const a=new TR(n);let c;if(o)c=Q0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function If(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $y(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await $y(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,e){const t=Zf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Rc(a,e??{}))return o;Cr(o,"already-initialized")}return t.initialize({options:e})}function IR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(_i);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function SR(n,e,t){const i=ho(n);be(i._canInitEmulator,i,"emulator-config-failed"),be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Y0(e),{host:c,port:h}=RR(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),CR()}function Y0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RR(n){const e=Y0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Hy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Hy(c)}}}function Hy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function PR(n,e){return ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e){return Vl(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function bR(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends sp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Tl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,t,"signInWithPassword",AR);case"emailLink":return kR(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,i,"signUpPassword",PR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e){return Vl(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="http://localhost";class so extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=ep(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new so(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return oa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,oa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oa(e,t)}buildRequest(){const e={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LR(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,i=al(ll(n)).deep_link_id;return(i?al(ll(i)).link:null)||i||t||e||n}class op{constructor(e){var t,i,o,a,c,h;const f=al(ll(e)),g=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,T=DR((o=f.mode)!==null&&o!==void 0?o:null);be(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=LR(e);try{return new op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=op.parseLink(t);return be(i,"argument-error"),Tl._fromEmailAndCode(e,i.code,i.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends jl{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return so._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ds.credential(t,i)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends jl{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends jl{constructor(){super("twitter.com")}static credential(e,t){return so._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return fs.credential(t,i)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e){return Vl(n,"POST","/v1/accounts:signUp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await vi._fromIdTokenResponse(e,i,o),c=Wy(i);return new oo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Wy(i);return new oo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Wy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Ai{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new kc(e,t,i,o)}}function J0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(n,a,e,i):a})}async function MR(n,e,t=!1){const i=await ua(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return oo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e,t=!1){const{auth:i}=n;if($r(i.app))return Promise.reject(wi(i));const o="reauthenticate";try{const a=await ua(n,J0(i,o,e,n),t);be(a.idToken,i,"internal-error");const c=rp(a.idToken);be(c,i,"internal-error");const{sub:h}=c;return be(n.uid===h,i,"user-mismatch"),oo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(n,e,t=!1){if($r(n.app))return Promise.reject(wi(n));const i="signIn",o=await J0(n,i,e),a=await oo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function jR(n,e){return Z0(ho(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(n){const e=ho(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FR(n,e,t){if($r(n.app))return Promise.reject(wi(n));const i=ho(n),c=await If(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&e_(n),f}),h=await oo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function UR(n,e,t){return $r(n.app)?Promise.reject(wi(n)):jR(Mn(n),_a.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&e_(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e){return ki(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Mn(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await ua(i,zR(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function $R(n,e,t,i){return Mn(n).onIdTokenChanged(e,t,i)}function HR(n,e,t){return Mn(n).beforeAuthStateChanged(e,t)}function t_(n,e,t,i){return Mn(n).onAuthStateChanged(e,t,i)}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1e3,qR=10;class r_ extends n_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);uR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}r_.type="LOCAL";const KR=r_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends n_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i_.type="SESSION";const s_=i_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async g=>g(t.origin,a)),f=await GR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const g=ap("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function YR(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function XR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZR(){return o_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="firebaseLocalStorageDb",eC=1,Nc="firebaseLocalStorage",l_="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function td(n,e){return n.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function tC(){const n=indexedDB.deleteDatabase(a_);return new Fl(n).toPromise()}function Sf(){const n=indexedDB.open(a_,eC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Nc,{keyPath:l_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Nc)?e(i):(i.close(),await tC(),e(await Sf()))})})}async function qy(n,e,t){const i=td(n,!0).put({[l_]:e,value:t});return new Fl(i).toPromise()}async function nC(n,e){const t=td(n,!1).get(e),i=await new Fl(t).toPromise();return i===void 0?null:i.value}function Ky(n,e){const t=td(n,!0).delete(e);return new Fl(t).toPromise()}const rC=800,iC=3;class u_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>iC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(ZR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XR(),!this.activeServiceWorker)return;this.sender=new QR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sf();return await qy(e,bc,"1"),await Ky(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ky(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=td(o,!1).getAll();return new Fl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u_.type="LOCAL";const sC=u_;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n,e){return e?_i(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aC(n){return Z0(n.auth,new lp(n),n.bypassAuthState)}function lC(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),VR(t,new lp(n),n.bypassAuthState)}async function uC(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),MR(t,new lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return uC;case"reauthViaPopup":case"reauthViaRedirect":return lC;default:Cr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Ml(2e3,1e4);class ra extends c_{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cC.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="pendingRedirect",hc=new Map;class hC extends c_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const i=await fC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(n,e){const t=gC(e),i=mC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function pC(n,e){hc.set(n._key(),e)}function mC(n){return _i(n._redirectPersistence)}function gC(n){return dc(dC,n.config.apiKey,n.name)}async function yC(n,e,t=!1){if($r(n.app))return Promise.reject(wi(n));const i=ho(n),o=oC(i,e),c=await new hC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=10*60*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!d_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(e))}saveEventToCache(e){this.cachedEventUids.add(Gy(e)),this.lastProcessedEventTime=Date.now()}}function Gy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function d_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e={}){return ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function IC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EC(n);for(const t of e)try{if(SC(t))return}catch{}Cr(n,"unauthorized-domain")}function SC(n){const e=Tf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!xC.test(t))return!1;if(TC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Ml(3e4,6e4);function Qy(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CC(n){return new Promise((e,t)=>{var i,o,a;function c(){Qy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qy(),t(Wr(n,"network-request-failed"))},timeout:RC.get()})}if(!((o=(i=qr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=qr().gapi)===null||a===void 0)&&a.load)c();else{const h=vR("iframefcb");return qr()[h]=()=>{gapi.load?c():t(Wr(n,"network-request-failed"))},G0(`${yR()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw fc=null,e})}let fc=null;function PC(n){return fc=fc||CC(n),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Ml(5e3,15e3),kC="__/auth/iframe",bC="emulator/auth/iframe",NC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?np(e,bC):`https://${n.config.authDomain}/${kC}`,i={apiKey:e.apiKey,appName:n.name,v:va},o=DC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ol(i).slice(1)}`}async function OC(n){const e=await PC(n),t=qr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:LC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Wr(n,"network-request-failed"),h=qr().setTimeout(()=>{a(c)},AC.get());function f(){qr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VC=500,jC=600,FC="_blank",UC="http://localhost";class Yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(n,e,t,i=VC,o=jC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},MC),{width:i.toString(),height:o.toString(),top:a,left:c}),g=yn().toLowerCase();t&&(h=z0(g)?FC:t),F0(g)&&(e=e||UC,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[C,O])=>`${I}${C}=${O},`,"");if(lR(g)&&h!=="_self")return BC(e||"",h),new Yy(null);const T=window.open(e||"",h,_);be(T,n,"popup-blocked");try{T.focus()}catch{}return new Yy(T)}function BC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",HC="emulator/auth/handler",WC=encodeURIComponent("fac");async function Xy(n,e,t,i,o,a){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:va,eventId:o};if(e instanceof X0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof jl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${WC}=${encodeURIComponent(f)}`:"";return`${qC(n)}?${Ol(h).slice(1)}${g}`}function qC({config:n}){return n.emulator?np(n,HC):`https://${n.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="webStorageSupport";class KC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s_,this._completeRedirectFn=yC,this._overrideRedirectResult=pC}async _openPopup(e,t,i,o){var a;Si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Xy(e,t,i,Tf(),o);return zC(e,c,ap())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Xy(e,t,i,Tf(),o);return YR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await OC(e),i=new _C(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sf,{type:sf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[sf];c!==void 0&&t(!!c),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q0()||U0()||ip()}}const GC=KC;var Jy="@firebase/auth",Zy="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(n){la(new io("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(n)},g=new pR(i,o,a,f);return IR(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),la(new io("auth-internal",e=>{const t=ho(e.getProvider("auth").getImmediate());return(i=>new QC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(Jy,Zy,YC(n)),ys(Jy,Zy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=5*60,ZC=I0("authIdTokenMaxAge")||JC;let ev=null;const e2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ZC)return;const o=t==null?void 0:t.token;ev!==o&&(ev=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function h_(n=C0()){const e=Zf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xR(n,{popupRedirectResolver:GC,persistence:[sC,KR,s_]}),i=I0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=e2(a.toString());HR(t,c,()=>c(t.currentUser)),$R(t,h=>c(h))}}const o=T0("auth");return o&&SR(t,`http://${o}`),t}function t2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Wr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",t2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");const f_={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},n2=Jc(f_),ws=h_(n2),r2=async(n,e,t,i)=>{const o=Jc(f_),a=h_(o);UR(a,n,e).then(()=>{Sr("success","Inicio de sesión exitoso."),t(!1),setTimeout(()=>{i("/")},1500)}).catch(c=>{const h=c.message;return t(!1),Sr("error",h),!1})},i2=async n=>{ws.signOut().then(function(){console.log("Usuario ha cerrado sesión"),Sr("success","Sesión cerrada exitosamente."),setTimeout(()=>{n("/")},1500)}).catch(function(e){console.error("Error al cerrar sesión",e),Sr("error",e)})},s2=async(n,e,t,i)=>{FR(ws,n,e).then(()=>{t(!1),Sr("success","Registro exitoso, porfavor revise su bandeja de entrada."),setTimeout(()=>{i("/login")},2e3)}).catch(o=>{const a=o.code,c=o.message;console.log(a),console.log(c),a==="auth/email-already-in-use"?Sr("error","El email indicado ya se encuentra en uso, porfavor use otro."):a==="auth/weak-password"&&Sr("error","La contraseña debe tener más de 6 caracteres."),t(!1)})},p_=async n=>{const e=t_(ws,t=>{n(t||null)});return()=>e()},o2=async(n,e,t)=>{(async()=>t_(ws,o=>{o?(n(o),e(!1),o.photoURL!=null&&t(o.photoURL)):e(!1)}))()},a2=async n=>{ws.currentUser?n(ws.currentUser):n(null)},m_=async(n,e=null,t=null)=>{ws.currentUser!=null&&BR(ws.currentUser,t===null?{displayName:e}:{photoURL:t}).then(()=>{Sr("success","Perfil actualizado."),setTimeout(()=>{n(!1)},1500)}).catch(i=>{console.log(i)})},l2=({state:n})=>{const e={main:"",content:"relative size-ful size-12",line1:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] rotate-45 translate-y-[21px]":"translate-y-[7px] -translate-x-[21px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`,line2:`absolute ${n?"hidden":"translate-y-[19px] -translate-x-[21px]"} w-11/12 h-[5px] bg-rd rounded-full duration-300`,line3:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] -rotate-45 translate-y-[21px]":"translate-y-[32px] -translate-x-[0px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`};return E.jsx("div",{className:e.main,children:E.jsxs("div",{className:e.content,children:[E.jsx("span",{className:e.line1}),E.jsx("span",{className:e.line2}),E.jsx("span",{className:e.line3})]})})},tv=["Acción","Aventura","Fantasía","Isekai","Shonen","Sobrenatural"],u2={name:"Neko-Store",logo:""};console.log(u2);const g_=()=>{const n=ya(),[e,t]=L.useState(null),[i,o]=L.useState(!1),[a,c]=L.useState(!1),h={main:`fixed flex md:hidden top-[9vh] left-0 z-40 w-full h-[91vh] text-white bg-black/50 duration-300 ${i?"-translate-x-[0%]":"-translate-x-[100%]"}`,content:"relative w-[280px] z-20 bg-st-100 h-full flex flex-col gap-4",top:{main:"w-full flex p-2",logoBox:"",logo:""},list:"flex flex-col p-2",item:"flex gap-2 items-center py-1 cursor-pointer",itemIcon:"border-2 bg-st-200 rounded-full border-rd size-10 flex items-center justify-center overflow-hidden text-2xl bg-st/75",itemName:"",userPhoto:"size-full object-cover",header:{main:"w-full max-w-[1024px] h-[9vh] flex items-center text-white bg-st-200/75 md:bg-st-200 px-[15px]",menuBtn:"w-14 h-full flex items-center justify-center duration-300 ",userBtn:"size-8 border-2 self-center flex items-center justify-center rounded-full overflow-hidden",defaultIcon:"text-5xl text-[#ededed]",userImg:"size-full object-cover",categoriesBtnMain:"flex items-center gap-2 w-[90%]",categoriesBtnText:"flex w-[80%] justify-between",searchForm:"bg-st-200 relative flex items-center px-2 mb-4 w-full rounded-full",searchInput:"bg-transparent text-lg p-1 pr-4 outline-none",searchIcon:"absolute right-2 text-xl",categoriesBtnIcon:`${a?"-rotate-90":"rotate-90"} text-2xl duration-300`,categoriesList:`scroll ${a?"flex flex-col":"hidden"} pl-6 overflow-auto max-h-32`,categoriesItem:"flex py-1 w-full h-full"},headerPc:{main:"hidden size-full md:flex justify-between items-center",optionsBoxMain:"h-full flex gap-4 items-center",optionsBox:"relative flex h-full group",title:"z-20 w-28 bg-st-200 hover:text-rd font-bold duration-300",optionsList:"absolute gap-1 left-2 -translate-y-[150%] group-hover:translate-y-0 z-0 flex flex-col top-[100%] bg-st-200 pt-0 pb-2 rounded-b overflow-hidden duration-300 ",items:"p-2 bg-st-200 hover:text-rd hover:text-rd font-bold duration-300",searchForm:"relative rounded-full bg-white pl-2 pr-6",searchInput:"w-32 focus:w-60 duration-300 outline-none py-[1px] truncate bg-transparent text-black",searchIcon:"absolute text-black right-1 top-[5px]"}},f=[{name:"Inicio",url:"/",icon:E.jsx(Gx,{})},{name:"Categorías",url:"",icon:E.jsx(y0,{})},{name:e===null?"Iniciar sesión":"Perfil de usuario",url:e===null?"/login":"/edit-profile",icon:e===null?E.jsx(Xh,{}):E.jsx(nI,{})}];function g(_){_.preventDefault();const I=new FormData(_.currentTarget).get("search");n(`/search/${I}`),c(!1),o(!1)}return L.useEffect(()=>{p_(t)},[e,i]),L.useEffect(()=>{const _=setInterval(()=>{a2(t)},6e5);return()=>clearInterval(_)},[]),E.jsxs("div",{className:"fixed z-50 top-0 left-0 flex flex-col w-full bg-st-200/75 md:bg-st-200",children:[E.jsxs("header",{className:h.header.main,children:[E.jsxs("div",{className:"w-full flex md:hidden justify-between",children:[E.jsx("button",{className:h.header.menuBtn,onClick:()=>o(!i),children:E.jsx(l2,{state:i})}),E.jsx("span",{className:`${h.header.userBtn} ${(e==null?void 0:e.photoURL)!==null&&" border-rd"}`,children:e===null?E.jsx(Xh,{className:h.header.defaultIcon}):e.photoURL===null?E.jsx(Xh,{className:h.header.defaultIcon}):E.jsx(gn,{to:"/edit-profile",children:E.jsx("img",{className:h.header.userImg,src:e.photoURL,alt:e.displayName+"-photo"})})})]}),E.jsxs("div",{className:h.headerPc.main,children:[E.jsxs("span",{className:h.headerPc.optionsBoxMain,children:[E.jsx(gn,{to:"/",className:"font-bold",children:"Inicio"}),E.jsxs("div",{className:h.headerPc.optionsBox,children:[E.jsx("button",{className:h.headerPc.title,children:"Categorias"}),E.jsx("ul",{className:h.headerPc.optionsList,children:tv.map((_,T)=>E.jsx("li",{children:E.jsx(gn,{to:`/search/${_}`,className:h.headerPc.items,children:_})},T))})]})]}),E.jsxs(ro,{className:h.headerPc.searchForm,onSubmit:_=>g(_),children:[E.jsx("input",{className:h.headerPc.searchInput,type:"text",placeholder:"Buscar...",name:"search"}),E.jsx("button",{className:h.headerPc.searchIcon,type:"submit",children:E.jsx(Iy,{})})]})]})]}),E.jsx("div",{className:h.main,children:E.jsx("div",{className:h.content,children:E.jsxs("ul",{className:h.list,children:[E.jsxs(ro,{className:h.header.searchForm,onSubmit:_=>g(_),children:[E.jsx("input",{type:"text",placeholder:"Buscar...",className:h.header.searchInput,name:"search"}),E.jsx("button",{className:h.header.searchIcon,type:"submit",children:E.jsx(Iy,{})})]}),f.map((_,T)=>E.jsx("li",{children:_.name==="Categorías"?E.jsxs("div",{children:[E.jsxs("button",{className:h.header.categoriesBtnMain,onClick:()=>c(!a),children:[E.jsx("span",{className:h.itemIcon,children:_.icon}),E.jsxs("span",{className:h.header.categoriesBtnText,children:[E.jsx("h2",{children:_.name}),E.jsx(v0,{className:h.header.categoriesBtnIcon})]})]}),E.jsx("ul",{className:h.header.categoriesList,children:tv.map((I,C)=>E.jsx("li",{children:E.jsx(gn,{to:`/search/${I}`,className:h.header.categoriesItem,children:I})},C))})]}):E.jsxs(gn,{className:h.item,to:_.url,onClick:()=>o(!1),children:[E.jsx("span",{className:h.itemIcon,children:_.name==="Perfil de usuario"&&e!==null&&e.photoURL!==null?E.jsx("img",{className:h.userPhoto,src:e.photoURL,alt:"user-profile-photo"}):_.icon}),E.jsx("h2",{className:h.itemName,children:_.name})]})},T)),e!=null&&E.jsxs("li",{className:h.item,onClick:()=>{i2(n),o(!1)},children:[E.jsx("span",{className:h.itemIcon,children:E.jsx(eI,{})}),E.jsx("h2",{className:h.itemName,children:"Cerrar sesión"})]})]})})})]})};function c2(){return E.jsxs("div",{className:"relative font-roboto",children:[E.jsx(g_,{}),E.jsx(nx,{}),E.jsx(VE,{})]})}const pl=({type:n,name:e,title:t})=>{const[i,o]=L.useState(!1),[a,c]=L.useState(!0),h=g=>{g.target.value.length>=1?(c(!1),o(!0)):c(!0)};let f={main:"size-auto flex",content:"w-full flex items-end relative min-h-16  ",input:"relative bg-transparent z-10 border-b-2 w-full max-w-full text-xl sm:text-base outline-none py-2 sm:py-0 px-1 truncate text-gray-400 focus:border-rd focus:border-b-[2px] focus:text-white",title:`absolute z-0 left-6 text-xl sm:text-base font-bold duration-300 ${i?"text-rd":"text-white"} `,iconBox:"absolute z-10 -left-1 p-1 duration-300 ",icon:` ${i?"text-rd":"text-white"} text-xl sm:text-lg duration-300`,underText:"absolute -bottom-6 text-sm sm:text-[12px] text-gray-400"};return a==!1||i?(f.title+="-translate-y-12 sm:-translate-y-8",f.iconBox+="-translate-y-12 sm:-translate-y-8"):(f.title+="-translate-y-1",f.iconBox+="-translate-y-1"),E.jsx("div",{className:f.main,children:E.jsxs("div",{className:f.content,children:[E.jsx("label",{htmlFor:e,className:f.title,children:t}),E.jsx("input",{className:f.input,id:e,type:n,name:e,onChange:g=>h(g),onFocus:()=>o(!0),onBlur:()=>o(!1),required:!0}),E.jsx("span",{className:f.iconBox,children:n==="email"?E.jsx(aI,{className:f.icon}):n==="password"?E.jsx(Yx,{className:f.icon}):E.jsx(tI,{className:f.icon})}),n==="password"?E.jsxs("h5",{className:f.underText,children:[n==="password"&&e!="re-password"?"Debe tener al menos 6 caracteres.":"",n==="password"&&e==="re-password"?"Repite la contraseña":""]}):""]})})};var d2={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function y_(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return d2[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function nv(n){var e=y_(n);return"".concat(e.value).concat(e.unit)}var v_=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,c=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(c,0),i},Dc=function(){return Dc=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Dc.apply(this,arguments)},h2=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},f2=v_("DotLoader","100% {transform: rotate(360deg)}","rotate"),p2=v_("DotLoader","0%, 100% {transform: scale(0)} 50% {transform: scale(1.0)}","bounce");function Cs(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,o=i===void 0?"#000000":i,a=n.speedMultiplier,c=a===void 0?1:a,h=n.cssOverride,f=h===void 0?{}:h,g=n.size,_=g===void 0?60:g,T=h2(n,["loading","color","speedMultiplier","cssOverride","size"]),I=Dc({display:"inherit",position:"relative",width:nv(_),height:nv(_),animationFillMode:"forwards",animation:"".concat(f2," ").concat(2/c,"s 0s infinite linear")},f),C=function(O){var z=y_(_),N=z.value,D=z.unit;return{position:"absolute",top:O%2?"0":"auto",bottom:O%2?"auto":"0",height:"".concat(N/2).concat(D),width:"".concat(N/2).concat(D),backgroundColor:o,borderRadius:"100%",animationFillMode:"forwards",animation:"".concat(p2," ").concat(2/c,"s ").concat(O===2?"1s":"0s"," infinite linear")}};return t?L.createElement("span",Dc({style:I},T),L.createElement("span",{style:C(1)}),L.createElement("span",{style:C(2)})):null}const m2={display:"block",margin:"0 auto",borderColor:"red"},g2=()=>{const n=ya(),[e,t]=L.useState(!1),i={main:"flex flex-col items-center justify-center",content:"flex flex-col bg-st-200 rounded p-2 gap-6 min-h-96 min-w-72",formMain:"flex flex-col gap-6 justify-start p-4",formBtn:"rounded text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"",link:"text-rd underline hover:font-bold hover:text-lg duration-300"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function a(c){c.preventDefault();const h=new FormData(c.currentTarget),f=h.get("mail")||"",g=h.get("password")||"";g!=null&&(g.length<5?Sr("error","La contraseña debe tener más de 4 carácteres."):r2(f,g,t,n))}return E.jsxs("section",{className:i.main,children:[E.jsxs("div",{className:i.content,children:[E.jsxs(ro,{className:i.formMain,onSubmit:c=>{t(!0),a(c)},autoComplete:"off",children:[E.jsx(pl,{name:"mail",type:"email",title:"Email"}),E.jsx(pl,{name:"password",type:"password",title:"Contraseña"}),E.jsx("button",{type:"submit",className:i.formBtn,children:"Iniciar sesion"})]}),E.jsxs("div",{className:i.bottomBox.main,children:[E.jsx("p",{className:i.bottomBox.txt,children:"¿Aún no tienes cuenta?"}),E.jsx(gn,{className:i.bottomBox.link,to:"/register",children:"registrate"})]})]}),E.jsx("div",{className:i.spinner,children:E.jsx(Cs,{color:o.color,loading:e,cssOverride:m2,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},y2=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center bg-st-100"};return E.jsx("div",{className:n.main,children:E.jsx("div",{className:n.content,children:E.jsx(g2,{})})})},v2={display:"block",margin:"0 auto",borderColor:"red"},_2=()=>{const[n,e]=L.useState(!1),t=ya(),i={main:"size-full flex flex-col items-center justify-center ",content:"w-full max-w-[340px] flex flex-col bg-st-200 rounded p-2",title:"text-lg text-center text-white font-bold mt-5 sm:mt-2 sm:pb-2",formMain:"flex flex-col gap-8 sm:gap-4 justify-start p-4 sm:px-4 sm:pt-0",formBtn:"rounded h-[55px] text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"flex gap-2",link:"text-rd font-bold underline"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function a(c){e(!0);const h=new FormData(c.currentTarget),f=h.get("mail")||"",g=h.get("password")||"",_=h.get("re-password")||"";if(g!=null&&g.length<5){e(!1),Sr("error","La contraseña debe tener más de 4 carácteres.");return}if(_!=g){e(!1),Sr("error","Las contraseñas deben ser iguales");return}s2(f,g,e,t)}return E.jsxs("section",{className:i.main,children:[E.jsxs("div",{className:i.content,children:[E.jsx("h1",{className:i.title,children:"REGISTRO DE USUARIO"}),E.jsx("hr",{className:"w-[30%] h-[1px] bg-white self-center my-3 sm:my-0"}),E.jsxs(ro,{className:i.formMain,onSubmit:c=>a(c),autoComplete:"off",children:[E.jsx(pl,{name:"mail",type:"email",title:"Email"}),E.jsx(pl,{name:"password",type:"password",title:"Contraseña"}),E.jsx(pl,{name:"re-password",type:"password",title:"Repite la contraseña"}),E.jsx("button",{type:"submit",className:i.formBtn,children:"Registrarse"})]}),E.jsx("div",{className:i.bottomBox.main,children:E.jsxs("p",{className:i.bottomBox.txt,children:["¿ Ya tienes cuenta ?",E.jsx(gn,{className:i.bottomBox.link,to:"/login",children:"Inicia sesión"})]})})]}),E.jsx("div",{className:i.spinner,children:E.jsx(Cs,{color:o.color,loading:n,cssOverride:v2,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},w2=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center p-8 bg-st-100"};return E.jsxs("div",{className:n.main,children:[E.jsx("div",{className:n.content,children:E.jsx(_2,{})}),E.jsx(g_,{})]})},E2=({name:n,image:e})=>{const t={main:"flex size-full group",content:"relative rounded p-2 flex size-full items-end justify-center shadow-[0px_0px_10px_0px] shadow-transparent group-hover:shadow-rd",imageBox:"absolute left-0 top-0 z-0 size-full rounded overflow-hidden ",image:"size-full object-cover rounded",title:"font-bold z-10 group-hover:text-rd group-hover:underline text-white text-center"};return E.jsx("div",{className:t.main,children:E.jsxs(gn,{to:`/details/${n}`,className:t.content,children:[E.jsx("picture",{className:t.imageBox,children:E.jsx("img",{className:t.image,src:e,alt:"",loading:"lazy",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}})}),E.jsx("h1",{className:t.title,children:n})]})})},T2=({data:n})=>{const e={main:"flex w-full justify-center font-roboto",list:"w-full max-w-[1024px] grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-x-4",items:"w-full h-[320px]"};return E.jsx("div",{className:e.main,children:E.jsx("ul",{className:e.list,children:n.map((t,i)=>E.jsx("li",{className:e.items,children:E.jsx(E2,{name:t.name,image:t.images[0]})},i))})})};var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,__;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function R(){}R.prototype=x.prototype,P.D=x.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(b,j,B){for(var k=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)k[ht-2]=arguments[ht];return x.prototype[j].apply(b,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,R){R||(R=0);var b=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)b[j]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(j=0;16>j;++j)b[j]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=P.g[0],R=P.g[1],j=P.g[2];var B=P.g[3],k=x+(B^R&(j^B))+b[0]+3614090360&4294967295;x=R+(k<<7&4294967295|k>>>25),k=B+(j^x&(R^j))+b[1]+3905402710&4294967295,B=x+(k<<12&4294967295|k>>>20),k=j+(R^B&(x^R))+b[2]+606105819&4294967295,j=B+(k<<17&4294967295|k>>>15),k=R+(x^j&(B^x))+b[3]+3250441966&4294967295,R=j+(k<<22&4294967295|k>>>10),k=x+(B^R&(j^B))+b[4]+4118548399&4294967295,x=R+(k<<7&4294967295|k>>>25),k=B+(j^x&(R^j))+b[5]+1200080426&4294967295,B=x+(k<<12&4294967295|k>>>20),k=j+(R^B&(x^R))+b[6]+2821735955&4294967295,j=B+(k<<17&4294967295|k>>>15),k=R+(x^j&(B^x))+b[7]+4249261313&4294967295,R=j+(k<<22&4294967295|k>>>10),k=x+(B^R&(j^B))+b[8]+1770035416&4294967295,x=R+(k<<7&4294967295|k>>>25),k=B+(j^x&(R^j))+b[9]+2336552879&4294967295,B=x+(k<<12&4294967295|k>>>20),k=j+(R^B&(x^R))+b[10]+4294925233&4294967295,j=B+(k<<17&4294967295|k>>>15),k=R+(x^j&(B^x))+b[11]+2304563134&4294967295,R=j+(k<<22&4294967295|k>>>10),k=x+(B^R&(j^B))+b[12]+1804603682&4294967295,x=R+(k<<7&4294967295|k>>>25),k=B+(j^x&(R^j))+b[13]+4254626195&4294967295,B=x+(k<<12&4294967295|k>>>20),k=j+(R^B&(x^R))+b[14]+2792965006&4294967295,j=B+(k<<17&4294967295|k>>>15),k=R+(x^j&(B^x))+b[15]+1236535329&4294967295,R=j+(k<<22&4294967295|k>>>10),k=x+(j^B&(R^j))+b[1]+4129170786&4294967295,x=R+(k<<5&4294967295|k>>>27),k=B+(R^j&(x^R))+b[6]+3225465664&4294967295,B=x+(k<<9&4294967295|k>>>23),k=j+(x^R&(B^x))+b[11]+643717713&4294967295,j=B+(k<<14&4294967295|k>>>18),k=R+(B^x&(j^B))+b[0]+3921069994&4294967295,R=j+(k<<20&4294967295|k>>>12),k=x+(j^B&(R^j))+b[5]+3593408605&4294967295,x=R+(k<<5&4294967295|k>>>27),k=B+(R^j&(x^R))+b[10]+38016083&4294967295,B=x+(k<<9&4294967295|k>>>23),k=j+(x^R&(B^x))+b[15]+3634488961&4294967295,j=B+(k<<14&4294967295|k>>>18),k=R+(B^x&(j^B))+b[4]+3889429448&4294967295,R=j+(k<<20&4294967295|k>>>12),k=x+(j^B&(R^j))+b[9]+568446438&4294967295,x=R+(k<<5&4294967295|k>>>27),k=B+(R^j&(x^R))+b[14]+3275163606&4294967295,B=x+(k<<9&4294967295|k>>>23),k=j+(x^R&(B^x))+b[3]+4107603335&4294967295,j=B+(k<<14&4294967295|k>>>18),k=R+(B^x&(j^B))+b[8]+1163531501&4294967295,R=j+(k<<20&4294967295|k>>>12),k=x+(j^B&(R^j))+b[13]+2850285829&4294967295,x=R+(k<<5&4294967295|k>>>27),k=B+(R^j&(x^R))+b[2]+4243563512&4294967295,B=x+(k<<9&4294967295|k>>>23),k=j+(x^R&(B^x))+b[7]+1735328473&4294967295,j=B+(k<<14&4294967295|k>>>18),k=R+(B^x&(j^B))+b[12]+2368359562&4294967295,R=j+(k<<20&4294967295|k>>>12),k=x+(R^j^B)+b[5]+4294588738&4294967295,x=R+(k<<4&4294967295|k>>>28),k=B+(x^R^j)+b[8]+2272392833&4294967295,B=x+(k<<11&4294967295|k>>>21),k=j+(B^x^R)+b[11]+1839030562&4294967295,j=B+(k<<16&4294967295|k>>>16),k=R+(j^B^x)+b[14]+4259657740&4294967295,R=j+(k<<23&4294967295|k>>>9),k=x+(R^j^B)+b[1]+2763975236&4294967295,x=R+(k<<4&4294967295|k>>>28),k=B+(x^R^j)+b[4]+1272893353&4294967295,B=x+(k<<11&4294967295|k>>>21),k=j+(B^x^R)+b[7]+4139469664&4294967295,j=B+(k<<16&4294967295|k>>>16),k=R+(j^B^x)+b[10]+3200236656&4294967295,R=j+(k<<23&4294967295|k>>>9),k=x+(R^j^B)+b[13]+681279174&4294967295,x=R+(k<<4&4294967295|k>>>28),k=B+(x^R^j)+b[0]+3936430074&4294967295,B=x+(k<<11&4294967295|k>>>21),k=j+(B^x^R)+b[3]+3572445317&4294967295,j=B+(k<<16&4294967295|k>>>16),k=R+(j^B^x)+b[6]+76029189&4294967295,R=j+(k<<23&4294967295|k>>>9),k=x+(R^j^B)+b[9]+3654602809&4294967295,x=R+(k<<4&4294967295|k>>>28),k=B+(x^R^j)+b[12]+3873151461&4294967295,B=x+(k<<11&4294967295|k>>>21),k=j+(B^x^R)+b[15]+530742520&4294967295,j=B+(k<<16&4294967295|k>>>16),k=R+(j^B^x)+b[2]+3299628645&4294967295,R=j+(k<<23&4294967295|k>>>9),k=x+(j^(R|~B))+b[0]+4096336452&4294967295,x=R+(k<<6&4294967295|k>>>26),k=B+(R^(x|~j))+b[7]+1126891415&4294967295,B=x+(k<<10&4294967295|k>>>22),k=j+(x^(B|~R))+b[14]+2878612391&4294967295,j=B+(k<<15&4294967295|k>>>17),k=R+(B^(j|~x))+b[5]+4237533241&4294967295,R=j+(k<<21&4294967295|k>>>11),k=x+(j^(R|~B))+b[12]+1700485571&4294967295,x=R+(k<<6&4294967295|k>>>26),k=B+(R^(x|~j))+b[3]+2399980690&4294967295,B=x+(k<<10&4294967295|k>>>22),k=j+(x^(B|~R))+b[10]+4293915773&4294967295,j=B+(k<<15&4294967295|k>>>17),k=R+(B^(j|~x))+b[1]+2240044497&4294967295,R=j+(k<<21&4294967295|k>>>11),k=x+(j^(R|~B))+b[8]+1873313359&4294967295,x=R+(k<<6&4294967295|k>>>26),k=B+(R^(x|~j))+b[15]+4264355552&4294967295,B=x+(k<<10&4294967295|k>>>22),k=j+(x^(B|~R))+b[6]+2734768916&4294967295,j=B+(k<<15&4294967295|k>>>17),k=R+(B^(j|~x))+b[13]+1309151649&4294967295,R=j+(k<<21&4294967295|k>>>11),k=x+(j^(R|~B))+b[4]+4149444226&4294967295,x=R+(k<<6&4294967295|k>>>26),k=B+(R^(x|~j))+b[11]+3174756917&4294967295,B=x+(k<<10&4294967295|k>>>22),k=j+(x^(B|~R))+b[2]+718787259&4294967295,j=B+(k<<15&4294967295|k>>>17),k=R+(B^(j|~x))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var R=x-this.blockSize,b=this.B,j=this.h,B=0;B<x;){if(j==0)for(;B<=R;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<x;)if(b[j++]=P.charCodeAt(B++),j==this.blockSize){o(this,b),j=0;break}}else for(;B<x;)if(b[j++]=P[B++],j==this.blockSize){o(this,b),j=0;break}}this.h=j,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var R=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=R&255,R/=256;for(this.u(P),P=Array(16),x=R=0;4>x;++x)for(var b=0;32>b;b+=8)P[R++]=this.g[x]>>>b&255;return P};function a(P,x){var R=h;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=x(P)}function c(P,x){this.h=x;for(var R=[],b=!0,j=P.length-1;0<=j;j--){var B=P[j]|0;b&&B==x||(R[j]=B,b=!1)}this.g=R}var h={};function f(P){return-128<=P&&128>P?a(P,function(x){return new c([x|0],0>x?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return N(g(-P));for(var x=[],R=1,b=0;P>=R;b++)x[b]=P/R|0,R*=4294967296;return new c(x,0)}function _(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return N(_(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),b=T,j=0;j<P.length;j+=8){var B=Math.min(8,P.length-j),k=parseInt(P.substring(j,j+B),x);8>B?(B=g(Math.pow(x,B)),b=b.j(B).add(g(k))):(b=b.j(R),b=b.add(g(k)))}return b}var T=f(0),I=f(1),C=f(16777216);n=c.prototype,n.m=function(){if(z(this))return-N(this).m();for(var P=0,x=1,R=0;R<this.g.length;R++){var b=this.i(R);P+=(0<=b?b:4294967296+b)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(z(this))return"-"+N(this).toString(P);for(var x=g(Math.pow(P,6)),R=this,b="";;){var j=te(R,x).g;R=D(R,j.j(x));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=j,O(R))return B+b;for(;6>B.length;)B="0"+B;b=B+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=D(this,P),z(P)?-1:O(P)?0:1};function N(P){for(var x=P.g.length,R=[],b=0;b<x;b++)R[b]=~P.g[b];return new c(R,~P.h).add(I)}n.abs=function(){return z(this)?N(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],b=0,j=0;j<=x;j++){var B=b+(this.i(j)&65535)+(P.i(j)&65535),k=(B>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);b=k>>>16,B&=65535,k&=65535,R[j]=k<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function D(P,x){return P.add(N(x))}n.j=function(P){if(O(this)||O(P))return T;if(z(this))return z(P)?N(this).j(N(P)):N(N(this).j(P));if(z(P))return N(this.j(N(P)));if(0>this.l(C)&&0>P.l(C))return g(this.m()*P.m());for(var x=this.g.length+P.g.length,R=[],b=0;b<2*x;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var j=0;j<P.g.length;j++){var B=this.i(b)>>>16,k=this.i(b)&65535,ht=P.i(j)>>>16,Be=P.i(j)&65535;R[2*b+2*j]+=k*Be,K(R,2*b+2*j),R[2*b+2*j+1]+=B*Be,K(R,2*b+2*j+1),R[2*b+2*j+1]+=k*ht,K(R,2*b+2*j+1),R[2*b+2*j+2]+=B*ht,K(R,2*b+2*j+2)}for(b=0;b<x;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=x;b<2*x;b++)R[b]=0;return new c(R,0)};function K(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function Q(P,x){this.g=P,this.h=x}function te(P,x){if(O(x))throw Error("division by zero");if(O(P))return new Q(T,T);if(z(P))return x=te(N(P),x),new Q(N(x.g),N(x.h));if(z(x))return x=te(P,N(x)),new Q(N(x.g),x.h);if(30<P.g.length){if(z(P)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var R=I,b=x;0>=b.l(P);)R=F(R),b=F(b);var j=oe(R,1),B=oe(b,1);for(b=oe(b,2),R=oe(R,2);!O(b);){var k=B.add(b);0>=k.l(P)&&(j=j.add(R),B=k),b=oe(b,1),R=oe(R,1)}return x=D(P,j.j(x)),new Q(j,x)}for(j=T;0<=P.l(x);){for(R=Math.max(1,Math.floor(P.m()/x.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),B=g(R),k=B.j(x);z(k)||0<k.l(P);)R-=b,B=g(R),k=B.j(x);O(B)&&(B=I),j=j.add(B),P=D(P,k)}return new Q(j,P)}n.A=function(P){return te(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],b=0;b<x;b++)R[b]=this.i(b)&P.i(b);return new c(R,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],b=0;b<x;b++)R[b]=this.i(b)|P.i(b);return new c(R,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],b=0;b<x;b++)R[b]=this.i(b)^P.i(b);return new c(R,this.h^P.h)};function F(P){for(var x=P.g.length+1,R=[],b=0;b<x;b++)R[b]=P.i(b)<<1|P.i(b-1)>>>31;return new c(R,P.h)}function oe(P,x){var R=x>>5;x%=32;for(var b=P.g.length-R,j=[],B=0;B<b;B++)j[B]=0<x?P.i(B+R)>>>x|P.i(B+R+1)<<32-x:P.i(B+R);return new c(j,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,__=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,to=c}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,ul,E_,pc,Rf,T_,x_,I_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var W=u[S];if(!(W in v))break e;v=v[W]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,S=!1,W={next:function(){if(!S&&v<u.length){var J=v++;return{value:m(J,u[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,I.apply(null,arguments)}function C(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,W,J){for(var de=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)de[ct-2]=arguments[ct];return m.prototype[W].apply(S,de)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function N(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(f(S)){const W=u.length||0,J=S.length||0;u.length=W+J;for(let de=0;de<J;de++)u[W+de]=S[de]}else u.push(S)}}class D{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var F=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function oe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(v in S)u[v]=S[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function j(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){h.setTimeout(()=>{throw u},0)}function k(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const S=Be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Be=new D(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,le=!1,Te=new ht,he=()=>{const u=h.Promise.resolve(void 0);Ue=()=>{u.then($)}};var $=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){B(v)}var m=Be;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function Le(u,m){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{te(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:$e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}O(Le,we);var $e={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function je(u,m,v,S,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=W,this.key=++et,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kn(u){this.src=u,this.g={},this.h=0}Kn.prototype.add=function(u,m,v,S,W){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var de=on(u,m,S,W);return-1<de?(m=u[de],v||(m.fa=!1)):(m=new je(m,this.src,J,!!S,W),m.fa=v,u.push(m)),m};function bi(u,m){var v=m.type;if(v in u.g){var S=u.g[v],W=Array.prototype.indexOf.call(S,m,void 0),J;(J=0<=W)&&Array.prototype.splice.call(S,W,1),J&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function on(u,m,v,S){for(var W=0;W<u.length;++W){var J=u[W];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==S)return W}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Ni={};function Di(u,m,v,S,W){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Di(u,m[J],v,S,W);return null}return v=In(v),u&&u[Ze]?u.K(m,v,g(S)?!!S.capture:!!S,W):Ps(u,m,v,!1,S,W)}function Ps(u,m,v,S,W,J){if(!m)throw Error("Invalid event type");var de=g(W)?!!W.capture:!!W,ct=Zr(u);if(ct||(u[Jr]=ct=new Kn(u)),v=ct.add(m,v,S,de,J),v.proxy)return v;if(S=yo(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Me||(W=de),W===void 0&&(W=!1),u.addEventListener(m.toString(),S,W);else if(u.attachEvent)u.attachEvent(Gt(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yo(){function u(v){return m.call(u.src,u.listener,v)}const m=sr;return u}function Li(u,m,v,S,W){if(Array.isArray(m))for(var J=0;J<m.length;J++)Li(u,m[J],v,S,W);else S=g(S)?!!S.capture:!!S,v=In(v),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(J=u.g[m],v=on(J,v,S,W),-1<v&&(mt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete u.g[m],u.h--)))):u&&(u=Zr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=on(m,v,S,W)),(v=-1<u?m[u]:null)&&ir(v))}function ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])bi(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Gt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Zr(m))?(bi(v,u),v.h==0&&(v.src=null,m[Jr]=null)):mt(u)}}}function Gt(u){return u in Ni?Ni[u]:Ni[u]="on"+u}function sr(u,m){if(u.da)u=!0;else{m=new Le(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&ir(u),u=v.call(S,m)}return u}function Zr(u){return u=u[Jr],u instanceof Kn?u:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function ut(){Z.call(this),this.i=new Kn(this),this.M=this,this.F=null}O(ut,Z),ut.prototype[Ze]=!0,ut.prototype.removeEventListener=function(u,m,v,S){Li(this,u,m,v,S)};function Ct(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new we(m,u);else if(m instanceof we)m.target=m.target||u;else{var W=m;m=new we(S,u),b(m,W)}if(W=!0,v)for(var J=v.length-1;0<=J;J--){var de=m.g=v[J];W=Vn(de,S,!0,m)&&W}if(de=m.g=u,W=Vn(de,S,!0,m)&&W,W=Vn(de,S,!1,m)&&W,v)for(J=0;J<v.length;J++)de=m.g=v[J],W=Vn(de,S,!1,m)&&W}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)mt(v[S]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ut.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Vn(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,J=0;J<m.length;++J){var de=m[J];if(de&&!de.da&&de.capture==v){var ct=de.listener,Mt=de.ha||de.src;de.fa&&bi(u.i,de),W=ct.call(Mt,S)!==!1&&W}}return W&&!S.defaultPrevented}function As(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Qt(u){u.g=As(()=>{u.g=null,u.i&&(u.i=!1,Qt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kr extends Z{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(u){Z.call(this),this.h=u,this.g={}}O(br,Z);var Oi=[];function ks(u){oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ir(m)},u),u.g={}}br.prototype.N=function(){br.aa.N.call(this),ks(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=h.JSON.stringify,Nr=h.JSON.parse,Vi=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function or(){}or.prototype.h=null;function ji(u){return u.h||(u.h=u.i())}function ei(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){we.call(this,"d")}O(jn,we);function ar(){we.call(this,"c")}O(ar,we);var vn={},bs=null;function ti(){return bs=bs||new ut}vn.La="serverreachability";function V(u){we.call(this,vn.La,u)}O(V,we);function H(u){const m=ti();Ct(m,new V(m))}vn.STAT_EVENT="statevent";function X(u,m){we.call(this,vn.STAT_EVENT,u),this.stat=m}O(X,we);function ee(u){const m=ti();Ct(m,new X(m,u))}vn.Ma="timingevent";function fe(u,m){we.call(this,vn.Ma,u),this.size=m}O(fe,we);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function pe(u,m,v,S,W,J){u.info(function(){if(u.g)if(J)for(var de="",ct=J.split("&"),Mt=0;Mt<ct.length;Mt++){var Xe=ct[Mt].split("=");if(1<Xe.length){var Bt=Xe[0];Xe=Xe[1];var Dt=Bt.split("_");de=2<=Dt.length&&Dt[1]=="type"?de+(Bt+"="+Xe+"&"):de+(Bt+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+m+`
`+v+`
`+de})}function _e(u,m,v,S,W,J,de){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+m+`
`+v+`
`+J+" "+de})}function ce(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(u,v)+(S?" "+S:"")})}function ke(u,m){u.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function Fe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return Mi(v)}catch{return m}}var st={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function tt(){}O(tt,or),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},qe=new tt;function ot(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var ur={},an={};function Yt(u,m,v){u.L=1,u.v=Bi(Fn(m)),u.m=v,u.P=!0,ni(u,null)}function ni(u,m){u.F=Date.now(),at(u),u.A=Fn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Hi(v.i,"t",S),u.C=0,v=u.j.J,u.h=new lr,u.g=ru(u.j,v?m:null,!u.m),0<u.O&&(u.M=new kr(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Oi[0]=W.toString()),W=Oi);for(var J=0;J<W.length;J++){var de=Di(v,W[J],S||m.handleEvent,!1,m.h||m);if(!de)break;m.g[de.key]=de}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),H(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}ot.prototype.ca=function(u){u=u.target;const m=this.M;m&&Pn(u)==3?m.j():this.Y(u)},ot.prototype.Y=function(u){try{if(u==this.g)e:{const Dt=Pn(this.g);var m=this.g.Ba();const Qn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Pa(this.g)))){this.J||Dt!=4||m==7||(m==8||0>=Qn?H(3):H(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(Dr(this)){var S=Pa(this.g);u="";var W=S.length,J=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),gt(this);var de="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(J&&m==W-1)});S.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Mt=this.g;if((ct=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ct)){var Xe=ct;break t}}Xe=null}if(v=Xe)ce(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dr(this,v);else{this.o=!1,this.s=3,ee(12),Xt(this),gt(this);break e}}if(this.P){v=!0;let zn;for(;!this.J&&this.C<de.length;)if(zn=cr(this,de),zn==an){Dt==4&&(this.s=4,ee(14),v=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==ur){this.s=4,ee(15),ce(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else ce(this.i,this.l,zn,null),dr(this,zn);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||de.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)ce(this.i,this.l,de,"[Invalid Chunked Response]"),Xt(this),gt(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ka(Bt),Bt.M=!0,ee(11))}}else ce(this.i,this.l,de,null),dr(this,de);Dt==4&&Xt(this),this.o&&!this.J&&(Dt==4?Ao(this.j,this):(this.o=!1,at(this)))}else Io(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Xt(this),gt(this)}}}catch{}finally{}};function Dr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cr(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?an:(v=Number(m.substring(v,S)),isNaN(v)?ur:(S+=1,S+v>m.length?an:(m=m.slice(S,S+v),u.C=S+v,m)))}ot.prototype.cancel=function(){this.J=!0,Xt(this)};function at(u){u.S=Date.now()+u.I,ri(u,u.I)}function ri(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(I(u.ba,u),m)}function Ye(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ot.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ke(this.i,this.A),this.L!=2&&(H(),ee(17)),Xt(this),this.s=2,gt(this)):ri(this,this.S-u)};function gt(u){u.j.G==0||u.J||Ao(u.j,u)}function Xt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ks(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function dr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||_n(v.h,u))){if(!u.K&&_n(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Po(v),gr(v);else break e;Co(v),ee(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(I(v.Za,v),6e3));if(1>=vo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else li(v,11)}else if((u.K||v.g==u)&&Po(v),!K(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let Xe=W[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const Bt=Xe[3];Bt!=null&&(v.la=Bt,v.j.info("VER="+v.la));const Dt=Xe[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Qn=Xe[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(S=1.5*Qn,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zn=u.g;if(zn){const Vs=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var J=S.h;J.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ia(J,J.h),J.h=null))}if(S.D){const bo=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(S.ya=bo,ft(S.I,S.D,bo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var de=u;if(S.qa=nu(S,S.J?S.ia:null,S.W),de.K){Hl(S.h,de);var ct=de,Mt=S.L;Mt&&(ct.I=Mt),ct.B&&(Ye(ct),at(ct)),S.g=de}else Ms(S);0<v.i.length&&Vr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||li(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?li(v,7):Zt(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}H(4)}catch{}}var yt=class{constructor(u,m){this.g=u,this.map=m}};function Rn(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vo(u){return u.h?1:u.g?u.g.size:0}function _n(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function Hl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rn.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function _o(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function wo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function Fi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=wo(u),S=_o(u),W=S.length,J=0;J<W;J++)m.call(void 0,S[J],v&&v[J],u)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),W=null;if(0<=S){var J=u[v].substring(0,S);W=u[v].substring(S+1)}else J=u[v];m(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ii(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ii){this.h=u.h,Ds(this,u.j),this.o=u.o,this.g=u.g,Ui(this,u.s),this.l=u.l;var m=u.i,v=new Lr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),zi(this,v),this.m=u.m}else u&&(m=String(u).match(Ns))?(this.h=!1,Ds(this,m[1]||"",!0),this.o=Ke(m[2]||""),this.g=Ke(m[3]||"",!0),Ui(this,m[4]),this.l=Ke(m[5]||"",!0),zi(this,m[6]||"",!0),this.m=Ke(m[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}ii.prototype.toString=function(){var u=[],m=this.j;m&&u.push($i(m,Eo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push($i(m,Eo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push($i(v,v.charAt(0)=="/"?Gl:Kl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",$i(v,Sa)),u.join("")};function Fn(u){return new ii(u)}function Ds(u,m,v){u.j=v?Ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ui(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function zi(u,m,v){m instanceof Lr?(u.i=m,Or(u.i,u.h)):(v||(m=$i(m,Ql)),u.i=new Lr(m,u.h))}function ft(u,m,v){u.i.set(m,v)}function Bi(u){return ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $i(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eo=/[#\/\?@]/g,Kl=/[#\?:]/g,Gl=/[#\?]/g,Ql=/[#\?@]/g,Sa=/#/g;function Lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Jt(u){u.g||(u.g=new Map,u.h=0,u.i&&vd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Lr.prototype,n.add=function(u,m){Jt(this),this.i=null,u=Gn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hr(u,m){Jt(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fr(u,m){return Jt(u),m=Gn(u,m),u.g.has(m)}n.forEach=function(u,m){Jt(this),this.g.forEach(function(v,S){v.forEach(function(W){u.call(m,W,S,this)},this)},this)},n.na=function(){Jt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const W=u[S];for(let J=0;J<W.length;J++)v.push(m[S])}return v},n.V=function(u){Jt(this);let m=[];if(typeof u=="string")fr(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Jt(this),this.i=null,u=Gn(this,u),fr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hi(u,m,v){hr(u,m),0<v.length&&(u.i=null,u.g.set(Gn(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const J=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var W=J;de[S]!==""&&(W+="="+encodeURIComponent(String(de[S]))),u.push(W)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Or(u,m){m&&!u.j&&(Jt(u),u.i=null,u.g.forEach(function(v,S){var W=S.toLowerCase();S!=W&&(hr(this,S),Hi(this,W,v))},u)),u.j=m}function _d(u,m){const v=new Re;if(h.Image){const S=new Image;S.onload=C(Cn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=C(Cn,v,"TestLoadImage: error",!1,m,S),S.onabort=C(Cn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=C(Cn,v,"TestLoadImage: timeout",!1,m,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Yl(u,m){const v=new Re,S=new AbortController,W=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(J=>{clearTimeout(W),J.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(v)}catch{}}function wd(){this.g=new Vi}function Xl(u,m,v){const S=v||"";try{Fi(u,function(W,J){let de=W;g(W)&&(de=Mi(W)),m.push(S+J+"="+encodeURIComponent(de))})}catch(W){throw m.push(S+"type="+encodeURIComponent("_badmap")),W}}function si(u){this.l=u.Ub||null,this.j=u.eb||!1}O(si,or),si.prototype.g=function(){return new Ls(this.l,this.j)},si.prototype.i=function(u){return function(){return u}}({});function Ls(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ls,ut),n=Ls.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,mr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):mr(this),this.readyState==3&&Jl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,pr(this))},n.Qa=function(u){this.g&&(this.response=u,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let m="";return oe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Wi(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=oi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ft(u,m,v))}function Et(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Et,ut);var Ed=/^https?$/i,Ra=["POST","PUT"];n=Et.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?ji(this.o):ji(qe),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(J){Os(this,J);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)v.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())v.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ra,m,void 0))||S||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of v)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){Os(this,J)}};function Os(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,To(u),Un(u)}function To(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),Un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},n.bb=function(){Ca(this)};function Ca(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Pn(u)!=4||u.Z()!=2)){if(u.u&&Pn(u)==4)As(u.Ea,0,u);else if(Ct(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=de===0){var W=String(u.D).match(Ns)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!Ed.test(W?W.toLowerCase():"")}v=S}if(v)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var J=2<Pn(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",To(u)}}finally{Un(u)}}}}function Un(u,m){if(u.g){xo(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ct(u,"ready");try{v.onreadystatechange=S}catch{}}}function xo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nr(m)}};function Pa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(u){const m={};u=(u.g&&2<=Pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(K(u[S]))continue;var v=j(u[S]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[W]||[];m[W]=J,J.push(v)}P(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Aa(u){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,u),this.cb=Mr("retryDelaySeedMs",1e4,u),this.Wa=Mr("forwardChannelMaxRetries",2,u),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(u&&u.concurrentRequestLimit),this.Da=new wd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Aa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,S){ee(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=nu(this,null,this.W),Vr(this)};function Zt(u){if(So(u),u.G==3){var m=u.U++,v=Fn(u.I);if(ft(v,"SID",u.K),ft(v,"RID",m),ft(v,"TYPE","terminate"),ai(u,v),m=new ot(u,u.j,m),m.L=2,m.v=Bi(Fn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),at(m)}tu(u)}function gr(u){u.g&&(ka(u),u.g.cancel(),u.g=null)}function So(u){gr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Vr(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ue||he(),le||(Ue(),le=!0),Te.add(m,u),u.B=0}}function Td(u,m){return vo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(I(u.Ga,u,m),eu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new ot(this,this.j,u);let J=this.o;if(this.S&&(J?(J=x(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=qi(this,W,m),v=Fn(this.I),ft(v,"RID",u),ft(v,"CVER",22),this.D&&ft(v,"X-HTTP-Session-Id",this.D),ai(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(oi(J)))+"&"+m:this.m&&Wi(v,this.m,J)),Ia(this.h,W),this.Ua&&ft(v,"TYPE","init"),this.P?(ft(v,"$req",m),ft(v,"SID","null"),W.T=!0,Yt(W,v,null)):Yt(W,v,m),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||ln(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.U++;const S=Fn(u.I);ft(S,"SID",u.K),ft(S,"RID",v),ft(S,"AID",u.T),ai(u,S),u.m&&u.o&&Wi(S,u.m,u.o),v=new ot(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,v),Yt(v,S,m)}function ai(u,m){u.H&&oe(u.H,function(v,S){ft(m,S,v)}),u.l&&Fi({},function(v,S){ft(m,S,v)})}function qi(u,m,v){v=Math.min(u.i.length,v);var S=u.l?I(u.l.Na,u.l,u):null;e:{var W=u.i;let J=-1;for(;;){const de=["count="+v];J==-1?0<v?(J=W[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let ct=!0;for(let Mt=0;Mt<v;Mt++){let Xe=W[Mt].g;const Bt=W[Mt].map;if(Xe-=J,0>Xe)J=Math.max(0,W[Mt].g-100),ct=!1;else try{Xl(Bt,de,"req"+Xe+"_")}catch{S&&S(Bt)}}if(ct){S=de.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,S}function Ms(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ue||he(),le||(Ue(),le=!0),Te.add(m,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(I(u.Fa,u),eu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),gr(this),Zl(this))};function ka(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Zl(u){u.g=new ot(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Fn(u.qa);ft(m,"RID","rpc"),ft(m,"SID",u.K),ft(m,"AID",u.T),ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ft(m,"TO",u.ja),ft(m,"TYPE","xmlhttp"),ai(u,m),u.m&&u.o&&Wi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Bi(Fn(m)),v.m=null,v.P=!0,ni(v,u)}n.Za=function(){this.C!=null&&(this.C=null,gr(this),Co(this),ee(19))};function Po(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ao(u,m){var v=null;if(u.g==m){Po(u),ka(u),u.g=null;var S=2}else if(_n(u.h,m))v=m.D,Hl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;S=ti(),Ct(S,new fe(S,v)),Vr(u)}else Ms(u);else if(W=m.s,W==3||W==0&&0<m.X||!(S==1&&Td(u,m)||S==2&&Co(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function eu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function li(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),S=u.Xa;const W=!S;S=new ii(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ds(S,"https"),Bi(S),W?_d(S.toString(),v):Yl(S.toString(),v)}else ee(2);u.G=0,u.l&&u.l.sa(m),tu(u),So(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function tu(u){if(u.G=0,u.ka=[],u.l){const m=Wl(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function nu(u,m,v){var S=v instanceof ii?Fn(v):new ii(v);if(S.g!="")m&&(S.g=m+"."+S.g),Ui(S,S.s);else{var W=h.location;S=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var J=new ii(null);S&&Ds(J,S),m&&(J.g=m),W&&Ui(J,W),v&&(J.l=v),S=J}return v=u.D,m=u.ya,v&&m&&ft(S,v,m),ft(S,"VER",u.la),ai(u,S),S}function ru(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Et(new si({eb:v})):new Et(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ba(){}n=ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ko(){}ko.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){ut.call(this),this.g=new Aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new jr(this)}O(wn,ut),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Zt(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Mi(u),u=v);m.i.push(new yt(m.Ya++,u)),m.G==3&&Vr(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,wn.aa.N.call(this)};function iu(u){jn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(iu,jn);function su(){ar.call(this),this.status=1}O(su,ar);function jr(u){this.g=u}O(jr,ba),jr.prototype.ua=function(){Ct(this.g,"a")},jr.prototype.ta=function(u){Ct(this.g,new iu(u))},jr.prototype.sa=function(u){Ct(this.g,new su)},jr.prototype.ra=function(){Ct(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,I_=function(){return new ko},x_=function(){return ti()},T_=vn,Rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,pc=st,Pt.COMPLETE="complete",E_=Pt,ei.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ul=ei,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,w_=Et}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Xf("@firebase/firestore");function Zo(){return ao.logLevel}function ge(n,...e){if(ao.logLevel<=He.DEBUG){const t=e.map(up);ao.debug(`Firestore (${wa}): ${n}`,...t)}}function Ri(n,...e){if(ao.logLevel<=He.ERROR){const t=e.map(up);ao.error(`Firestore (${wa}): ${n}`,...t)}}function ca(n,...e){if(ao.logLevel<=He.WARN){const t=e.map(up);ao.warn(`Firestore (${wa}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function lt(n,e){n||De()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class I2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ei,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ei)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new S_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new pn(e)}}class R2{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class C2{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new R2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){lt(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new P2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=k2(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function da(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ut(0,0))}static max(){return new Oe(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends xl{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends xl{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(xt.fromString(e))}static fromName(e){return new Ae(xt.fromString(e).popFirst(5))}static empty(){return new Ae(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new xt(e.slice()))}}function N2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new Es(o,Ae.empty(),e)}function D2(n){return new Es(n.readTime,n.key,-1)}class Es{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Es(Oe.min(),Ae.empty(),-1)}static max(){return new Es(Oe.max(),Ae.empty(),-1)}}function L2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==O2)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;t(e[g]).next(_=>{c[g]=_,++h,h===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new ne((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function V2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nd.oe=-1;function rd(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function j2(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sv(e)),e=U2(n.get(t),e);return sv(e)}function U2(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function sv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new nn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,a){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(e){return new av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new zt(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new P_("Invalid base64 string: "+a):a}}(e);return new sn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(lt(!!n),typeof n=="string"){let e=0;const t=z2.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function id(n){const e=n.mapValue.fields.__previous_value__;return cp(e)?id(e):e}function Il(n){const e=Ts(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,i,o,a,c,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class Sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:H2(n)?9007199254740991:$2(n)?10:11:De()}function Qr(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Il(n).isEqual(Il(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ts(o.timestampValue),h=Ts(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return xs(o.bytesValue).isEqual(xs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=bt(o.doubleValue),h=bt(a.doubleValue);return c===h?Lc(c)===Lc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return da(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(ov(c)!==ov(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Qr(c[f],h[f])))return!1;return!0}(n,e);default:return De()}}function Rl(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function ha(n,e){if(n===e)return 0;const t=Is(n),i=Is(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=bt(a.integerValue||a.doubleValue),f=bt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return lv(n.timestampValue,e.timestampValue);case 4:return lv(Il(n),Il(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(a,c){const h=xs(a),f=xs(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Ge(h[g],f[g]);if(_!==0)return _}return Ge(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Ge(bt(a.latitude),bt(c.latitude));return h!==0?h:Ge(bt(a.longitude),bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,f,g,_;const T=a.fields||{},I=c.fields||{},C=(h=T.value)===null||h===void 0?void 0:h.arrayValue,O=(f=I.value)===null||f===void 0?void 0:f.arrayValue,z=Ge(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:uv(C,O)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===ic.mapValue&&c===ic.mapValue)return 0;if(a===ic.mapValue)return 1;if(c===ic.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const I=Ge(f[T],_[T]);if(I!==0)return I;const C=ha(h[f[T]],g[_[T]]);if(C!==0)return C}return Ge(f.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function lv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Ts(n),i=Ts(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function uv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ha(t[o],i[o]);if(a)return a}return Ge(t.length,i.length)}function fa(n){return Cf(n)}function Cf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ts(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Cf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Cf(t.fields[c])}`;return o+"}"}(n.mapValue):De()}function mc(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(n);return e?16+mc(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+mc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return fo(i.fields,(a,c)=>{o+=a.length+mc(c)}),o}(n.mapValue);default:throw De()}}function Pf(n){return!!n&&"integerValue"in n}function dp(n){return!!n&&"arrayValue"in n}function cv(n){return!!n&&"nullValue"in n}function dv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gc(n){return!!n&&"mapValue"in n}function $2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ml(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=rn.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=ml(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){fo(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new rr(ml(this.value))}}function A_(n){const e=[];return fo(n.fields,(t,i)=>{const o=new rn([t]);if(gc(i)){const a=A_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,Oe.min(),Oe.min(),Oe.min(),rr.empty(),0)}static newFoundDocument(e,t,i,o){return new mn(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new mn(e,2,t,Oe.min(),Oe.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Oe.min(),Oe.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.position=e,this.inclusive=t}}function hv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=ha(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function fv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function W2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class Ft extends k_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new K2(e,t,i):t==="array-contains"?new Y2(e,i):t==="in"?new X2(e,i):t==="not-in"?new J2(e,i):t==="array-contains-any"?new Z2(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new G2(e,i):new Q2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ha(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends k_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yr(e,t)}matches(e){return b_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b_(n){return n.op==="and"}function N_(n){return q2(n)&&b_(n)}function q2(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function Af(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(N_(n))return n.filters.map(e=>Af(e)).join(",");{const e=n.filters.map(t=>Af(t)).join(",");return`${n.op}(${e})`}}function D_(n,e){return n instanceof Ft?function(i,o){return o instanceof Ft&&i.op===o.op&&i.field.isEqual(o.field)&&Qr(i.value,o.value)}(n,e):n instanceof Yr?function(i,o){return o instanceof Yr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&D_(c,o.filters[h]),!0):!1}(n,e):void De()}function L_(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(L_).join(" ,")+"}"}(n):"Filter"}class K2 extends Ft{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class G2 extends Ft{constructor(e,t){super(e,"in",t),this.keys=O_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q2 extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=O_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class Y2 extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dp(t)&&Rl(t.arrayValue,this.value)}}class X2 extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rl(this.value.arrayValue,t)}}class J2 extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rl(this.value.arrayValue,t)}}class Z2 extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function pv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new eP(n,e,t,i,o,a,c)}function hp(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Af(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fa(i)).join(",")),e.ue=t}return e.ue}function fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fv(n.startAt,e.startAt)&&fv(n.endAt,e.endAt)}function kf(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tP(n,e,t,i,o,a,c,h){return new sd(n,e,t,i,o,a,c,h)}function pp(n){return new sd(n)}function mv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nP(n){return n.collectionGroup!==null}function gl(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new zt(rn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Mc(a,i))}),t.has(rn.keyField().canonicalString())||e.ce.push(new Mc(rn.keyField(),i))}return e.ce}function Kr(n){const e=Ve(n);return e.le||(e.le=rP(e,gl(n))),e.le}function rP(n,e){if(n.limitType==="F")return pv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Mc(o.field,a)});const t=n.endAt?new Oc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Oc(n.startAt.position,n.startAt.inclusive):null;return pv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function bf(n,e,t){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function od(n,e){return fp(Kr(n),Kr(e))&&n.limitType===e.limitType}function M_(n){return`${hp(Kr(n))}|lt:${n.limitType}`}function ea(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>L_(o)).join(", ")}]`),rd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>fa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>fa(o)).join(",")),`Target(${i})`}(Kr(n))}; limitType=${n.limitType})`}function ad(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ae.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of gl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,f){const g=hv(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,gl(i),o)||i.endAt&&!function(c,h,f){const g=hv(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,gl(i),o))}(n,e)}function iP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V_(n){return(e,t)=>{let i=!1;for(const o of gl(n)){const a=sP(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function sP(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,c,h){const f=c.data.field(a),g=h.data.field(a);return f!==null&&g!==null?ha(f,g):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Rt(Ae.comparator);function Ci(){return oP}const j_=new Rt(Ae.comparator);function cl(...n){let e=j_;for(const t of n)e=e.insert(t.key,t);return e}function F_(n){let e=j_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Zs(){return yl()}function U_(){return yl()}function yl(){return new po(n=>n.toString(),(n,e)=>n.isEqual(e))}const aP=new Rt(Ae.comparator),lP=new zt(Ae.comparator);function We(...n){let e=lP;for(const t of n)e=e.add(t);return e}const uP=new zt(Ge);function cP(){return uP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function z_(n){return{integerValue:""+n}}function dP(n,e){return j2(e)?z_(e):mp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function hP(n,e,t){return n instanceof Vc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&cp(a)&&(a=id(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Cl?$_(n,e):n instanceof Pl?H_(n,e):function(o,a){const c=B_(o,a),h=gv(c)+gv(o.Pe);return Pf(c)&&Pf(o.Pe)?z_(h):mp(o.serializer,h)}(n,e)}function fP(n,e,t){return n instanceof Cl?$_(n,e):n instanceof Pl?H_(n,e):t}function B_(n,e){return n instanceof jc?function(i){return Pf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Vc extends ld{}class Cl extends ld{constructor(e){super(),this.elements=e}}function $_(n,e){const t=W_(e);for(const i of n.elements)t.some(o=>Qr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Pl extends ld{constructor(e){super(),this.elements=e}}function H_(n,e){let t=W_(e);for(const i of n.elements)t=t.filter(o=>!Qr(o,i));return{arrayValue:{values:t}}}class jc extends ld{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gv(n){return bt(n.integerValue||n.doubleValue)}function W_(n){return dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Cl&&o instanceof Cl||i instanceof Pl&&o instanceof Pl?da(i.elements,o.elements,Qr):i instanceof jc&&o instanceof jc?Qr(i.Pe,o.Pe):i instanceof Vc&&o instanceof Vc}(n.transform,e.transform)}class mP{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ud{}function q_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new G_(n.key,Ti.none()):new Ul(n.key,n.data,Ti.none());{const t=n.data,i=rr.empty();let o=new zt(rn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new mo(n.key,i,new Ir(o.toArray()),Ti.none())}}function gP(n,e,t){n instanceof Ul?function(o,a,c){const h=o.value.clone(),f=vv(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof mo?function(o,a,c){if(!yc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=vv(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(K_(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function vl(n,e,t,i){return n instanceof Ul?function(a,c,h,f){if(!yc(a.precondition,c))return h;const g=a.value.clone(),_=_v(a.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof mo?function(a,c,h,f){if(!yc(a.precondition,c))return h;const g=_v(a.fieldTransforms,f,c),_=c.data;return _.setAll(K_(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,h){return yc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function yP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=B_(i.transform,o||null);a!=null&&(t===null&&(t=rr.empty()),t.set(i.field,a))}return t||null}function yv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&da(i,o,(a,c)=>pP(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ul extends ud{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mo extends ud{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function K_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function vv(n,e,t){const i=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,fP(c,h,t[o]))}return i}function _v(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,hP(a,c,e))}return i}class G_ extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vP extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gP(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=U_();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=q_(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(t,i)=>yv(t,i))&&da(this.baseMutations,e.baseMutations,(t,i)=>yv(t,i))}}class gp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){lt(e.mutations.length===i.length);let o=function(){return aP}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new gp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Je;function TP(n){switch(n){default:return De();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function Q_(n){if(n===void 0)return Ri("GRPC error has no .code"),se.UNKNOWN;switch(n){case Ot.OK:return se.OK;case Ot.CANCELLED:return se.CANCELLED;case Ot.UNKNOWN:return se.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return se.INTERNAL;case Ot.UNAVAILABLE:return se.UNAVAILABLE;case Ot.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ot.NOT_FOUND:return se.NOT_FOUND;case Ot.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ot.ABORTED:return se.ABORTED;case Ot.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ot.DATA_LOSS:return se.DATA_LOSS;default:return De()}}(Je=Ot||(Ot={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new to([4294967295,4294967295],0);function wv(n){const e=xP().encode(n),t=new __;return t.update(e),new Uint8Array(t.digest())}function Ev(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new to([t,i],0),new to([o,a],0)]}class yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(i<0)throw new dl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=to.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(to.fromNumber(i)));return o.compare(IP)===1&&(o=new to([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=wv(e),[i,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new yp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=wv(e),[i,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cd(Oe.min(),o,new Rt(Ge),Ci(),We())}}class zl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new zl(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Y_{constructor(e,t){this.targetId=e,this.me=t}}class X_{constructor(e,t,i=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Tv{constructor(){this.fe=0,this.ge=xv(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),i=We();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new zl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=xv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ci(),this.qe=sc(),this.Qe=sc(),this.Ke=new Rt(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(kf(a))if(i===0){const c=new Ae(a.path);this.We(t,c,mn.newNoDocument(c,Oe.min()))}else lt(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),f=h?this.et(h,e,c):1;if(f!==0){this.He(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=xs(i).toUint8Array()}catch(f){if(f instanceof P_)return ca("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new yp(c,o,a)}catch(f){return ca(f instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&kf(h.target)){const f=new Ae(h.target.path);this.st(f).has(c)||this.ot(c,f)||this.We(c,f,mn.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=We();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(f=>{const g=this.Ye(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new cd(e,t,this.Ke,this.ke,i);return this.ke=Ci(),this.qe=sc(),this.Qe=sc(),this.Ke=new Rt(Ge),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Tv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new zt(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zt(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Tv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sc(){return new Rt(Ae.comparator)}function xv(){return new Rt(Ae.comparator)}const RP={asc:"ASCENDING",desc:"DESCENDING"},CP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PP={and:"AND",or:"OR"};class AP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nf(n,e){return n.useProto3Json||rd(e)?e:{value:e}}function Fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kP(n,e){return Fc(n,e.toTimestamp())}function Gr(n){return lt(!!n),Oe.fromTimestamp(function(t){const i=Ts(t);return new Ut(i.seconds,i.nanos)}(n))}function vp(n,e){return Df(n,e).canonicalString()}function Df(n,e){const t=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Z_(n){const e=xt.fromString(n);return lt(i1(e)),e}function Lf(n,e){return vp(n.databaseId,e.path)}function of(n,e){const t=Z_(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(t1(t))}function e1(n,e){return vp(n.databaseId,e)}function bP(n){const e=Z_(n);return e.length===4?xt.emptyPath():t1(e)}function Of(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function t1(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Iv(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function NP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,_){return g.useProto3Json?(lt(_===void 0||typeof _=="string"),sn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),sn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const _=g.code===void 0?se.UNKNOWN:Q_(g.code);return new Se(_,g.message||"")}(c);t=new X_(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=of(n,i.document.name),a=Gr(i.document.updateTime),c=i.document.createTime?Gr(i.document.createTime):Oe.min(),h=new rr({mapValue:{fields:i.document.fields}}),f=mn.newFoundDocument(o,a,c,h),g=i.targetIds||[],_=i.removedTargetIds||[];t=new vc(g,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=of(n,i.document),a=i.readTime?Gr(i.readTime):Oe.min(),c=mn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new vc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=of(n,i.document),a=i.removedTargetIds||[];t=new vc([],a,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new EP(o,a),h=i.targetId;t=new Y_(h,c)}}return t}function DP(n,e){let t;if(e instanceof Ul)t={update:Iv(n,e.key,e.value)};else if(e instanceof G_)t={delete:Lf(n,e.key)};else if(e instanceof mo)t={update:Iv(n,e.key,e.data),updateMask:BP(e.fieldMask)};else{if(!(e instanceof vP))return De();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Vc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:kP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function LP(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Gr(o.updateTime):Gr(a);return c.isEqual(Oe.min())&&(c=Gr(a)),new mP(c,o.transformResults||[])}(t,e))):[]}function OP(n,e){return{documents:[e1(n,e.path)]}}function MP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=e1(n,o);const a=function(g){if(g.length!==0)return r1(Yr.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(_=>function(I){return{field:ta(I.field),direction:FP(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Nf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function VP(n){let e=bP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){lt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const I=n1(T);return I instanceof Yr&&N_(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(O){return new Mc(na(O.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(T){let I;return I=typeof T=="object"?T.value:T,rd(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(T){const I=!!T.before,C=T.values||[];return new Oc(C,I)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const I=!T.before,C=T.values||[];return new Oc(C,I)}(t.endAt)),tP(e,o,c,a,h,"F",f,g)}function jP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=na(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=na(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=na(t.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=na(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(na(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(i=>n1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function FP(n){return RP[n]}function UP(n){return CP[n]}function zP(n){return PP[n]}function ta(n){return{fieldPath:n.canonicalString()}}function na(n){return rn.fromServerFormat(n.fieldPath)}function r1(n){return n instanceof Ft?function(t){if(t.op==="=="){if(dv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NAN"}};if(cv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NAN"}};if(cv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(t.field),op:UP(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const i=t.getFilters().map(o=>r1(o));return i.length===1?i[0]:{compositeFilter:{op:zP(t.op),filters:i}}}(n):De()}function BP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,i,o,a=Oe.min(),c=Oe.min(),h=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.ht=e}}function HP(n){const e=VP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ln=new qP}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Es.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class qP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new zt(xt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new zt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new pa(0)}static Qn(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class KP{constructor(e){this.Gn=e,this.buffer=new zt(Rv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Rv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Yn(3e5)})}}class QP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(nd.oe);const i=new KP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Sv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,f,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),Zo()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${T} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function YP(n,e){return new QP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&vl(i.mutation,o,Ir.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=cl();return a.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=Ci();const c=yl(),h=function(){return yl()}();return t.forEach((f,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof mo)?a=a.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),vl(_.mutation,g,_.mutation.getFieldMask(),Ut.now())):c.set(g.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var T;return h.set(g,new JP(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=yl();let o=new Rt((c,h)=>c-h),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=t.get(f);if(g===null)return;let _=i.get(f)||Ir.empty();_=h.applyToLocalView(g,_),i.set(f,_);const T=(o.get(h.batchId)||We()).add(f);o=o.insert(h.batchId,T)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,T=U_();_.forEach(I=>{if(!a.has(I)){const C=q_(t.get(I),i.get(I));C!==null&&T.set(I,C),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(Zs());let h=-1,f=a;return c.next(g=>ne.forEach(g,(_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{f=f.insert(_,I)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,f,g,We())).next(_=>({batchId:h,changes:F_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=cl();return this.indexManager.getCollectionParents(e,a).next(h=>ne.forEach(h,f=>{const g=function(T,I){return new sd(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,mn.newInvalidDocument(_)))});let h=cl();return c.forEach((f,g)=>{const _=a.get(f);_!==void 0&&vl(_.mutation,g,Ir.empty(),Ut.now()),ad(t,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:HP(o.bundledQuery),readTime:Gr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.overlays=new Rt(Ae.comparator),this.Er=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Zs();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=Zs(),a=t.length+1,c=new Ae(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Rt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=a.get(g.largestBatchId);_===null&&(_=Zs(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=o)););return ne.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new wP(t,i));let a=this.Er.get(t);a===void 0&&(a=We(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.dr=new zt(qt.Ar),this.Rr=new zt(qt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new qt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new qt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ae(new xt([])),i=new qt(t,e),o=new qt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new xt([])),i=new qt(t,e),o=new qt(t,e+1);let a=We();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new qt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new zt(qt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _P(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(Ge);return t.forEach(o=>{const a=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),ne.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ae.isDocumentKey(a)||(a=a.child(""));const c=new qt(new Ae(a),0);let h=new zt(Ge);return this.vr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.br)),!0)},c),ne.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ne.forEach(t.mutations,o=>{const a=new qt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new qt(t,0),o=this.vr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.Nr=e,this.docs=function(){return new Rt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let i=Ci();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():mn.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ci();const c=t.path,h=new Ae(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||L2(D2(_),i)<=0||(o.has(_.key)||ad(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){De()}Lr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new sA(this)}getSize(e){return ne.resolve(this.size)}}class sA extends XP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.persistence=e,this.Br=new po(t=>hp(t),fp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new _p,this.targetCount=0,this.Qr=pa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new pa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.Kr={},this.overlays={},this.$r=new nd(0),this.Ur=!1,this.Ur=!0,this.Wr=new nA,this.referenceDelegate=e(this),this.Gr=new oA(this),this.indexManager=new WP,this.remoteDocumentCache=function(o){return new iA(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new $P(t),this.jr=new eA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new rA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new aA(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return ne.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class aA extends M2{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Zr=new _p,this.Xr=null}static ei(e){return new wp(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,i=>{const o=Ae.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.ri=new po(i=>F2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=YP(this,t)}static ei(e,t){return new Uc(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Oe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mc(e.data.value)),t}ir(e,t,i){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Ep(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return II()?8:V2(yn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new lA;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Zo()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ea(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Zo()<=He.DEBUG&&ge("QueryEngine","Query:",ea(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Zo()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ea(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):ne.resolve())}Xi(e,t){if(mv(t))return ne.resolve(null);let i=Kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bf(t,null,"F"),i=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=We(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.rs(t,h);return this.ss(t,g,c,f.readTime)?this.Xi(e,bf(t,null,"F")):this.os(e,g,t,f)}))})))}es(e,t,i,o){return mv(t)||o.isEqual(Oe.min())?ne.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?ne.resolve(null):(Zo()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ea(t)),this.os(e,c,t,N2(o,-1)).next(h=>h))})}rs(e,t){let i=new zt(V_(e));return t.forEach((o,a)=>{ad(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Zo()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ea(t)),this.Zi.getDocumentsMatchingQuery(e,t,Es.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Rt(Ge),this.cs=new po(a=>hp(a),fp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function dA(n,e,t,i){return new cA(n,e,t,i)}async function o1(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let f=We();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of a){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(g=>({Ts:g,removedBatchIds:c,addedBatchIds:h}))})})}function hA(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const T=g.batch,I=T.keys();let C=ne.resolve();return I.forEach(O=>{C=C.next(()=>_.getEntry(f,O)).next(z=>{const N=g.docVersions.get(O);lt(N!==null),z.version.compareTo(N)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=We();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function a1(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function fA(n,e){const t=Ve(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((_,T)=>{const I=o.get(T);if(!I)return;h.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,T)));let C=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(sn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),o=o.insert(T,C),function(z,N,D){return z.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(I,C,_)&&h.push(t.Gr.updateTargetData(a,C))});let f=Ci(),g=We();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(pA(a,c,e.documentUpdates).next(_=>{f=_.Is,g=_.Es})),!i.isEqual(Oe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return ne.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(t.us=o,a))}function pA(n,e,t){let i=We(),o=We();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Ci();return t.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Is:c,Es:o}})}function mA(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gA(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,ne.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new ps(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Mf(n,e,t){const i=Ve(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ta(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Cv(n,e,t){const i=Ve(n);let o=Oe.min(),a=We();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,_){const T=Ve(f),I=T.cs.get(_);return I!==void 0?ne.resolve(T.us.get(I)):T.Gr.getTargetData(g,_)}(i,c,Kr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?a:We())).next(h=>(yA(i,iP(e),h),{documents:h,ds:a})))}function yA(n,e,t){let i=n.ls.get(e)||Oe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Pv{constructor(){this.activeTargetIds=cP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vA{constructor(){this._o=new Pv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Pv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function af(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class TA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=af(),f=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,a,c),this.Bo(t,f,g,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw ca("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=wA[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=af();return new Promise((c,h)=>{const f=new w_;f.setWithCredentials(!0),f.listenOnce(E_.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pc.NO_ERROR:const _=f.getResponseJson();ge(fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case pc.TIMEOUT:ge(fn,`RPC '${e}' ${a} timed out`),h(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const T=f.getStatus();if(ge(fn,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const O=function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(D)>=0?D:se.UNKNOWN}(C.status);h(new Se(O,C.message))}else h(new Se(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(se.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ge(fn,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);ge(fn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",g,i,15)})}qo(e,t,i){const o=af(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=I_(),h=x_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");ge(fn,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=c.createWebChannel(_,f);let I=!1,C=!1;const O=new EA({Eo:N=>{C?ge(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(I||(ge(fn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ge(fn,`RPC '${e}' stream ${o} sending:`,N),T.send(N))},Ao:()=>T.close()}),z=(N,D,K)=>{N.listen(D,Q=>{try{K(Q)}catch(te){setTimeout(()=>{throw te},0)}})};return z(T,ul.EventType.OPEN,()=>{C||(ge(fn,`RPC '${e}' stream ${o} transport opened.`),O.So())}),z(T,ul.EventType.CLOSE,()=>{C||(C=!0,ge(fn,`RPC '${e}' stream ${o} transport closed`),O.Do())}),z(T,ul.EventType.ERROR,N=>{C||(C=!0,ca(fn,`RPC '${e}' stream ${o} transport errored:`,N),O.Do(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),z(T,ul.EventType.MESSAGE,N=>{var D;if(!C){const K=N.data[0];lt(!!K);const Q=K,te=(Q==null?void 0:Q.error)||((D=Q[0])===null||D===void 0?void 0:D.error);if(te){ge(fn,`RPC '${e}' stream ${o} received error:`,te);const F=te.status;let oe=function(R){const b=Ot[R];if(b!==void 0)return Q_(b)}(F),P=te.message;oe===void 0&&(oe=se.INTERNAL,P="Unknown error status: "+F+" with message "+te.message),C=!0,O.Do(new Se(oe,P)),T.close()}else ge(fn,`RPC '${e}' stream ${o} received:`,K),O.vo(K)}}),z(h,T_.STAT_EVENT,N=>{N.stat===Rf.PROXY?ge(fn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Rf.NOPROXY&&ge(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){return new AP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t,i,o,a,c,h,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new l1(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Se(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xA extends u1{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=NP(this.serializer,e),i=function(a){if(!("targetChange"in a))return Oe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Gr(c.readTime):Oe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Of(this.serializer),t.addTarget=function(a,c){let h;const f=c.target;if(h=kf(f)?{documents:OP(a,f)}:{query:MP(a,f).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=J_(a,c.resumeToken);const g=Nf(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Fc(a,c.snapshotVersion.toTimestamp());const g=Nf(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const i=jP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.c_(t)}}class IA extends u1{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=LP(e.writeResults,e.commitTime),i=Gr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Of(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>DP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Df(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(se.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,Df(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(se.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ri(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{go(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(f){const g=Ve(f);g.k_.add(4),await Bl(g),g.K_.set("Unknown"),g.k_.delete(4),await hd(g)}(this))})}),this.K_=new RA(i,o)}}async function hd(n){if(go(n))for(const e of n.q_)await e(!0)}async function Bl(n){for(const e of n.q_)await e(!1)}function c1(n,e){const t=Ve(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Sp(t)?Ip(t):xa(t).s_()&&xp(t,e))}function Tp(n,e){const t=Ve(n),i=xa(t);t.B_.delete(e),i.s_()&&d1(t,e),t.B_.size===0&&(i.s_()?i.a_():go(t)&&t.K_.set("Unknown"))}function xp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).V_(e)}function d1(n,e){n.U_.xe(e),xa(n).m_(e)}function Ip(n){n.U_=new SP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.K_.F_()}function Sp(n){return go(n)&&!xa(n).i_()&&n.B_.size>0}function go(n){return Ve(n).k_.size===0}function h1(n){n.U_=void 0}async function PA(n){n.K_.set("Online")}async function AA(n){n.B_.forEach((e,t)=>{xp(n,e)})}async function kA(n,e){h1(n),Sp(n)?(n.K_.O_(e),Ip(n)):n.K_.set("Unknown")}async function bA(n,e,t){if(n.K_.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(n,i)}else if(e instanceof vc?n.U_.$e(e):e instanceof Y_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const i=await a1(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(g);_&&a.B_.set(g,_.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,g)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),d1(a,f);const T=new ps(_.target,f,g,_.sequenceNumber);xp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await zc(n,i)}}async function zc(n,e,t){if(!Ta(e))throw e;n.k_.add(1),await Bl(n),n.K_.set("Offline"),t||(t=()=>a1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await hd(n)})}function f1(n,e){return e().catch(t=>zc(n,t,e))}async function fd(n){const e=Ve(n),t=Ss(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NA(e);)try{const o=await mA(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,DA(e,o)}catch(o){await zc(e,o)}p1(e)&&m1(e)}function NA(n){return go(n)&&n.L_.length<10}function DA(n,e){n.L_.push(e);const t=Ss(n);t.s_()&&t.f_&&t.g_(e.mutations)}function p1(n){return go(n)&&!Ss(n).i_()&&n.L_.length>0}function m1(n){Ss(n).start()}async function LA(n){Ss(n).w_()}async function OA(n){const e=Ss(n);for(const t of n.L_)e.g_(t.mutations)}async function MA(n,e,t){const i=n.L_.shift(),o=gp.from(i,e,t);await f1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await fd(n)}async function VA(n,e){e&&Ss(n).f_&&await async function(i,o){if(function(c){return TP(c)&&c!==se.ABORTED}(o.code)){const a=i.L_.shift();Ss(i).__(),await f1(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await fd(i)}}(n,e),p1(n)&&m1(n)}async function kv(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=go(t);t.k_.add(3),await Bl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await hd(t)}async function jA(n,e){const t=Ve(n);e?(t.k_.delete(2),await hd(t)):e||(t.k_.add(2),await Bl(t),t.K_.set("Unknown"))}function xa(n){return n.W_||(n.W_=function(t,i,o){const a=Ve(t);return a.b_(),new xA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:PA.bind(null,n),mo:AA.bind(null,n),po:kA.bind(null,n),R_:bA.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Sp(n)?Ip(n):n.K_.set("Unknown")):(await n.W_.stop(),h1(n))})),n.W_}function Ss(n){return n.G_||(n.G_=function(t,i,o){const a=Ve(t);return a.b_(),new IA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:LA.bind(null,n),po:VA.bind(null,n),p_:OA.bind(null,n),y_:MA.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await fd(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Rp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Ta(n))return new Se(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=cl(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new aa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.z_=new Rt(Ae.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ma{constructor(e,t,i,o,a,c,h,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ma(e,t,aa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class UA{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ve(t),a=o.queries;o.queries=Nv(),a.forEach((c,h)=>{for(const f of h.J_)f.onError(i)})})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function Nv(){return new po(n=>M_(n),od)}async function g1(n,e){const t=Ve(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new FA,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Cp(c,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Pp(t)}async function y1(n,e){const t=Ve(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function zA(n,e){const t=Ve(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&Pp(t)}function BA(n,e,t){const i=Ve(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Pp(n){n.X_.forEach(e=>{e.next()})}var Vf,Dv;(Dv=Vf||(Vf={})).na="default",Dv.Cache="cache";class v1{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ma(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class w1{constructor(e){this.key=e}}class $A{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=V_(e),this.ma=new aa(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new bv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const I=o.get(_),C=ad(this.query,T)?T:null,O=!!I&&this.mutatedKeys.has(I.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;I&&C?I.data.isEqual(C.data)?O!==z&&(i.track({type:3,doc:C}),N=!0):this.ya(I,C)||(i.track({type:2,doc:C}),N=!0,(f&&this.Va(C,f)>0||g&&this.Va(C,g)<0)&&(h=!0)):!I&&C?(i.track({type:0,doc:C}),N=!0):I&&!C&&(i.track({type:1,doc:I}),N=!0,(f||g)&&(h=!0)),N&&(C?(c=c.add(C),a=z?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,T)=>function(C,O){const z=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return z(C)-z(O)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,g=f!==this.Aa;return this.Aa=f,c.length!==0||g?{snapshot:new ma(this.query,e.ma,a,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new bv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new w1(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new _1(i))}),t}va(e){this.da=e.ds,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ma.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WA{constructor(e){this.key=e,this.Fa=!1}}class qA{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new po(h=>M_(h),od),this.Oa=new Map,this.Na=new Set,this.La=new Rt(Ae.comparator),this.Ba=new Map,this.ka=new _p,this.qa={},this.Qa=new Map,this.Ka=pa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function KA(n,e,t=!0){const i=R1(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await E1(i,e,t,!0),o}async function GA(n,e){const t=R1(n);await E1(t,e,!0,!1)}async function E1(n,e,t,i){const o=await gA(n.localStore,Kr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await QA(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&c1(n.remoteStore,o),h}async function QA(n,e,t,i,o){n.Ua=(T,I,C)=>async function(z,N,D,K){let Q=N.view.ga(D);Q.ss&&(Q=await Cv(z.localStore,N.query,!1).then(({documents:P})=>N.view.ga(P,Q)));const te=K&&K.targetChanges.get(N.targetId),F=K&&K.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(Q,z.isPrimaryClient,te,F);return Ov(z,N.targetId,oe.ba),oe.snapshot}(n,T,I,C);const a=await Cv(n.localStore,e,!0),c=new $A(e,a.ds),h=c.ga(a.documents),f=zl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(h,n.isPrimaryClient,f);Ov(n,t,g.ba);const _=new HA(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function YA(n,e,t){const i=Ve(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!od(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Mf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Tp(i.remoteStore,o.targetId),jf(i,o.targetId)}).catch(Ea)):(jf(i,o.targetId),await Mf(i.localStore,o.targetId,!0))}async function XA(n,e){const t=Ve(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Tp(t.remoteStore,i.targetId))}async function JA(n,e,t){const i=sk(n);try{const o=await function(c,h){const f=Ve(c),g=Ut.now(),_=h.reduce((C,O)=>C.add(O.key),We());let T,I;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=Ci(),z=We();return f.hs.getEntries(C,_).next(N=>{O=N,O.forEach((D,K)=>{K.isValidDocument()||(z=z.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,O)).next(N=>{T=N;const D=[];for(const K of h){const Q=yP(K,T.get(K.key).overlayedDocument);Q!=null&&D.push(new mo(K.key,Q,A_(Q.value.mapValue),Ti.exists(!0)))}return f.mutationQueue.addMutationBatch(C,g,D,h)}).next(N=>{I=N;const D=N.applyToLocalDocumentSet(T,z);return f.documentOverlayCache.saveOverlays(C,N.batchId,D)})}).then(()=>({batchId:I.batchId,changes:F_(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,f){let g=c.qa[c.currentUser.toKey()];g||(g=new Rt(Ge)),g=g.insert(h,f),c.qa[c.currentUser.toKey()]=g}(i,o.batchId,t),await $l(i,o.changes),await fd(i.remoteStore)}catch(o){const a=Cp(o,"Failed to persist write");t.reject(a)}}async function T1(n,e){const t=Ve(n);try{const i=await fA(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?lt(c.Fa):o.removedDocuments.size>0&&(lt(c.Fa),c.Fa=!1))}),await $l(t,i,e)}catch(i){await Ea(i)}}function Lv(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const f=Ve(c);f.onlineState=h;let g=!1;f.queries.forEach((_,T)=>{for(const I of T.J_)I.ea(h)&&(g=!0)}),g&&Pp(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ZA(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new Rt(Ae.comparator);c=c.insert(a,mn.newNoDocument(a,Oe.min()));const h=We().add(a),f=new cd(Oe.min(),new Map,new Rt(Ge),c,h);await T1(i,f),i.La=i.La.remove(a),i.Ba.delete(e),Ap(i)}else await Mf(i.localStore,e,!1).then(()=>jf(i,e,t)).catch(Ea)}async function ek(n,e){const t=Ve(n),i=e.batch.batchId;try{const o=await hA(t.localStore,e);I1(t,i,null),x1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await $l(t,o)}catch(o){await Ea(o)}}async function tk(n,e,t){const i=Ve(n);try{const o=await function(c,h){const f=Ve(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(T=>(lt(T!==null),_=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,e);I1(i,e,t),x1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await $l(i,o)}catch(o){await Ea(o)}}function x1(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function I1(n,e,t){const i=Ve(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||S1(n,i)})}function S1(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Tp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Ap(n))}function Ov(n,e,t){for(const i of t)i instanceof _1?(n.ka.addReference(i.key,e),nk(n,i)):i instanceof w1?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||S1(n,i.key)):De()}function nk(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),Ap(n))}function Ap(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(xt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new WA(t)),n.La=n.La.insert(t,i),c1(n.remoteStore,new ps(Kr(pp(t.path)),i,"TargetPurposeLimboResolution",nd.oe))}}async function $l(n,e,t){const i=Ve(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,f)=>{c.push(i.Ua(f,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ep.zi(f.targetId,g);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(f,g){const _=Ve(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,I=>ne.forEach(I.Wi,C=>_.persistence.referenceDelegate.addReference(T,I.targetId,C)).next(()=>ne.forEach(I.Gi,C=>_.persistence.referenceDelegate.removeReference(T,I.targetId,C)))))}catch(T){if(!Ta(T))throw T;ge("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const I=T.targetId;if(!T.fromCache){const C=_.us.get(I),O=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(I,z)}}}(i.localStore,a))}async function rk(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await o1(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new Se(se.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $l(t,i.Ts)}}function ik(n,e){const t=Ve(n),i=t.Ba.get(e);if(i&&i.Fa)return We().add(i.key);{let o=We();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function R1(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZA.bind(null,e),e.Ma.R_=zA.bind(null,e.eventManager),e.Ma.Wa=BA.bind(null,e.eventManager),e}function sk(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return dA(this.persistence,new uA,e.initialUser,this.serializer)}ja(e){return new s1(wp.ei,this.serializer)}za(e){return new vA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class ok extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){lt(this.persistence.referenceDelegate instanceof Uc);const i=this.persistence.referenceDelegate.garbageCollector;return new GP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new s1(i=>Uc.ei(i,t),this.serializer)}}class Ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),await jA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UA}()}createDatastore(e){const t=dd(e.databaseInfo.databaseId),i=function(a){return new TA(a)}(e.databaseInfo);return function(a,c,h,f){return new SA(a,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new CA(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Lv(this.syncEngine,t,0),function(){return Av.p()?new Av:new _A}())}createSyncEngine(e,t){return function(o,a,c,h,f,g,_){const T=new qA(o,a,c,h,f,g);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Bl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Cp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function uf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await o1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lk(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>kv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>kv(e.remoteStore,o)),n._onlineComponents=e}async function lk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await uf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await uf(n,new Bc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await uf(n,new ok(void 0));return n._offlineComponents}async function P1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Mv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Mv(n,new Ff))),n._onlineComponents}function uk(n){return P1(n).then(e=>e.syncEngine)}async function A1(n){const e=await P1(n),t=e.eventManager;return t.onListen=KA.bind(null,e.syncEngine),t.onUnlisten=YA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XA.bind(null,e.syncEngine),t}function ck(n,e,t={}){const i=new Ei;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,f,g){const _=new C1({next:I=>{_.eu(),c.enqueueAndForget(()=>y1(a,T));const C=I.docs.has(h);!C&&I.fromCache?g.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&I.fromCache&&f&&f.source==="server"?g.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new v1(pp(h.path),_,{includeMetadataChanges:!0,ua:!0});return g1(a,T)}(await A1(n),n.asyncQueue,e,t,i)),i.promise}function dk(n,e,t={}){const i=new Ei;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,f,g){const _=new C1({next:I=>{_.eu(),c.enqueueAndForget(()=>y1(a,T)),I.fromCache&&f.source==="server"?g.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new v1(h,_,{includeMetadataChanges:!0,ua:!0});return g1(a,T)}(await A1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e,t){if(!t)throw new Se(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hk(n,e,t,i){if(e===!0&&i===!0)throw new Se(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jv(n){if(!Ae.isDocumentKey(n))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fv(n){if(Ae.isDocumentKey(n))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function lo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kp(n);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new x2;switch(i.type){case"firstParty":return new C2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Vv.get(t);i&&(ge("ComponentProvider","Removing Datastore"),Vv.delete(t),i.terminate())}(this),Promise.resolve()}}function fk(n,e,t,i={}){var o;const a=(n=lo(n,pd))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=pn.MOCK_USER;else{h=yI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pn(g)}n._authCredentials=new I2(new S_(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new md(this.firestore,e,this._query)}}class qn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class vs extends md{constructor(e,t,i){super(e,t,pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ae(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function pk(n,e,...t){if(n=Mn(n),b1("collection","path",e),n instanceof pd){const i=xt.fromString(e,...t);return Fv(i),new vs(n,null,i)}{if(!(n instanceof qn||n instanceof vs))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return Fv(i),new vs(n.firestore,null,i)}}function N1(n,e,...t){if(n=Mn(n),arguments.length===1&&(e=R_.newId()),b1("doc","path",e),n instanceof pd){const i=xt.fromString(e,...t);return jv(i),new qn(n,null,new Ae(i))}{if(!(n instanceof qn||n instanceof vs))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return jv(i),new qn(n.firestore,n instanceof vs?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new l1(this,"async_queue_retry"),this.fu=()=>{const i=lf();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ei;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ta(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Ri("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Rp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class gd extends pd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new zv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function mk(n,e){const t=typeof n=="object"?n:C0(),i=typeof n=="string"?n:"(default)",o=Zf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=mI("firestore");a&&fk(o,...a)}return o}function bp(n){if(n._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gk(n),n._firestoreClient}function gk(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,g,_){return new B2(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,k1(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new ak(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(sn.fromBase64String(e))}catch(t){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}function L1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Op{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return $c(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(L1(this.Mu)&&yk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class _k{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||dd(e)}$u(e,t,i,o=!1){return new Op({Mu:e,methodName:t,Ku:i,path:rn.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wk(n){const e=n._freezeSettings(),t=dd(n._databaseId);return new _k(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ek(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);j1("Data must be an object, but it was:",c,i);const h=M1(i,c);let f,g;if(a.merge)f=new Ir(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const I=Tk(e,T,t);if(!c.contains(I))throw new Se(se.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ik(_,I)||_.push(I)}f=new Ir(_),g=c.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=c.fieldTransforms;return new vk(new rr(h),f,g)}function O1(n,e){if(V1(n=Mn(n)))return j1("Unsupported field value:",e,n),M1(n,e);if(n instanceof D1)return function(i,o){if(!L1(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let f=O1(h,o.ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Mn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ut.fromDate(i);return{timestampValue:Fc(o.serializer,a)}}if(i instanceof Ut){const a=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,a)}}if(i instanceof Dp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ga)return{bytesValue:J_(o.serializer,i._byteString)};if(i instanceof qn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Lp)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return mp(h.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${kp(i)}`)}(n,e)}function M1(n,e){const t={};return C_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,(i,o)=>{const a=O1(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function V1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Dp||n instanceof ga||n instanceof qn||n instanceof D1||n instanceof Lp)}function j1(n,e,t){if(!V1(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=kp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Tk(n,e,t){if((e=Mn(e))instanceof Np)return e._internalPath;if(typeof e=="string")return F1(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const xk=new RegExp("[~\\*/\\[\\]]");function F1(n,e,t){if(e.search(xk)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Np(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Se(se.INVALID_ARGUMENT,h+n+f)}function Ik(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Sk extends U1{data(){return super.data()}}function z1(n,e){return typeof e=="string"?F1(n,e):e instanceof Np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ck{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fo(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>bt(c.doubleValue));return new Lp(a)}convertGeoPoint(e){return new Dp(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=id(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);lt(i1(i));const o=new Sl(i.get(1),i.get(3)),a=new Ae(i.popFirst(5));return o.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B1 extends U1{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(z1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _c extends B1{data(e={}){return super.data(e)}}class Ak{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _c(this._firestore,this._userDataWriter,i.key,i,new hl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const f=new _c(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new _c(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:kk(h.type),doc:f,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){n=lo(n,qn);const e=lo(n.firestore,gd);return ck(bp(e),n._key).then(t=>Ok(e,n,t))}class $1 extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function Nk(n){n=lo(n,md);const e=lo(n.firestore,gd),t=bp(e),i=new $1(e);return Rk(n._query),dk(t,n._query).then(o=>new Ak(e,i,n,o))}function Dk(n,e,t){n=lo(n,qn);const i=lo(n.firestore,gd),o=Pk(n.converter,e);return Lk(i,[Ek(wk(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ti.none())])}function Lk(n,e){return function(i,o){const a=new Ei;return i.asyncQueue.enqueueAndForget(async()=>JA(await uk(i),o,a)),a.promise}(bp(n),e)}function Ok(n,e,t){const i=t.docs.get(e._key),o=new $1(n);return new B1(n,o,e._key,i,new hl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){wa=o})(va),la(new io("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new gd(new S2(i.getProvider("auth-internal")),new A2(i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(g.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),ys(iv,"4.7.5",e),ys(iv,"4.7.5","esm2017")})();const Mk={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},Vk=Jc(Mk),Mp=mk(Vk),jk=n=>({name:n.name,seasons:n.seasons.map(e=>({name:e.name,episodes:e.episodes,image:e.image})),images:n.images,categories:n.categories,description:n.description}),Fk=async(n,e="series")=>{const t=jk(n);try{const i=N1(Mp,e,n.name);await Dk(i,t)}catch(i){console.error("Error adding document: ",i)}},Uk=async(n,e,t,i)=>{let o=await Vp(i);return o!=null&&(o.seasons[e].episodes[t].comments.unshift(n),Fk(o,"series")),o.seasons[e].episodes[t].comments},Vp=async n=>{const e=N1(Mp,"series",n),t=await bk(e);let i;return t.exists()?i=H1(t.data()):console.log("No such document!"),i};function H1(n){const e=n.data();if(!e)throw new Error("Document data is undefined");return{name:e.name,seasons:e.seasons,categories:e.categories,description:e.description,images:e.images}}const jp=async(n="series")=>{let e=[];return(await Nk(pk(Mp,n))).forEach(i=>{try{e.push(H1(i))}catch{console.log("error al convertir documento a serie")}}),e},zk=({images:n})=>{const[e,t]=L.useState(0),i=()=>{t(a=>a===0?n.length-1:a-1)},o=()=>{t(a=>a===n.length-1?0:a+1)};return L.useEffect(()=>{const a=setInterval(()=>{t(c=>c===n.length-1?0:c+1)},4e3);return()=>clearInterval(a)},[n.length]),E.jsx("section",{className:"size-full",children:E.jsxs("div",{className:"relative size-full overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((a,c)=>E.jsxs(gn,{className:"w-full sm:h-[90%] flex sm:justify-center flex-shrink-0 group",to:a.url,children:[E.jsxs("picture",{className:"w-full flex relative",children:[E.jsx("img",{src:a.imgs[0],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover flex sm:hidden",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),E.jsx("img",{src:a.imgs[1],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover hidden sm:flex",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),E.jsx("span",{className:"absolute sm:hidden flex justify-center w-full bottom-6",children:E.jsx("h1",{className:"text-3xl text-white font-bold text-center truncate ",children:n[e].name})})]}),E.jsx("span",{className:"absolute hidden sm:flex justify-center w-full bottom-4",children:E.jsx("h1",{className:"text-3xl text-white font-bold text-center duration-300 truncate group-hover:text-rd group-hover:underline",children:n[e].name})})]},c))}),E.jsx("button",{onClick:i,className:"absolute flex  h-full items-center top-0 left-0 bg-gradient-to-r from-st/50 to-transparent text-white px-4",children:E.jsx(sI,{className:"text-5xl sm:text-transparent"})}),E.jsx("button",{onClick:o,className:"absolute flex h-full items-center top-0 right-0 bg-gradient-to-l from-st/50 to-transparent text-white px-4",children:E.jsx(oI,{className:"text-5xl sm:text-transparent"})}),E.jsx("div",{className:"absolute w-full  flex items-center justify-center bottom-0",children:E.jsx("ul",{className:" w-full max-w-[600px] flex items-center h-4 sm:h-[8px] p-1 justify-center sm:justify-evenly sm:px-10 gap-4",children:n.map((a,c)=>E.jsx("li",{onClick:()=>t(c),className:e===c?" w-4 h-4 sm:w-full sm:h-[8px] bg-gradient-to-br from-nd to-rd rounded-full sm:rounded-sm duration-300":"w-2 h-2 sm:w-full sm:h-[5px] bg-gradient-to-b from-zinc-300/75 to-transparent rounded-full sm:rounded-none cursor-pointer duration-300 hover:bg-yellow-500 hover:h-[8px]"},c))})})]})})},Bk={display:"block",margin:"0 auto",borderColor:"red"},$k=()=>{const[n,e]=L.useState(!0),[t,i]=L.useState([]),o={main:"flex items-center justify-center w-full h-[480px]"},a={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(L.useEffect(()=>{(async()=>{let h=[];(await jp("lastUpdated")).map(g=>{h.push({name:g.name?g.name:null,imgs:g.images,url:`/details/${g.name}`})}),i(h),e(!1)})()},[]),n)return E.jsx("div",{className:o.main,children:E.jsx(Cs,{color:a.color,loading:n,cssOverride:Bk,size:a.size,"aria-label":a.ariaLabel,"data-testid":a.dataTest,speedMultiplier:a.speed})});if(n===!1)return E.jsx("div",{className:o.main,children:E.jsx(zk,{images:t})})},yd=()=>{const n={main:"flex w-full px-4 py-10 bg-st-200 z-10",content:"w-full flex flex-col sm:flex-row gap-2 sm:justify-between items-center justify-center",dataBox:"flex flex-col items-center",title:"font-bold text-xl text-rd",txt:"text-gray-500 text-sm text-center font-light",socialMedia:"flex gap-4",mediaIcons:"text-5xl text-gray-500 cursor-pointer"};return E.jsx("section",{className:n.main,children:E.jsxs("div",{className:n.content,children:[E.jsxs("div",{className:n.dataBox,children:[E.jsx("h1",{className:n.title,children:"NekoStore"}),E.jsx("p",{className:n.txt,children:"ningún video se encuentra alojado en nuestros servidores."}),E.jsx("h5",{className:n.txt,children:"Anderson Ollarves Web 2025"})]}),E.jsxs("div",{className:n.socialMedia,children:[E.jsx(Xx,{className:n.mediaIcons}),E.jsx(Qx,{className:n.mediaIcons}),E.jsx(Jx,{className:n.mediaIcons})]})]})})},Hk=()=>{const[n,e]=L.useState([{}]),t={main:"flex flex-col size-full relative",content:"flex flex-col pt-[9vh] pb-20 gap-10 min-h-screen w-full bg-st-100"};return L.useEffect(()=>{(async()=>{const o=await jp("series");e(o)})()},[]),E.jsxs("div",{className:t.main,children:[E.jsxs("div",{className:t.content,children:[E.jsx($k,{}),n.length>=2?E.jsxs("div",{className:"flex flex-col gap-4 px-4 justify-center items-center",children:[E.jsx("span",{className:"w-full max-w-[1024px] p-3 bg-gradient-to-b from-rd to-nd rounded-t-2xl",children:E.jsx("h1",{className:"font-bold text-white tracking-widest text-lg text-center",children:"Ultimos subidos"})}),E.jsx(T2,{data:n})]}):""]}),E.jsx(yd,{})]})};function Bv(n){return Nt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(n)}const Wk=({type:n,DefaultValue:e,set:t})=>{const[i,o]=L.useState(0),[a,c]=L.useState(""),[h,f]=L.useState(""),[g,_]=L.useState(""),T=C=>{const O=C.target.value;o(O.length),t(O.length)},I={main:"relative h-16 flex items-end",title:"absolute top-0 text-gray-400 font-bold text-sm",input:"z-10 bg-transparent border-b-2 text-xl text-white outline-none w-full placeholder:text-red-400 placeholder:font-bold truncate ",inputNumber:`${i<8||i>50?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputEmail:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputName:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`};return L.useEffect(()=>{n==="name"&&(c("Nombre del usuario"),f("text"),_("Debe tener entre 6 y 50 caracteres.")),n==="phone"&&(c("Número de telefono"),f("number"),_("Debe tener entre 8 y 20 caracteres.")),n==="email"&&(c("Email"),f("email"),_("Debe tener entre 6 y 20 caracteres")),e!=null&&(o(e.length),e.length>6&&t(6))},[]),E.jsxs("div",{className:I.main,children:[E.jsx("h2",{className:I.title,children:a}),E.jsx("input",{className:n==="name"?`${I.input} ${I.inputName}`:n==="phone"?`${I.input} ${I.inputNumber}`:`${I.input} ${I.inputEmail}`,type:h,name:n,placeholder:g,defaultValue:e===null?"":e,onChange:C=>T(C)})]})},qk=["https://gif-avatars.com/img/150x150/solo-leveling.gif","https://media.tenor.com/lixfij0N8pUAAAAM/1235.gif","https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcW9xdmQyZm1hd2V4eDF0OHlsNzRmMGNiOTU0OW14bHZsZTd0MHowcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1lSSrYQUVY3WU/giphy.webp","https://c.tenor.com/33SEDySh9y4AAAAC/tenor.gif","https://media.tenor.com/Dad5rgWBv2cAAAAM/frieren-sousou.gif","https://media.tenor.com/OeH90hWmnL8AAAAM/frieren-frieren-beyond-journey's-end.gif"],Kk=({setProfileImage:n,image:e})=>{const[t,i]=L.useState(e),o=c=>{n(c),i(c)},a={main:"w-full h-[240px] overflow-hidden",content:"relative flex size-full top-0 left-0 overflow-hidden",profile:"scroll p-4 flex size-full overflow-auto gap-10 duration-300",background:"absolute scroll flex size-full overflow-auto gap-10 duration-300",items:"w-[100%] flex flex-col items-center justify-center cursor-pointer",imageBox:"size-28 flex rounded-full overflow-hidden border-[3px] duration-300",image:"size-full object-cover rounded-full",imageSelected:" border-rd size-44 border-4"};return E.jsx("section",{className:a.main,children:E.jsx("div",{className:a.content,children:E.jsx("ul",{className:a.profile,children:qk.map((c,h)=>E.jsx("li",{className:a.items,onClick:()=>{o(c)},children:E.jsx("picture",{className:`${a.imageBox} ${t===c?a.imageSelected:""}`,children:E.jsx("img",{className:a.image,src:c,alt:`slide-${h}-image`})})},h))})})})},$v=({isShow:n,setShow:e,profileImage:t,setProfileImage:i,backgroundImage:o,setBackgroundImage:a})=>{const[c,h]=L.useState(""),[f,g]=L.useState(""),_=()=>{a(f),i(c),m_(e,null,c)},T={main:`size-full relative ${n?"flex":"hidden"} items-center justify-center`,content:{main:"relative w-[80%] h-auto flex flex-col bg-st-200 rounded",content:"flex flex-col gap-3 items-center px-4 py-8",title:"text-white font-bold mt-10",headerOptions:"flex gap-4 relative",bottomMain:"flex flex-col w-full overflow-auto "},buttonBox:{main:"mt-4 w-full max-w-60",saveBtn:"rounded-lg bg-rd active:bg-nd hover:bg-nd size-full h-[55px] font-bold text-white"},closeBtn:"absolute text-2xl rounded-full p-1 bg-white hover:bg-rd hover:border-rd hover:text-white border top-2 right-2"};return L.useEffect(()=>{g(o),h(t)},[]),E.jsx("section",{className:T.main,children:E.jsxs("div",{className:T.content.main,children:[E.jsx("button",{className:T.closeBtn,onClick:()=>e(!1),children:E.jsx(Kx,{})}),E.jsxs("div",{className:T.content.content,children:[E.jsx("h1",{className:T.content.title,children:"EDITAR IMAGEN DE PERFIL"}),E.jsx("hr",{className:"my-2 w-[40%] h-[1px] bg-white"}),E.jsxs("div",{className:T.content.bottomMain,children:[E.jsx(Kk,{image:t,setProfileImage:h}),E.jsx("input",{type:"text",className:"hidden",name:"profile-image",defaultValue:t}),E.jsx("input",{type:"text",className:"hidden",name:"profile-background",defaultValue:o})]}),E.jsx("div",{className:T.buttonBox.main,children:E.jsx("button",{className:T.buttonBox.saveBtn,onClick:_,children:"GUARDAR CAMBIOS"})})]})]})})},Gk={display:"block",margin:"0 auto",borderColor:"red"},Qk=()=>{const n=ya(),[e,t]=L.useState(null),[i,o]=L.useState(!0),[a,c]=L.useState(!1),[h,f]=L.useState(""),[g,_]=L.useState(""),[T,I]=L.useState(0),[C,O]=L.useState(!0),[z,N]=L.useState(!1),D={main:"flex flex-col items-center justify-center w-full min-h-screen bg-st-100 z-50",content:"w-full mt-4 max-w-[400px] px-[36px] flex flex-col",title:"pb-6 sm:pb-6 text-white font-bold text-2xl text-center",contentBox:{main:"flex relative flex-col place-items-center w-full max-w-96 gap-2",topSide:"w-full flex items-center justify-center",imageBox:"relative size-[160px] rounded-full border-[3px] border-white",image:"size-full rounded-full object-cover",btnBox:"absolute -bottom-0 right-2 border-[4px] border-st-100 rounded-full p-2 bg-white text-2xl hover:text-rd hover:bg-gray-300",hr:"w-[15%] h-[1px] mt-10 mb-12 sm:mb-10 bg-gray-400",formMain:"flex flex-col gap-5 w-full ",dataBox:"flex flex-col w-full",titles:"text-gray-500 text-sm font-bold",data:"text-white text-lg sm:text-base",button:" w-full mt-6 sm:mt-8 h-[55px] sm:h-[45px] rounded-lg text-white font-bold text-lg bg-rd hover:bg-nd"},bottomSide:{main:"w-full flex gap-5 mt-4 font-bold",buttonSave:"w-full h-[55px] sm:h-[50px] text bg-rd hover:bg-nd text-white rounded-lg disabled:bg-gray-500",buttonCancel:"w-full h-[55px] sm:h-[50px] text bg-red-600  hover:bg-red-800  text-white  rounded-lg disabled:text-gray-400"},imageProfileEdit:`fixed top-0 left-0 bg-st-100/75 z-10 ${a?"w-full h-full":"w-0 h-0"} duration-300`},K={color:"#1e40af",size:120,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},Q=te=>{te.preventDefault();const oe=te.currentTarget.elements.name.value;m_(N,oe)};if(L.useEffect(()=>{o2(t,o,f)},[]),L.useEffect(()=>{T>=6?O(!0):O(!1)},[T]),i)return E.jsx("section",{className:D.main,children:E.jsx("div",{className:D.content+" items-center justify-center",children:E.jsx("div",{children:E.jsx(Cs,{color:K.color,loading:i,cssOverride:Gk,size:K.size,"aria-label":K.ariaLabel,"data-testid":K.dataTest,speedMultiplier:K.speed})})})});if(e===null&&n("/"),e&&z===!0)return E.jsx("section",{className:D.main,children:E.jsxs("div",{className:D.content,children:[E.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),E.jsxs("div",{className:D.contentBox.main,children:[E.jsxs("div",{className:D.contentBox.imageBox,children:[E.jsx("img",{className:D.contentBox.image,src:h,alt:"user-profile-image"}),E.jsx("button",{className:D.contentBox.btnBox,onClick:()=>c(!0),children:E.jsx(Bv,{})})]}),E.jsx("hr",{className:D.contentBox.hr}),E.jsxs(ro,{className:D.contentBox.formMain,onSubmit:Q,children:[E.jsx(Wk,{type:"name",DefaultValue:e.displayName,set:I}),E.jsxs("div",{className:D.bottomSide.main,children:[E.jsx("button",{className:D.bottomSide.buttonSave,type:"submit",disabled:!C,children:"GUARDAR"}),E.jsx("button",{className:D.bottomSide.buttonCancel,onClick:()=>N(!1),children:"CANCELAR"})]})]})]}),E.jsx("div",{className:D.imageProfileEdit,children:E.jsx($v,{setBackgroundImage:_,backgroundImage:g,profileImage:h,setProfileImage:f,isShow:a,setShow:c})})]})});if(e&&z===!1)return E.jsx("section",{className:D.main,children:E.jsxs("div",{className:D.content,children:[E.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),E.jsxs("div",{className:D.contentBox.main,children:[E.jsx("div",{className:D.contentBox.topSide,children:E.jsxs("picture",{className:D.contentBox.imageBox,children:[E.jsx("img",{className:D.contentBox.image,src:h,alt:"user-profile-image"}),E.jsx("button",{className:D.contentBox.btnBox,onClick:()=>c(!0),children:E.jsx(Bv,{})})]})}),E.jsx("hr",{className:D.contentBox.hr}),E.jsxs("div",{className:D.contentBox.main,children:[E.jsxs("span",{className:D.contentBox.dataBox,children:[E.jsx("h2",{className:D.contentBox.titles,children:"Nombre de usuario"}),E.jsx("h4",{className:D.contentBox.data,children:e.displayName===null?"Sin nombre de usuario":e.displayName})]}),E.jsxs("span",{className:D.contentBox.dataBox,children:[E.jsx("h2",{className:D.contentBox.titles,children:"Email"}),E.jsx("h4",{className:D.contentBox.data,children:e.email===null?"Sin Email":e.email})]}),E.jsx("button",{className:D.contentBox.button,onClick:()=>N(!0),children:"EDITAR"})]})]}),E.jsx("div",{className:D.imageProfileEdit,children:E.jsx($v,{setBackgroundImage:_,backgroundImage:g,profileImage:h,setProfileImage:f,isShow:a,setShow:c})})]})})},Yk=({name:n,description:e,categories:t})=>{const i={main:"flex w-full h-auto bg-st-200/80 z-10 rounded-lg sm:col-span-2",content:"flex flex-col w-full gap-4 p-4 ",title:"text-3xl text-center text-white font-bold",description:"px-2 scroll font-light text-sm text-gray-400 overflow-auto max-h-32",categoriesList:{main:"flex flex-wrap px-2 gap-x-4 gap-y-2",items:"bg-rd px-1 rounded text-sm"}};return E.jsx("section",{className:i.main,children:E.jsxs("div",{className:i.content,children:[E.jsx("h1",{className:i.title,children:n}),E.jsx("ul",{className:i.categoriesList.main,children:t.map((o,a)=>E.jsx("li",{className:i.categoriesList.items,children:o},a))}),E.jsx("p",{className:i.description,children:e})]})})},Xk=({image:n,name:e})=>{const t={main:"flex w-full h-auto justify-center z-10",imageBox:"flex size-full max-w-[300px] ",image:"size-full object-cover rounded-lg"};return E.jsx("div",{className:t.main,children:E.jsx("picture",{className:t.imageBox,children:E.jsx("img",{className:t.image,src:n,alt:`${e}-poster`})})})},Jk=({episode:n,image:e,name:t,id:i,season:o})=>{const a={main:"w-full flex",content:"grid grid-cols-[20%_80%] w-full h-14 group",imageBox:"size-full overflow-hidden rounded-lg",image:"size-full object-cover",titleBox:"flex p-1 items-center",title:"text-gray-400 group-hover:text-rd"};return E.jsx(gn,{className:a.main,to:`/media/${i}/${o}/${n}`,children:E.jsxs("div",{className:a.content,children:[E.jsx("picture",{className:a.imageBox,children:E.jsx("img",{className:a.image,src:e,alt:`${t}-poster`})}),E.jsx("span",{className:a.titleBox,children:E.jsxs("h1",{className:a.title,children:["Episodio ",n]})})]})})},W1=({data:n,index:e,id:t})=>{const[i,o]=L.useState(!1),a={main:"flex z-10 ",titleBox:{main:"flex w-full justify-between p-2",title:`${i?"text-rd":"text-white"} duration-300`,icon:`text-xl ${i?"text-rd -rotate-90":"text-white rotate-90"} duration-300`},list:{main:`w-full gap-2 ${i?"flex flex-col":"hidden"} scroll max-h-[200px] overflow-auto`}};return E.jsx("div",{className:a.main,children:E.jsxs("div",{className:"flex flex-col w-full",children:[E.jsxs("button",{className:a.titleBox.main,onClick:()=>o(!i),children:[E.jsx("h1",{className:a.titleBox.title,children:n.name?n.name:`Temporada ${e+1}`}),E.jsx("span",{className:a.titleBox.icon,children:E.jsx(v0,{})})]}),E.jsx("ul",{className:a.list.main,children:n.episodes.map((c,h)=>E.jsx("li",{children:E.jsx(Jk,{name:n.name,episode:h+1,season:e,id:t,image:n.image})},h))})]})})},Zk={display:"block",margin:"0 auto",borderColor:"red"},eb=()=>{const{id:n}=Qc(),[e,t]=L.useState(!0),[i,o]=L.useState(null),a={main:"w-full min-h-screen bg-st-100 flex flex-col items-center",content:"relative size-full max-w-[800px] z-10 grid sm:grid-cols-2 p-5 pb-20 mt-[9vh] gap-y-10 gap-x-5 sm:items-start",seasonBox:"Scroll flex flex-col gap-2 max-h-[600px] z-10 bg-st-200/80 p-2 rounded-lg overflow-auto",notFound:{main:"w-full min-h-screen p-10 gap-10 flex flex-col items-center justify-center",title1:"text-6xl text-white",title2:"text-xl text-center text-gray-400",button:"flex items-center justify-center bg-rd h-[55px] w-full rounded-lg text-white uppercase text-xl"},background:{main:"fixed flex top-[9vh] left-0 w-full min-h-screen z-0 opacity-50",image:"w-full min-h-screen object-cover z-0"},spinner:"size-full min-h-screen flex items-center justify-center"},c={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(L.useEffect(()=>{(async()=>{try{if(n!=null){const f=await Vp(n);o(f),t(!1)}}catch(f){console.log("error: "+f),t(!1)}})()},[n]),e)return E.jsx("section",{className:a.main,children:E.jsx("div",{className:a.spinner,children:E.jsx(Cs,{color:c.color,loading:e,cssOverride:Zk,size:c.size,"aria-label":c.ariaLabel,"data-testid":c.dataTest,speedMultiplier:c.speed})})});if(i==null)return E.jsx("section",{className:a.main,children:E.jsxs("div",{className:a.notFound.main,children:[E.jsx("h3",{className:a.notFound.title1,children:"Opps..."}),E.jsx("h3",{className:a.notFound.title2,children:"Lo sentimos, no hemos conseguido la serie que buscas."}),E.jsx(gn,{className:a.notFound.button,to:"/",children:"Volver al inicio"})]})});if(e===!1&&i!==null||i!==void 0)return E.jsxs("section",{className:a.main,children:[E.jsxs("div",{className:a.content,children:[E.jsx("div",{className:a.background.main,children:E.jsx("img",{loading:"lazy",className:a.background.image,src:i.images[2]?i.images[2]:"",alt:i.name?`${i.name}-background`:"background"})}),E.jsx(Yk,{name:i.name,description:i.description,categories:i.categories}),E.jsx(Xk,{name:i.name,image:i.images[0]}),E.jsx("ul",{className:a.seasonBox,children:i.seasons.map((h,f)=>E.jsx("li",{children:E.jsx(W1,{data:h,index:f,id:i.name})},f))})]}),E.jsx(yd,{})]})},tb=({url:n})=>{const[e,t]=L.useState(""),i={main:"size-full flex",mediaPlayer:"size-full min-h-[300px] md:h-full max-h-[340px]"};return L.useEffect(()=>{t(n)},[n]),E.jsx("div",{children:E.jsx("iframe",{className:i.mediaPlayer,src:e})})},nb={display:"block",margin:"0 auto",borderColor:"red"},rb=({setComments:n})=>{const{id:e,season:t,episode:i}=Qc(),[o,a]=L.useState(!0),[c,h]=L.useState(null),f={main:"w-full bg-st-100 rounded",form:"flex relative h-20 p-2",input:"bg-transparent size-full text-start text-lg text-white overflow-auto outline-none Scroll",submit:"absolute bottom-0 right-0 w-24 text-white uppercase rounded bg-rd",spinnerMain:"",spinner:"py-4 size-full"},g={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},_=async T=>{T.preventDefault(),a(!0);const C=new FormData(T.currentTarget).get("comment"),O=Number(t),z=Number(i)-1,N=String(e);if(c!=null){const D={comment:C,userName:c.displayName,userImage:c.photoURL,date:new Date().toISOString()},K=await Uk(D,O,z,N);n(K),a(!1)}};if(L.useEffect(()=>{},[e,t,i]),L.useEffect(()=>{(async()=>{p_(h),a(!1)})()},[c]),o)return E.jsx("section",{className:f.spinnerMain,children:E.jsx("div",{className:f.spinner,children:E.jsx(Cs,{color:g.color,loading:o,cssOverride:nb,size:g.size,"aria-label":g.ariaLabel,"data-testid":g.dataTest,speedMultiplier:g.speed})})});if(o===!1&&c!=null)return E.jsx("div",{className:f.main,children:E.jsxs(ro,{className:f.form,onSubmit:T=>_(T),children:[E.jsx("textarea",{name:"comment",placeholder:"Escribe tu comentario...",className:f.input}),E.jsx("button",{className:f.submit,type:"submit",children:"Enviar"})]})});if(o===!1&&c===null)return E.jsx("section",{className:f.main,children:E.jsxs("div",{className:"flex flex-col gap-4 p-2",children:[E.jsx("h1",{className:"text-lg text-white",children:"Para poder dejar comentarios debes iniciar sesion."}),E.jsx(gn,{className:"flex bg-rd rounded text-white text-lg w-full justify-center font-bold",to:"/login",children:"Iniciar sesion"})]})})},ib=({data:n})=>{const[e,t]=L.useState(!0),[i,o]=L.useState(null),a={main:"w-full min-h-20 bg-st-200 rounded-lg",content:"flex flex-col p-2 gap-4",title:"text-xl font-bold text-white",list:"scroll flex flex-col w-full max-h-[200px] overflow-auto gap-2",notComments:"text-lg text-white text-center",comments:{main:"grid grid-cols-[15%_85%] w-full",imageBox:"size-full p-1 max-h-14 flex ",image:"size-full object-cover",dataBox:"flex flex-col px-2",titleBox:"flex w-full justify-between items-center border-b border-gray-400",userName:"text-lg md:text-base font-bold text-rd",date:"text-gray-400 md:text-sm",text:"p-1 leading-4 text-gray-400 md:text-sm"}},c=g=>{let _=new Date(g);const T=h(new Date),I=h(_),C=f(_);if(n!==null)return T===I?(console.log(C),C):(console.log(I),I)},h=g=>{let _=String(g.getDate()).padStart(2,"0"),T=String(g.getMonth()+1).padStart(2,"0"),I=g.getFullYear();return`${_}:${T}:${I}`},f=g=>{let _=g.getHours(),T=String(g.getMinutes()).padStart(2,"0"),I=_>=12?"PM":"AM";return _=_%12,_=_||12,`${String(_).padStart(2,"0")}:${T} ${I}`};if(L.useEffect(()=>{o(n),t(!1)},[n]),e)return E.jsx("section",{children:E.jsx("div",{})});if(e===!1)return E.jsx("section",{className:a.main,children:E.jsxs("div",{className:a.content,children:[E.jsx("div",{children:E.jsx(rb,{setComments:o})}),E.jsx("h1",{className:a.title,children:"Comentarios"}),i!=null?E.jsx("ul",{className:a.list,children:i.length<=0?E.jsx(E.Fragment,{children:E.jsx("h1",{className:a.notComments,children:"Sin comentarios para mostrar."})}):E.jsx(E.Fragment,{children:i.map((g,_)=>E.jsxs("li",{className:a.comments.main,children:[E.jsx("picture",{className:a.comments.imageBox,children:E.jsx("img",{className:a.comments.image,src:g.userImage,alt:`${g.userName}-image-profile`})}),E.jsxs("div",{className:a.comments.dataBox,children:[E.jsxs("span",{className:a.comments.titleBox,children:[E.jsx("h1",{className:a.comments.userName,children:g.userName}),E.jsx("h4",{className:a.comments.date,children:c(g.date)})]}),E.jsx("p",{className:a.comments.text,children:g.comment})]})]},_))})}):E.jsxs("div",{className:"w-full p-2",children:[E.jsx("h1",{className:"text-gray-400 text-lg text-center",children:"Sin comentarios."}),E.jsx("h2",{className:"text-gray-400 text-lg text-center",children:"Sé el primero en comentar!"})]})]})})},sb={display:"block",margin:"0 auto",borderColor:"red"},ob=()=>{const{id:n,season:e,episode:t}=Qc(),i=ya(),[o,a]=L.useState(null),[c,h]=L.useState(null),[f,g]=L.useState(""),[_,T]=L.useState(!0),[I,C]=L.useState(!1),[O,z]=L.useState(!1),N={main:"w-full min-h-screen bg-st-100 flex flex-col",content:"flex flex-col w-full min-h-screen mt-[9vh] pb-20",videoPlayer:{main:"flex flex-col w-full overflow-hidden",bottomBox:"flex w-full h-8 justify-between bg-st-200 px-2",buttons:"size-8 flex justify-center items-center",icons:"text-2xl text-white hover:text-rd active:text-yellow-500",Xbtn:"cursor-no-drop",XbtnIcon:"text-red-500 text-2xl"},bottomSide:{main:"flex w-full justify-center",content:"flex flex-col w-full p-4 gap-10 max-w-[1024px]",seasonBox:"Scroll flex flex-col gap-2 max-h-[600px] z-10 bg-st-200/80 p-2 rounded-lg overflow-auto"},spinner:"size-full min-h-screen flex items-center justify-center"},D={color:"#1e40af",size:140,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},K=()=>{const P=Number(e),x=Number(t);c!=null&&(c.seasons[P].episodes.length===x?C(!0):C(!1),x-1===0?z(!0):z(!1))},Q=()=>{const P=Number(e),x=Number(t)-1;if(c!=null){const R=c.seasons[P].episodes[x].comments;a(R),i(`/media/${n}/${e}/${t}`)}},te=P=>{const x=Number(e),R=Number(t)-1;return P.seasons[x].episodes[R].url},F=()=>{const P=Number(t)+1;c!=null&&i(`/media/${c.name}/${e}/${P}`)},oe=()=>{const P=Number(t)-1;c!=null&&i(`/media/${c.name}/${e}/${P}`)};if(L.useEffect(()=>{(async()=>{try{if(n!=null){const x=await Vp(n);h(x);const R=te(x);R!=null||R!=null?g(R):g(""),Q(),T(!1)}}catch(x){console.log("error: "+x),T(!1)}K()})()},[n,e,t]),L.useEffect(()=>{K()},[t]),_)return E.jsx("section",{className:N.main,children:E.jsx("div",{className:N.spinner,children:E.jsx(Cs,{color:D.color,loading:_,cssOverride:sb,size:D.size,"aria-label":D.ariaLabel,"data-testid":D.dataTest,speedMultiplier:D.speed})})});if(_===!1)return E.jsxs("section",{className:N.main,children:[E.jsxs("div",{className:N.content,children:[E.jsxs("div",{className:N.videoPlayer.main,children:[E.jsx(tb,{url:f}),E.jsxs("span",{className:N.videoPlayer.bottomBox,children:[O?E.jsx("button",{className:N.videoPlayer.Xbtn,disabled:!0,children:E.jsx(Sy,{className:N.videoPlayer.XbtnIcon})}):E.jsx("button",{className:N.videoPlayer.buttons,onClick:oe,children:E.jsx(rI,{className:N.videoPlayer.icons})}),I?E.jsx("button",{className:N.videoPlayer.Xbtn,disabled:!0,children:E.jsx(Sy,{className:N.videoPlayer.XbtnIcon})}):E.jsx("button",{className:N.videoPlayer.buttons,onClick:F,children:E.jsx(iI,{className:N.videoPlayer.icons})})]})]}),E.jsx("section",{className:N.bottomSide.main,children:E.jsxs("div",{className:N.bottomSide.content,children:[c!=null&&E.jsx(ib,{data:o}),c!=null&&E.jsx("ul",{className:N.bottomSide.seasonBox,children:c.seasons.map((P,x)=>E.jsx("li",{children:E.jsx(W1,{data:P,index:x,id:P.name})},x))})]})})]}),E.jsx(yd,{})]})},ab=({data:n,isAList:e})=>{const t={main:"rounded bg-st-200 group shadow-[0px_0px_12px_0px] shadow-transparent hover:shadow-rd duration-300",content:"grid grid-cols-[30%_70%] h-[160px] w-full",imageBox:"flex size-full overflow-hidden rounded-l",image:"flex size-full object-cover",title:"flex text-lg items-center col-span-2 font-bold truncate text-white group-hover:text-rd duration-300",dataBox:"grid grid-cols-2 grid-rows-[15%_25%_60%] h-[160px] p-2",dataCategoriesList:"col-span-2 flex flex-wrap items-center gap-x-2 gap-y-1",dataCategoriesItem:"px-1 leading-6 bg-rd text-sm rounded",dataSeasonsEpBox:"flex items-center gap-2 col-span-2",dataSeasonsEpTitle:"text-lg font-bold text-gray-500",dataSeasonsEpValue:"text-lg font-bold text-gray-400"},i={main:"group size-full",content:"relative h-[240px] flex items-end justify-end rounded overflow-hidden",imageBox:"absolute z-0 size-full left-0 top-0",image:"size-full object-cover",titleBox:"w-full z-10 p-2",title:"font-bold text-center text-white group-hover:text-rd"};return e?E.jsx("div",{className:t.main,children:E.jsxs(gn,{className:t.content,to:`/details/${n.name}`,children:[E.jsx("picture",{className:t.imageBox,children:E.jsx("img",{className:t.image,src:n.images[0],alt:"",loading:"lazy"})}),E.jsxs("div",{className:t.dataBox,children:[E.jsx("h1",{className:t.title,children:n.name}),E.jsxs("div",{className:t.dataSeasonsEpBox,children:[E.jsx("h2",{className:t.dataSeasonsEpTitle,children:"Temporadas:"}),E.jsx("h3",{className:t.dataSeasonsEpValue,children:n.seasons.length})]}),E.jsx("ul",{className:t.dataCategoriesList,children:n.categories.map(o=>E.jsx("li",{className:t.dataCategoriesItem,children:o},o))})]})]})}):E.jsx("div",{className:i.main,children:E.jsxs(gn,{className:i.content,to:`/details/${n.name}`,children:[E.jsx("picture",{className:i.imageBox,children:E.jsx("img",{className:i.image,src:n.images[0],alt:"",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)"}})}),E.jsx("span",{className:i.titleBox,children:E.jsx("h1",{className:i.title,children:n.name})})]})})},lb={display:"block",margin:"0 auto",borderColor:"red"},ub=()=>{const{value:n}=Qc(),[e,t]=L.useState(!0),[i,o]=L.useState(null),[a,c]=L.useState(!0),h={main:"flex w-full min-h-screen",content:"flex flex-col size-full pt-24 sm:pt-20 px-4 pb-20 gap-5",titleBox:"flex flex-wrap gap-2 text-lg",title:"text-white",searchValue:"font-bold text-white",list:`grid ${a?"grid-auto-rows sm:grid-cols-2 gap-4 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4  gap-4"}`,spinner:"flex size-full h-screen size-full justify-center items-center",selecter:{main:"bg-st-200 w-20 flex rounded-full overflow-hidden text-xl",button:"w-full flex items-center justify-center text-gray-400 p-1",selected:"w-full flex items-center justify-center p-1 bg-rd text-white"}},f={color:"#1e40af",size:160,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function g(_,T){return _.filter(I=>I.name.toLowerCase().includes(T.toLowerCase())||I.categories.some(C=>C.toLowerCase().includes(T.toLowerCase())))}if(L.useEffect(()=>{(async()=>{t(!0);const T=await jp();if(n!=null||n!=null){const I=g(T,n);o(I),t(!1)}})()},[n]),e)return E.jsx("section",{className:h.main,children:E.jsx("div",{className:h.spinner,children:E.jsx(Cs,{color:f.color,loading:e,cssOverride:lb,size:f.size,"aria-label":f.ariaLabel,"data-testid":f.dataTest,speedMultiplier:f.speed})})});if(e===!1)return E.jsx("section",{className:h.main,children:E.jsxs("div",{className:h.content,children:[E.jsxs("span",{className:h.titleBox,children:[E.jsx("h1",{className:h.title,children:"Resultados para la busqueda de:"}),E.jsx("h2",{className:h.searchValue,children:n})]}),i!=null&&i.length>0&&E.jsxs("span",{className:h.selecter.main,children:[E.jsx("button",{className:a?h.selecter.button:h.selecter.selected,onClick:()=>c(!1),children:E.jsx(y0,{})}),E.jsx("button",{className:a?h.selecter.selected:h.selecter.button,onClick:()=>c(!0),children:E.jsx(Zx,{})})]}),E.jsx("ul",{className:h.list,children:i!=null&&i.length>0?E.jsx(E.Fragment,{children:i.map((_,T)=>E.jsx("li",{className:"size-full",children:E.jsx(ab,{data:_,isAList:a})},T))}):""})]})})},cb=()=>{const n={main:"w-full min-h-screen bg-st-100",content:"flex flex-col size-full min-h-screen"};return E.jsx("section",{className:n.main,children:E.jsxs("div",{className:n.content,children:[E.jsx(ub,{}),E.jsx(yd,{})]})})},db=Cx([{path:"/",element:E.jsx(c2,{}),children:[{index:!0,element:E.jsx(Hk,{})},{path:"/login",element:E.jsx(y2,{})},{path:"/register",element:E.jsx(w2,{})},{path:"/edit-profile",element:E.jsx(Qk,{})},{path:"/details/:id",element:E.jsx(eb,{})},{path:"/media/:id/:season/:episode",element:E.jsx(ob,{})},{path:"/search/:value",element:E.jsx(cb,{})}]}]);nE.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(Fx,{router:db})}));
