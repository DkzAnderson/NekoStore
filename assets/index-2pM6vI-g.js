(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function dE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zh={exports:{}},rl={},ef={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function hE(){if(oy)return ze;oy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function b($,Z,we){this.props=$,this.context=Z,this.refs=M,this.updater=we||R}b.prototype.isReactComponent={},b.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},b.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function D(){}D.prototype=b.prototype;function K($,Z,we){this.props=$,this.context=Z,this.refs=M,this.updater=we||R}var Q=K.prototype=new D;Q.constructor=K,A(Q,b.prototype),Q.isPureReactComponent=!0;var te=Array.isArray,U=Object.prototype.hasOwnProperty,oe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I($,Z,we){var Me,Le={},$e=null,Ze=null;if(Z!=null)for(Me in Z.ref!==void 0&&(Ze=Z.ref),Z.key!==void 0&&($e=""+Z.key),Z)U.call(Z,Me)&&!P.hasOwnProperty(Me)&&(Le[Me]=Z[Me]);var et=arguments.length-2;if(et===1)Le.children=we;else if(1<et){for(var je=Array(et),mt=0;mt<et;mt++)je[mt]=arguments[mt+2];Le.children=je}if($&&$.defaultProps)for(Me in et=$.defaultProps,et)Le[Me]===void 0&&(Le[Me]=et[Me]);return{$$typeof:n,type:$,key:$e,ref:Ze,props:Le,_owner:oe.current}}function C($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function F($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(we){return Z[we]})}var B=/\/+/g;function N($,Z){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Z.toString(36)}function ht($,Z,we,Me,Le){var $e=typeof $;($e==="undefined"||$e==="boolean")&&($=null);var Ze=!1;if($===null)Ze=!0;else switch($e){case"string":case"number":Ze=!0;break;case"object":switch($.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=$,Le=Le(Ze),$=Me===""?"."+N(Ze,0):Me,te(Le)?(we="",$!=null&&(we=$.replace(B,"$&/")+"/"),ht(Le,Z,we,"",function(mt){return mt})):Le!=null&&(O(Le)&&(Le=C(Le,we+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+$)),Z.push(Le)),1;if(Ze=0,Me=Me===""?".":Me+":",te($))for(var et=0;et<$.length;et++){$e=$[et];var je=Me+N($e,et);Ze+=ht($e,Z,we,je,Le)}else if(je=x($),typeof je=="function")for($=je.call($),et=0;!($e=$.next()).done;)$e=$e.value,je=Me+N($e,et++),Ze+=ht($e,Z,we,je,Le);else if($e==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Be($,Z,we){if($==null)return $;var Me=[],Le=0;return ht($,Me,"","",function($e){return Z.call(we,$e,Le++)}),Me}function wt($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(we){($._status===0||$._status===-1)&&($._status=1,$._result=we)},function(we){($._status===0||$._status===-1)&&($._status=2,$._result=we)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var Ue={current:null},le={transition:null},Te={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:le,ReactCurrentOwner:oe};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Be,forEach:function($,Z,we){Be($,function(){Z.apply(this,arguments)},we)},count:function($){var Z=0;return Be($,function(){Z++}),Z},toArray:function($){return Be($,function(Z){return Z})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ze.Component=b,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=K,ze.StrictMode=i,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,ze.act=he,ze.cloneElement=function($,Z,we){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Me=A({},$.props),Le=$.key,$e=$.ref,Ze=$._owner;if(Z!=null){if(Z.ref!==void 0&&($e=Z.ref,Ze=oe.current),Z.key!==void 0&&(Le=""+Z.key),$.type&&$.type.defaultProps)var et=$.type.defaultProps;for(je in Z)U.call(Z,je)&&!P.hasOwnProperty(je)&&(Me[je]=Z[je]===void 0&&et!==void 0?et[je]:Z[je])}var je=arguments.length-2;if(je===1)Me.children=we;else if(1<je){et=Array(je);for(var mt=0;mt<je;mt++)et[mt]=arguments[mt+2];Me.children=et}return{$$typeof:n,type:$.type,key:Le,ref:$e,props:Me,_owner:Ze}},ze.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ze.createElement=I,ze.createFactory=function($){var Z=I.bind(null,$);return Z.type=$,Z},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:h,render:$}},ze.isValidElement=O,ze.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:wt}},ze.memo=function($,Z){return{$$typeof:g,type:$,compare:Z===void 0?null:Z}},ze.startTransition=function($){var Z=le.transition;le.transition={};try{$()}finally{le.transition=Z}},ze.unstable_act=he,ze.useCallback=function($,Z){return Ue.current.useCallback($,Z)},ze.useContext=function($){return Ue.current.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($){return Ue.current.useDeferredValue($)},ze.useEffect=function($,Z){return Ue.current.useEffect($,Z)},ze.useId=function(){return Ue.current.useId()},ze.useImperativeHandle=function($,Z,we){return Ue.current.useImperativeHandle($,Z,we)},ze.useInsertionEffect=function($,Z){return Ue.current.useInsertionEffect($,Z)},ze.useLayoutEffect=function($,Z){return Ue.current.useLayoutEffect($,Z)},ze.useMemo=function($,Z){return Ue.current.useMemo($,Z)},ze.useReducer=function($,Z,we){return Ue.current.useReducer($,Z,we)},ze.useRef=function($){return Ue.current.useRef($)},ze.useState=function($){return Ue.current.useState($)},ze.useSyncExternalStore=function($,Z,we){return Ue.current.useSyncExternalStore($,Z,we)},ze.useTransition=function(){return Ue.current.useTransition()},ze.version="18.3.1",ze}var ay;function tp(){return ay||(ay=1,ef.exports=hE()),ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function fE(){if(ly)return rl;ly=1;var n=tp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,g){var _,T={},x=null,R=null;g!==void 0&&(x=""+g),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(R=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(T[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:h,key:x,ref:R,props:T,_owner:o.current}}return rl.Fragment=t,rl.jsx=u,rl.jsxs=u,rl}var uy;function pE(){return uy||(uy=1,Zh.exports=fE()),Zh.exports}var w=pE(),L=tp();const it=dE(L);var rc={},tf={exports:{}},On={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function mE(){return cy||(cy=1,function(n){function e(le,Te){var he=le.length;le.push(Te);e:for(;0<he;){var $=he-1>>>1,Z=le[$];if(0<o(Z,Te))le[$]=Te,le[he]=Z,he=$;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Te=le[0],he=le.pop();if(he!==Te){le[0]=he;e:for(var $=0,Z=le.length,we=Z>>>1;$<we;){var Me=2*($+1)-1,Le=le[Me],$e=Me+1,Ze=le[$e];if(0>o(Le,he))$e<Z&&0>o(Ze,Le)?(le[$]=Ze,le[$e]=he,$=$e):(le[$]=Le,le[Me]=he,$=Me);else if($e<Z&&0>o(Ze,he))le[$]=Ze,le[$e]=he,$=$e;else break e}}return Te}function o(le,Te){var he=le.sortIndex-Te.sortIndex;return he!==0?he:le.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],_=1,T=null,x=3,R=!1,A=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(le){for(var Te=t(g);Te!==null;){if(Te.callback===null)i(g);else if(Te.startTime<=le)i(g),Te.sortIndex=Te.expirationTime,e(f,Te);else break;Te=t(g)}}function te(le){if(M=!1,Q(le),!A)if(t(f)!==null)A=!0,wt(U);else{var Te=t(g);Te!==null&&Ue(te,Te.startTime-le)}}function U(le,Te){A=!1,M&&(M=!1,D(I),I=-1),R=!0;var he=x;try{for(Q(Te),T=t(f);T!==null&&(!(T.expirationTime>Te)||le&&!F());){var $=T.callback;if(typeof $=="function"){T.callback=null,x=T.priorityLevel;var Z=$(T.expirationTime<=Te);Te=n.unstable_now(),typeof Z=="function"?T.callback=Z:T===t(f)&&i(f),Q(Te)}else i(f);T=t(f)}if(T!==null)var we=!0;else{var Me=t(g);Me!==null&&Ue(te,Me.startTime-Te),we=!1}return we}finally{T=null,x=he,R=!1}}var oe=!1,P=null,I=-1,C=5,O=-1;function F(){return!(n.unstable_now()-O<C)}function B(){if(P!==null){var le=n.unstable_now();O=le;var Te=!0;try{Te=P(!0,le)}finally{Te?N():(oe=!1,P=null)}}else oe=!1}var N;if(typeof K=="function")N=function(){K(B)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,Be=ht.port2;ht.port1.onmessage=B,N=function(){Be.postMessage(null)}}else N=function(){b(B,0)};function wt(le){P=le,oe||(oe=!0,N())}function Ue(le,Te){I=b(function(){le(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){A||R||(A=!0,wt(U))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(x){case 1:case 2:case 3:var Te=3;break;default:Te=x}var he=x;x=Te;try{return le()}finally{x=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Te){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var he=x;x=le;try{return Te()}finally{x=he}},n.unstable_scheduleCallback=function(le,Te,he){var $=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?$+he:$):he=$,le){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,le={id:_++,callback:Te,priorityLevel:le,startTime:he,expirationTime:Z,sortIndex:-1},he>$?(le.sortIndex=he,e(g,le),t(f)===null&&le===t(g)&&(M?(D(I),I=-1):M=!0,Ue(te,he-$))):(le.sortIndex=Z,e(f,le),A||R||(A=!0,wt(U))),le},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(le){var Te=x;return function(){var he=x;x=Te;try{return le.apply(this,arguments)}finally{x=he}}}}(rf)),rf}var dy;function gE(){return dy||(dy=1,nf.exports=mE()),nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function yE(){if(hy)return On;hy=1;var n=tp(),e=gE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function x(r){return f.call(T,r)?!0:f.call(_,r)?!1:g.test(r)?T[r]=!0:(_[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,d,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(D,K);b[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(D,K);b[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(D,K);b[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,l,d){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,p,d)&&(l=null),d||p===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),oe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),le=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,$;function Z(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var we=!1;function Me(r,s){if(!r||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){d=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}r()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,k=y.length-1;1<=E&&0<=k&&p[E]!==y[k];)k--;for(;1<=E&&0<=k;E--,k--)if(p[E]!==y[k]){if(E!==1||k!==1)do if(E--,k--,0>k||p[E]!==y[k]){var V=`
`+p[E].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=E&&0<=k);break}}}finally{we=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function Le(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function $e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case oe:return"Portal";case C:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Be:return s=r.displayName||null,s!==null?s:$e(r.type)||"Memo";case wt:s=r._payload,r=r._init;try{return $e(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mt(r){var s=je(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qn(r){r._valueTracker||(r._valueTracker=mt(r))}function Di(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=je(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ln(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Zr(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Li(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=et(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Oi(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function Ns(r,s){Oi(r,s);var l=et(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Mi(r,s.type,l):s.hasOwnProperty("defaultValue")&&Mi(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function vo(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Mi(r,s,l){(s!=="number"||ln(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var sr=Array.isArray;function Qt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+et(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function or(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ei(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(sr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:et(l)}}function Ar(r,s){var l=et(s.value),d=et(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Sn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Fn,Ds=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Fn=Fn||document.createElement("div"),Fn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Fn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Yt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(r){br.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),kr[s]=kr[r]})});function Vi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||kr.hasOwnProperty(r)&&kr[r]?(""+s).trim():s+"px"}function Ls(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Vi(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ji=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,s){if(s){if(ji[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Fi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function Ui(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ti=null,Rn=null,Un=null;function lr(r){if(r=Ba(r)){if(typeof ti!="function")throw Error(t(280));var s=r.stateNode;s&&(s=vu(s),ti(r.stateNode,r.type,s))}}function _n(r){Rn?Un?Un.push(r):Un=[r]:Rn=r}function Os(){if(Rn){var r=Rn,s=Un;if(Un=Rn=null,lr(r),s)for(r=0;r<s.length;r++)lr(s[r])}}function ni(r,s){return r(s)}function j(){}var H=!1;function X(r,s,l){if(H)return r(s,l);H=!0;try{return ni(r,s,l)}finally{H=!1,(Rn!==null||Un!==null)&&(j(),Os())}}function ee(r,s){var l=r.stateNode;if(l===null)return null;var d=vu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var fe=!1;if(h)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Re(r,s,l,d,p,y,E,k,V){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(l,Y)}catch(ie){this.onError(ie)}}var pe=!1,_e=null,ce=!1,ke=null,Fe={onError:function(r){pe=!0,_e=r}};function st(r,s,l,d,p,y,E,k,V){pe=!1,_e=null,Re.apply(Fe,arguments)}function At(r,s,l,d,p,y,E,k,V){if(st.apply(this,arguments),pe){if(pe){var Y=_e;pe=!1,_e=null}else throw Error(t(198));ce||(ce=!0,ke=Y)}}function qe(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ot(r){if(qe(r)!==r)throw Error(t(188))}function ur(r){var s=r.alternate;if(!s){if(s=qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ot(p),r;if(y===d)return ot(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,k=p.child;k;){if(k===l){E=!0,l=p,d=y;break}if(k===d){E=!0,d=p,l=y;break}k=k.sibling}if(!E){for(k=y.child;k;){if(k===l){E=!0,l=y,d=p;break}if(k===d){E=!0,d=y,l=p;break}k=k.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function cr(r){return r=ur(r),r!==null?un(r):null}function un(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=un(r);if(s!==null)return s;r=r.sibling}return null}var Xt=e.unstable_scheduleCallback,ri=e.unstable_cancelCallback,Dr=e.unstable_shouldYield,dr=e.unstable_requestPaint,at=e.unstable_now,ii=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,gt=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,hr=e.unstable_LowPriority,yt=e.unstable_IdlePriority,Cn=null,cn=null;function _o(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Yl,Ra=Math.log,Ql=Math.LN2;function Yl(r){return r>>>=0,r===0?32:31-(Ra(r)/Ql|0)|0}var wo=64,Eo=4194304;function zi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ms(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var k=E&~p;k!==0?d=zi(k):(y&=E,y!==0&&(d=zi(y)))}else E=l&~p,E!==0?d=zi(E):y!==0&&(d=zi(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-wn(s),p=1<<l,d|=r[l],s&=~p;return d}function Ad(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-wn(y),k=1<<E,V=p[E];V===-1?(!(k&l)||k&d)&&(p[E]=Ad(k,s)):V<=s&&(r.expiredLanes|=k),y&=~k}}function zn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Vs(){var r=wo;return wo<<=1,!(wo&4194240)&&(wo=64),r}function Bi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function $i(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-wn(s),r[s]=l}function ft(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-wn(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Hi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-wn(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Wi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Xl,To,Jl,Zl,eu,Ca=!1,Lr=[],Zt=null,fr=null,pr=null,qi=new Map,Yn=new Map,Or=[],kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(r,s){switch(r){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":qi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(s.pointerId)}}function Pn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ba(s),s!==null&&To(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function bd(r,s,l,d,p){switch(s){case"focusin":return Zt=Pn(Zt,r,s,l,d,p),!0;case"dragenter":return fr=Pn(fr,r,s,l,d,p),!0;case"mouseover":return pr=Pn(pr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return qi.set(y,Pn(qi.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Yn.set(y,Pn(Yn.get(y)||null,r,s,l,d,p)),!0}return!1}function nu(r){var s=Bs(r.target);if(s!==null){var l=qe(s);if(l!==null){if(s=l.tag,s===13){if(s=tt(l),s!==null){r.blockedOn=s,eu(r.priority,function(){Jl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function oi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=xo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ar=d,l.target.dispatchEvent(d),ar=null}else return s=Ba(l),s!==null&&To(s),r.blockedOn=l,!1;s.shift()}return!0}function js(r,s,l){oi(r)&&l.delete(s)}function ru(){Ca=!1,Zt!==null&&oi(Zt)&&(Zt=null),fr!==null&&oi(fr)&&(fr=null),pr!==null&&oi(pr)&&(pr=null),qi.forEach(js),Yn.forEach(js)}function mr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ca||(Ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ru)))}function gr(r){function s(p){return mr(p,r)}if(0<Lr.length){mr(Lr[0],r);for(var l=1;l<Lr.length;l++){var d=Lr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Zt!==null&&mr(Zt,r),fr!==null&&mr(fr,r),pr!==null&&mr(pr,r),qi.forEach(s),Yn.forEach(s),l=0;l<Or.length;l++)d=Or[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Or.length&&(l=Or[0],l.blockedOn===null);)nu(l),l.blockedOn===null&&Or.shift()}var ai=te.ReactCurrentBatchConfig,Ki=!0;function Et(r,s,l,d){var p=Ke,y=ai.transition;ai.transition=null;try{Ke=1,Pa(r,s,l,d)}finally{Ke=p,ai.transition=y}}function Nd(r,s,l,d){var p=Ke,y=ai.transition;ai.transition=null;try{Ke=4,Pa(r,s,l,d)}finally{Ke=p,ai.transition=y}}function Pa(r,s,l,d){if(Ki){var p=xo(r,s,l,d);if(p===null)$d(r,s,d,Fs,l),tu(r,d);else if(bd(p,r,s,l,d))d.stopPropagation();else if(tu(r,d),s&4&&-1<kd.indexOf(r)){for(;p!==null;){var y=Ba(p);if(y!==null&&Xl(y),y=xo(r,s,l,d),y===null&&$d(r,s,d,Fs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else $d(r,s,d,null,l)}}var Fs=null;function xo(r,s,l,d){if(Fs=null,r=Ui(d),r=Bs(r),r!==null)if(s=qe(r),s===null)r=null;else if(l=s.tag,l===13){if(r=tt(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Fs=r,null}function Aa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ii()){case Ye:return 1;case gt:return 4;case Jt:case hr:return 16;case yt:return 536870912;default:return 16}default:return 16}}var Bn=null,Io=null,An=null;function ka(){if(An)return An;var r,s=Io,l=s.length,d,p="value"in Bn?Bn.value:Bn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[y-d];d++);return An=p.slice(r,1<d?1-d:void 0)}function So(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function ba(){return!1}function en(r){function s(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Mr:ba,this.isPropagationStopped=ba,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=en(yr),Vr=he({},yr,{view:0,detail:0}),Dd=en(Vr),Co,li,Gi,Us=he({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gi&&(Gi&&r.type==="mousemove"?(Co=r.screenX-Gi.screenX,li=r.screenY-Gi.screenY):li=Co=0,Gi=r),Co)},movementY:function(r){return"movementY"in r?r.movementY:li}}),Po=en(Us),Na=he({},Us,{dataTransfer:0}),iu=en(Na),Ao=he({},Vr,{relatedTarget:0}),ko=en(Ao),su=he({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),ui=en(su),ou=he({},yr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),au=en(ou),lu=he({},yr,{data:0}),Da=en(lu),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uu[r])?!!s[r]:!1}function jr(){return cu}var c=he({},Vr,{key:function(r){if(r.key){var s=bo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=So(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?En[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(r){return r.type==="keypress"?So(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?So(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=en(c),v=he({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=en(v),W=he({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),J=en(W),de=he({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=en(de),Vt=he({},Us,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=en(Vt),$t=[9,13,27,32],Dt=h&&"CompositionEvent"in window,Xn=null;h&&"documentMode"in document&&(Xn=document.documentMode);var $n=h&&"TextEvent"in window&&!Xn,zs=h&&(!Dt||Xn&&8<Xn&&11>=Xn),No=" ",em=!1;function tm(r,s){switch(r){case"keyup":return $t.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Do=!1;function uw(r,s){switch(r){case"compositionend":return nm(s);case"keypress":return s.which!==32?null:(em=!0,No);case"textInput":return r=s.data,r===No&&em?null:r;default:return null}}function cw(r,s){if(Do)return r==="compositionend"||!Dt&&tm(r,s)?(r=ka(),An=Io=Bn=null,Do=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zs&&s.locale!=="ko"?null:s.data;default:return null}}var dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dw[r.type]:s==="textarea"}function im(r,s,l,d){_n(d),s=mu(s,"onChange"),0<s.length&&(l=new Ro("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var La=null,Oa=null;function hw(r){Tm(r,0)}function du(r){var s=jo(r);if(Di(s))return r}function fw(r,s){if(r==="change")return s}var sm=!1;if(h){var Ld;if(h){var Od="oninput"in document;if(!Od){var om=document.createElement("div");om.setAttribute("oninput","return;"),Od=typeof om.oninput=="function"}Ld=Od}else Ld=!1;sm=Ld&&(!document.documentMode||9<document.documentMode)}function am(){La&&(La.detachEvent("onpropertychange",lm),Oa=La=null)}function lm(r){if(r.propertyName==="value"&&du(Oa)){var s=[];im(s,Oa,r,Ui(r)),X(hw,s)}}function pw(r,s,l){r==="focusin"?(am(),La=s,Oa=l,La.attachEvent("onpropertychange",lm)):r==="focusout"&&am()}function mw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return du(Oa)}function gw(r,s){if(r==="click")return du(s)}function yw(r,s){if(r==="input"||r==="change")return du(s)}function vw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vr=typeof Object.is=="function"?Object.is:vw;function Ma(r,s){if(vr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!vr(r[p],s[p]))return!1}return!0}function um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cm(r,s){var l=um(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=um(l)}}function dm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function hm(){for(var r=window,s=ln();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ln(r.document)}return s}function Md(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _w(r){var s=hm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&dm(l.ownerDocument.documentElement,l)){if(d!==null&&Md(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=cm(l,y);var E=cm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ww=h&&"documentMode"in document&&11>=document.documentMode,Lo=null,Vd=null,Va=null,jd=!1;function fm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jd||Lo==null||Lo!==ln(d)||(d=Lo,"selectionStart"in d&&Md(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Va&&Ma(Va,d)||(Va=d,d=mu(Vd,"onSelect"),0<d.length&&(s=new Ro("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Lo)))}function hu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Oo={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Fd={},pm={};h&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function fu(r){if(Fd[r])return Fd[r];if(!Oo[r])return r;var s=Oo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in pm)return Fd[r]=s[l];return r}var mm=fu("animationend"),gm=fu("animationiteration"),ym=fu("animationstart"),vm=fu("transitionend"),_m=new Map,wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(r,s){_m.set(r,s),a(s,[r])}for(var Ud=0;Ud<wm.length;Ud++){var zd=wm[Ud],Ew=zd.toLowerCase(),Tw=zd[0].toUpperCase()+zd.slice(1);Qi(Ew,"on"+Tw)}Qi(mm,"onAnimationEnd"),Qi(gm,"onAnimationIteration"),Qi(ym,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(vm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Em(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,At(d,s,void 0,r),r.currentTarget=null}function Tm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var k=d[E],V=k.instance,Y=k.currentTarget;if(k=k.listener,V!==y&&p.isPropagationStopped())break e;Em(p,k,Y),y=V}else for(E=0;E<d.length;E++){if(k=d[E],V=k.instance,Y=k.currentTarget,k=k.listener,V!==y&&p.isPropagationStopped())break e;Em(p,k,Y),y=V}}}if(ce)throw r=ke,ce=!1,ke=null,r}function vt(r,s){var l=s[Qd];l===void 0&&(l=s[Qd]=new Set);var d=r+"__bubble";l.has(d)||(xm(s,r,2,!1),l.add(d))}function Bd(r,s,l){var d=0;s&&(d|=4),xm(l,r,d,s)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Fa(r){if(!r[pu]){r[pu]=!0,i.forEach(function(l){l!=="selectionchange"&&(xw.has(l)||Bd(l,!1,r),Bd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[pu]||(s[pu]=!0,Bd("selectionchange",!1,s))}}function xm(r,s,l,d){switch(Aa(s)){case 1:var p=Et;break;case 4:p=Nd;break;default:p=Pa}l=p.bind(null,s,l,r),p=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function $d(r,s,l,d,p){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var k=d.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;k!==null;){if(E=Bs(k),E===null)return;if(V=E.tag,V===5||V===6){d=y=E;continue e}k=k.parentNode}}d=d.return}X(function(){var Y=y,ie=Ui(l),ae=[];e:{var re=_m.get(r);if(re!==void 0){var me=Ro,Ee=r;switch(r){case"keypress":if(So(l)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Ee="focus",me=ko;break;case"focusout":Ee="blur",me=ko;break;case"beforeblur":case"afterblur":me=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case mm:case gm:case ym:me=ui;break;case vm:me=ct;break;case"scroll":me=Dd;break;case"wheel":me=Xe;break;case"copy":case"cut":case"paste":me=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=S}var xe=(s&4)!==0,bt=!xe&&r==="scroll",q=xe?re!==null?re+"Capture":null:re;xe=[];for(var z=Y,G;z!==null;){G=z;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=ee(z,q),ue!=null&&xe.push(Ua(z,ue,G)))),bt)break;z=z.return}0<xe.length&&(re=new me(re,Ee,null,l,ie),ae.push({event:re,listeners:xe}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",re&&l!==ar&&(Ee=l.relatedTarget||l.fromElement)&&(Bs(Ee)||Ee[ci]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(Ee=l.relatedTarget||l.toElement,me=Y,Ee=Ee?Bs(Ee):null,Ee!==null&&(bt=qe(Ee),Ee!==bt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=Y),me!==Ee)){if(xe=Po,ue="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(xe=S,ue="onPointerLeave",q="onPointerEnter",z="pointer"),bt=me==null?re:jo(me),G=Ee==null?re:jo(Ee),re=new xe(ue,z+"leave",me,l,ie),re.target=bt,re.relatedTarget=G,ue=null,Bs(ie)===Y&&(xe=new xe(q,z+"enter",Ee,l,ie),xe.target=G,xe.relatedTarget=bt,ue=xe),bt=ue,me&&Ee)t:{for(xe=me,q=Ee,z=0,G=xe;G;G=Mo(G))z++;for(G=0,ue=q;ue;ue=Mo(ue))G++;for(;0<z-G;)xe=Mo(xe),z--;for(;0<G-z;)q=Mo(q),G--;for(;z--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=Mo(xe),q=Mo(q)}xe=null}else xe=null;me!==null&&Im(ae,re,me,xe,!1),Ee!==null&&bt!==null&&Im(ae,bt,Ee,xe,!0)}}e:{if(re=Y?jo(Y):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Ie=fw;else if(rm(re))if(sm)Ie=yw;else{Ie=mw;var Ce=pw}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ie=gw);if(Ie&&(Ie=Ie(r,Y))){im(ae,Ie,l,ie);break e}Ce&&Ce(r,re,Y),r==="focusout"&&(Ce=re._wrapperState)&&Ce.controlled&&re.type==="number"&&Mi(re,"number",re.value)}switch(Ce=Y?jo(Y):window,r){case"focusin":(rm(Ce)||Ce.contentEditable==="true")&&(Lo=Ce,Vd=Y,Va=null);break;case"focusout":Va=Vd=Lo=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,fm(ae,l,ie);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":fm(ae,l,ie)}var Pe;if(Dt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Do?tm(r,l)&&(Ne="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(zs&&l.locale!=="ko"&&(Do||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Do&&(Pe=ka()):(Bn=ie,Io="value"in Bn?Bn.value:Bn.textContent,Do=!0)),Ce=mu(Y,Ne),0<Ce.length&&(Ne=new Da(Ne,r,null,l,ie),ae.push({event:Ne,listeners:Ce}),Pe?Ne.data=Pe:(Pe=nm(l),Pe!==null&&(Ne.data=Pe)))),(Pe=$n?uw(r,l):cw(r,l))&&(Y=mu(Y,"onBeforeInput"),0<Y.length&&(ie=new Da("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:Y}),ie.data=Pe))}Tm(ae,s)})}function Ua(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ee(r,l),y!=null&&d.unshift(Ua(r,y,p)),y=ee(r,s),y!=null&&d.push(Ua(r,y,p))),r=r.return}return d}function Mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Im(r,s,l,d,p){for(var y=s._reactName,E=[];l!==null&&l!==d;){var k=l,V=k.alternate,Y=k.stateNode;if(V!==null&&V===d)break;k.tag===5&&Y!==null&&(k=Y,p?(V=ee(l,y),V!=null&&E.unshift(Ua(l,V,k))):p||(V=ee(l,y),V!=null&&E.push(Ua(l,V,k)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var Iw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function Sm(r){return(typeof r=="string"?r:""+r).replace(Iw,`
`).replace(Sw,"")}function gu(r,s,l){if(s=Sm(s),Sm(r)!==s&&l)throw Error(t(425))}function yu(){}var Hd=null,Wd=null;function qd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kd=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(r){return Rm.resolve(null).then(r).catch(Pw)}:Kd;function Pw(r){setTimeout(function(){throw r})}function Gd(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),gr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);gr(s)}function Yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Cm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Vo,za="__reactProps$"+Vo,ci="__reactContainer$"+Vo,Qd="__reactEvents$"+Vo,Aw="__reactListeners$"+Vo,kw="__reactHandles$"+Vo;function Bs(r){var s=r[Fr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ci]||l[Fr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Cm(r);r!==null;){if(l=r[Fr])return l;r=Cm(r)}return s}r=l,l=r.parentNode}return null}function Ba(r){return r=r[Fr]||r[ci],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function jo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function vu(r){return r[za]||null}var Yd=[],Fo=-1;function Xi(r){return{current:r}}function _t(r){0>Fo||(r.current=Yd[Fo],Yd[Fo]=null,Fo--)}function pt(r,s){Fo++,Yd[Fo]=r.current,r.current=s}var Ji={},dn=Xi(Ji),kn=Xi(!1),$s=Ji;function Uo(r,s){var l=r.type.contextTypes;if(!l)return Ji;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function bn(r){return r=r.childContextTypes,r!=null}function _u(){_t(kn),_t(dn)}function Pm(r,s,l){if(dn.current!==Ji)throw Error(t(168));pt(dn,s),pt(kn,l)}function Am(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ze(r)||"Unknown",p));return he({},l,d)}function wu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ji,$s=dn.current,pt(dn,r),pt(kn,kn.current),!0}function km(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Am(r,s,$s),d.__reactInternalMemoizedMergedChildContext=r,_t(kn),_t(dn),pt(dn,r)):_t(kn),pt(kn,l)}var di=null,Eu=!1,Xd=!1;function bm(r){di===null?di=[r]:di.push(r)}function bw(r){Eu=!0,bm(r)}function Zi(){if(!Xd&&di!==null){Xd=!0;var r=0,s=Ke;try{var l=di;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}di=null,Eu=!1}catch(p){throw di!==null&&(di=di.slice(r+1)),Xt(Ye,Zi),p}finally{Ke=s,Xd=!1}}return null}var zo=[],Bo=0,Tu=null,xu=0,Jn=[],Zn=0,Hs=null,hi=1,fi="";function Ws(r,s){zo[Bo++]=xu,zo[Bo++]=Tu,Tu=r,xu=s}function Nm(r,s,l){Jn[Zn++]=hi,Jn[Zn++]=fi,Jn[Zn++]=Hs,Hs=r;var d=hi;r=fi;var p=32-wn(d)-1;d&=~(1<<p),l+=1;var y=32-wn(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,hi=1<<32-wn(s)+p|l<<p|d,fi=y+r}else hi=1<<y|l<<p|d,fi=r}function Jd(r){r.return!==null&&(Ws(r,1),Nm(r,1,0))}function Zd(r){for(;r===Tu;)Tu=zo[--Bo],zo[Bo]=null,xu=zo[--Bo],zo[Bo]=null;for(;r===Hs;)Hs=Jn[--Zn],Jn[Zn]=null,fi=Jn[--Zn],Jn[Zn]=null,hi=Jn[--Zn],Jn[Zn]=null}var Hn=null,Wn=null,Tt=!1,_r=null;function Dm(r,s){var l=rr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Lm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Hn=r,Wn=Yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Hn=r,Wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Hs!==null?{id:hi,overflow:fi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=rr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Hn=r,Wn=null,!0):!1;default:return!1}}function eh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function th(r){if(Tt){var s=Wn;if(s){var l=s;if(!Lm(r,s)){if(eh(r))throw Error(t(418));s=Yi(l.nextSibling);var d=Hn;s&&Lm(r,s)?Dm(d,l):(r.flags=r.flags&-4097|2,Tt=!1,Hn=r)}}else{if(eh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Tt=!1,Hn=r}}}function Om(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Hn=r}function Iu(r){if(r!==Hn)return!1;if(!Tt)return Om(r),Tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!qd(r.type,r.memoizedProps)),s&&(s=Wn)){if(eh(r))throw Mm(),Error(t(418));for(;s;)Dm(r,s),s=Yi(s.nextSibling)}if(Om(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Wn=Yi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Wn=null}}else Wn=Hn?Yi(r.stateNode.nextSibling):null;return!0}function Mm(){for(var r=Wn;r;)r=Yi(r.nextSibling)}function $o(){Wn=Hn=null,Tt=!1}function nh(r){_r===null?_r=[r]:_r.push(r)}var Nw=te.ReactCurrentBatchConfig;function $a(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var k=p.refs;E===null?delete k[y]:k[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Vm(r){var s=r._init;return s(r._payload)}function jm(r){function s(q,z){if(r){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function l(q,z){if(!r)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function d(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function p(q,z){return q=as(q,z),q.index=0,q.sibling=null,q}function y(q,z,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=2,z):G):(q.flags|=2,z)):(q.flags|=1048576,z)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function k(q,z,G,ue){return z===null||z.tag!==6?(z=Kh(G,q.mode,ue),z.return=q,z):(z=p(z,G),z.return=q,z)}function V(q,z,G,ue){var Ie=G.type;return Ie===P?ie(q,z,G.props.children,ue,G.key):z!==null&&(z.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===wt&&Vm(Ie)===z.type)?(ue=p(z,G.props),ue.ref=$a(q,z,G),ue.return=q,ue):(ue=Qu(G.type,G.key,G.props,null,q.mode,ue),ue.ref=$a(q,z,G),ue.return=q,ue)}function Y(q,z,G,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Gh(G,q.mode,ue),z.return=q,z):(z=p(z,G.children||[]),z.return=q,z)}function ie(q,z,G,ue,Ie){return z===null||z.tag!==7?(z=Zs(G,q.mode,ue,Ie),z.return=q,z):(z=p(z,G),z.return=q,z)}function ae(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Kh(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return G=Qu(z.type,z.key,z.props,null,q.mode,G),G.ref=$a(q,null,z),G.return=q,G;case oe:return z=Gh(z,q.mode,G),z.return=q,z;case wt:var ue=z._init;return ae(q,ue(z._payload),G)}if(sr(z)||Te(z))return z=Zs(z,q.mode,G,null),z.return=q,z;Su(q,z)}return null}function re(q,z,G,ue){var Ie=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ie!==null?null:k(q,z,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return G.key===Ie?V(q,z,G,ue):null;case oe:return G.key===Ie?Y(q,z,G,ue):null;case wt:return Ie=G._init,re(q,z,Ie(G._payload),ue)}if(sr(G)||Te(G))return Ie!==null?null:ie(q,z,G,ue,null);Su(q,G)}return null}function me(q,z,G,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,k(z,q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case U:return q=q.get(ue.key===null?G:ue.key)||null,V(z,q,ue,Ie);case oe:return q=q.get(ue.key===null?G:ue.key)||null,Y(z,q,ue,Ie);case wt:var Ce=ue._init;return me(q,z,G,Ce(ue._payload),Ie)}if(sr(ue)||Te(ue))return q=q.get(G)||null,ie(z,q,ue,Ie,null);Su(z,ue)}return null}function Ee(q,z,G,ue){for(var Ie=null,Ce=null,Pe=z,Ne=z=0,qt=null;Pe!==null&&Ne<G.length;Ne++){Pe.index>Ne?(qt=Pe,Pe=null):qt=Pe.sibling;var rt=re(q,Pe,G[Ne],ue);if(rt===null){Pe===null&&(Pe=qt);break}r&&Pe&&rt.alternate===null&&s(q,Pe),z=y(rt,z,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt,Pe=qt}if(Ne===G.length)return l(q,Pe),Tt&&Ws(q,Ne),Ie;if(Pe===null){for(;Ne<G.length;Ne++)Pe=ae(q,G[Ne],ue),Pe!==null&&(z=y(Pe,z,Ne),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return Tt&&Ws(q,Ne),Ie}for(Pe=d(q,Pe);Ne<G.length;Ne++)qt=me(Pe,q,Ne,G[Ne],ue),qt!==null&&(r&&qt.alternate!==null&&Pe.delete(qt.key===null?Ne:qt.key),z=y(qt,z,Ne),Ce===null?Ie=qt:Ce.sibling=qt,Ce=qt);return r&&Pe.forEach(function(ls){return s(q,ls)}),Tt&&Ws(q,Ne),Ie}function xe(q,z,G,ue){var Ie=Te(G);if(typeof Ie!="function")throw Error(t(150));if(G=Ie.call(G),G==null)throw Error(t(151));for(var Ce=Ie=null,Pe=z,Ne=z=0,qt=null,rt=G.next();Pe!==null&&!rt.done;Ne++,rt=G.next()){Pe.index>Ne?(qt=Pe,Pe=null):qt=Pe.sibling;var ls=re(q,Pe,rt.value,ue);if(ls===null){Pe===null&&(Pe=qt);break}r&&Pe&&ls.alternate===null&&s(q,Pe),z=y(ls,z,Ne),Ce===null?Ie=ls:Ce.sibling=ls,Ce=ls,Pe=qt}if(rt.done)return l(q,Pe),Tt&&Ws(q,Ne),Ie;if(Pe===null){for(;!rt.done;Ne++,rt=G.next())rt=ae(q,rt.value,ue),rt!==null&&(z=y(rt,z,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt);return Tt&&Ws(q,Ne),Ie}for(Pe=d(q,Pe);!rt.done;Ne++,rt=G.next())rt=me(Pe,q,Ne,rt.value,ue),rt!==null&&(r&&rt.alternate!==null&&Pe.delete(rt.key===null?Ne:rt.key),z=y(rt,z,Ne),Ce===null?Ie=rt:Ce.sibling=rt,Ce=rt);return r&&Pe.forEach(function(cE){return s(q,cE)}),Tt&&Ws(q,Ne),Ie}function bt(q,z,G,ue){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case U:e:{for(var Ie=G.key,Ce=z;Ce!==null;){if(Ce.key===Ie){if(Ie=G.type,Ie===P){if(Ce.tag===7){l(q,Ce.sibling),z=p(Ce,G.props.children),z.return=q,q=z;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===wt&&Vm(Ie)===Ce.type){l(q,Ce.sibling),z=p(Ce,G.props),z.ref=$a(q,Ce,G),z.return=q,q=z;break e}l(q,Ce);break}else s(q,Ce);Ce=Ce.sibling}G.type===P?(z=Zs(G.props.children,q.mode,ue,G.key),z.return=q,q=z):(ue=Qu(G.type,G.key,G.props,null,q.mode,ue),ue.ref=$a(q,z,G),ue.return=q,q=ue)}return E(q);case oe:e:{for(Ce=G.key;z!==null;){if(z.key===Ce)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(q,z.sibling),z=p(z,G.children||[]),z.return=q,q=z;break e}else{l(q,z);break}else s(q,z);z=z.sibling}z=Gh(G,q.mode,ue),z.return=q,q=z}return E(q);case wt:return Ce=G._init,bt(q,z,Ce(G._payload),ue)}if(sr(G))return Ee(q,z,G,ue);if(Te(G))return xe(q,z,G,ue);Su(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(l(q,z.sibling),z=p(z,G),z.return=q,q=z):(l(q,z),z=Kh(G,q.mode,ue),z.return=q,q=z),E(q)):l(q,z)}return bt}var Ho=jm(!0),Fm=jm(!1),Ru=Xi(null),Cu=null,Wo=null,rh=null;function ih(){rh=Wo=Cu=null}function sh(r){var s=Ru.current;_t(Ru),r._currentValue=s}function oh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function qo(r,s){Cu=r,rh=Wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Nn=!0),r.firstContext=null)}function er(r){var s=r._currentValue;if(rh!==r)if(r={context:r,memoizedValue:s,next:null},Wo===null){if(Cu===null)throw Error(t(308));Wo=r,Cu.dependencies={lanes:0,firstContext:r}}else Wo=Wo.next=r;return s}var qs=null;function ah(r){qs===null?qs=[r]:qs.push(r)}function Um(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,ah(s)):(l.next=p.next,p.next=l),s.interleaved=l,pi(r,d)}function pi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var es=!1;function lh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ts(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,nt&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,pi(r,l)}return p=d.interleaved,p===null?(s.next=s,ah(d)):(s.next=p.next,p.next=s),d.interleaved=s,pi(r,l)}function Pu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Hi(r,l)}}function Bm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Au(r,s,l,d){var p=r.updateQueue;es=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var V=k,Y=V.next;V.next=null,E===null?y=Y:E.next=Y,E=V;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==E&&(k===null?ie.firstBaseUpdate=Y:k.next=Y,ie.lastBaseUpdate=V))}if(y!==null){var ae=p.baseState;E=0,ie=Y=V=null,k=y;do{var re=k.lane,me=k.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ee=r,xe=k;switch(re=s,me=l,xe.tag){case 1:if(Ee=xe.payload,typeof Ee=="function"){ae=Ee.call(me,ae,re);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=xe.payload,re=typeof Ee=="function"?Ee.call(me,ae,re):Ee,re==null)break e;ae=he({},ae,re);break e;case 2:es=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[k]:re.push(k))}else me={eventTime:me,lane:re,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(Y=ie=me,V=ae):ie=ie.next=me,E|=re;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;re=k,k=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Qs|=E,r.lanes=E,r.memoizedState=ae}}function $m(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ha={},Ur=Xi(Ha),Wa=Xi(Ha),qa=Xi(Ha);function Ks(r){if(r===Ha)throw Error(t(174));return r}function uh(r,s){switch(pt(qa,s),pt(Wa,r),pt(Ur,Ha),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Pt(s,r)}_t(Ur),pt(Ur,s)}function Ko(){_t(Ur),_t(Wa),_t(qa)}function Hm(r){Ks(qa.current);var s=Ks(Ur.current),l=Pt(s,r.type);s!==l&&(pt(Wa,r),pt(Ur,l))}function ch(r){Wa.current===r&&(_t(Ur),_t(Wa))}var It=Xi(0);function ku(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dh=[];function hh(){for(var r=0;r<dh.length;r++)dh[r]._workInProgressVersionPrimary=null;dh.length=0}var bu=te.ReactCurrentDispatcher,fh=te.ReactCurrentBatchConfig,Gs=0,St=null,jt=null,Ht=null,Nu=!1,Ka=!1,Ga=0,Dw=0;function hn(){throw Error(t(321))}function ph(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!vr(r[l],s[l]))return!1;return!0}function mh(r,s,l,d,p,y){if(Gs=y,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,bu.current=r===null||r.memoizedState===null?Vw:jw,r=l(d,p),Ka){y=0;do{if(Ka=!1,Ga=0,25<=y)throw Error(t(301));y+=1,Ht=jt=null,s.updateQueue=null,bu.current=Fw,r=l(d,p)}while(Ka)}if(bu.current=Ou,s=jt!==null&&jt.next!==null,Gs=0,Ht=jt=St=null,Nu=!1,s)throw Error(t(300));return r}function gh(){var r=Ga!==0;return Ga=0,r}function zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?St.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function tr(){if(jt===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var s=Ht===null?St.memoizedState:Ht.next;if(s!==null)Ht=s,jt=r;else{if(r===null)throw Error(t(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ht===null?St.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Qa(r,s){return typeof s=="function"?s(r):s}function yh(r){var s=tr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=jt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var k=E=null,V=null,Y=y;do{var ie=Y.lane;if((Gs&ie)===ie)V!==null&&(V=V.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:r(d,Y.action);else{var ae={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};V===null?(k=V=ae,E=d):V=V.next=ae,St.lanes|=ie,Qs|=ie}Y=Y.next}while(Y!==null&&Y!==y);V===null?E=d:V.next=k,vr(d,s.memoizedState)||(Nn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=V,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,St.lanes|=y,Qs|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function vh(r){var s=tr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);vr(y,s.memoizedState)||(Nn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Wm(){}function qm(r,s){var l=St,d=tr(),p=s(),y=!vr(d.memoizedState,p);if(y&&(d.memoizedState=p,Nn=!0),d=d.queue,_h(Qm.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Gm.bind(null,l,d,p,s),void 0,null),Wt===null)throw Error(t(349));Gs&30||Km(l,s,p)}return p}function Km(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Gm(r,s,l,d){s.value=l,s.getSnapshot=d,Ym(s)&&Xm(r)}function Qm(r,s,l){return l(function(){Ym(s)&&Xm(r)})}function Ym(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!vr(r,l)}catch{return!0}}function Xm(r){var s=pi(r,1);s!==null&&xr(s,r,1,-1)}function Jm(r){var s=zr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},s.queue=r,r=r.dispatch=Mw.bind(null,St,r),[s.memoizedState,r]}function Ya(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Zm(){return tr().memoizedState}function Du(r,s,l,d){var p=zr();St.flags|=r,p.memoizedState=Ya(1|s,l,void 0,d===void 0?null:d)}function Lu(r,s,l,d){var p=tr();d=d===void 0?null:d;var y=void 0;if(jt!==null){var E=jt.memoizedState;if(y=E.destroy,d!==null&&ph(d,E.deps)){p.memoizedState=Ya(s,l,y,d);return}}St.flags|=r,p.memoizedState=Ya(1|s,l,y,d)}function eg(r,s){return Du(8390656,8,r,s)}function _h(r,s){return Lu(2048,8,r,s)}function tg(r,s){return Lu(4,2,r,s)}function ng(r,s){return Lu(4,4,r,s)}function rg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ig(r,s,l){return l=l!=null?l.concat([r]):null,Lu(4,4,rg.bind(null,s,r),l)}function wh(){}function sg(r,s){var l=tr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&ph(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function og(r,s){var l=tr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&ph(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function ag(r,s,l){return Gs&21?(vr(l,s)||(l=Vs(),St.lanes|=l,Qs|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Nn=!0),r.memoizedState=l)}function Lw(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=fh.transition;fh.transition={};try{r(!1),s()}finally{Ke=l,fh.transition=d}}function lg(){return tr().memoizedState}function Ow(r,s,l){var d=ss(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},ug(r))cg(s,l);else if(l=Um(r,s,l,d),l!==null){var p=xn();xr(l,r,d,p),dg(l,s,d)}}function Mw(r,s,l){var d=ss(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(ug(r))cg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,k=y(E,l);if(p.hasEagerState=!0,p.eagerState=k,vr(k,E)){var V=s.interleaved;V===null?(p.next=p,ah(s)):(p.next=V.next,V.next=p),s.interleaved=p;return}}catch{}finally{}l=Um(r,s,p,d),l!==null&&(p=xn(),xr(l,r,d,p),dg(l,s,d))}}function ug(r){var s=r.alternate;return r===St||s!==null&&s===St}function cg(r,s){Ka=Nu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function dg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Hi(r,l)}}var Ou={readContext:er,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},Vw={readContext:er,useCallback:function(r,s){return zr().memoizedState=[r,s===void 0?null:s],r},useContext:er,useEffect:eg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Du(4194308,4,rg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Du(4194308,4,r,s)},useInsertionEffect:function(r,s){return Du(4,2,r,s)},useMemo:function(r,s){var l=zr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=zr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Ow.bind(null,St,r),[d.memoizedState,r]},useRef:function(r){var s=zr();return r={current:r},s.memoizedState=r},useState:Jm,useDebugValue:wh,useDeferredValue:function(r){return zr().memoizedState=r},useTransition:function(){var r=Jm(!1),s=r[0];return r=Lw.bind(null,r[1]),zr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=St,p=zr();if(Tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Wt===null)throw Error(t(349));Gs&30||Km(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,eg(Qm.bind(null,d,y,r),[r]),d.flags|=2048,Ya(9,Gm.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=zr(),s=Wt.identifierPrefix;if(Tt){var l=fi,d=hi;l=(d&~(1<<32-wn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ga++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Dw++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},jw={readContext:er,useCallback:sg,useContext:er,useEffect:_h,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:yh,useRef:Zm,useState:function(){return yh(Qa)},useDebugValue:wh,useDeferredValue:function(r){var s=tr();return ag(s,jt.memoizedState,r)},useTransition:function(){var r=yh(Qa)[0],s=tr().memoizedState;return[r,s]},useMutableSource:Wm,useSyncExternalStore:qm,useId:lg,unstable_isNewReconciler:!1},Fw={readContext:er,useCallback:sg,useContext:er,useEffect:_h,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:vh,useRef:Zm,useState:function(){return vh(Qa)},useDebugValue:wh,useDeferredValue:function(r){var s=tr();return jt===null?s.memoizedState=r:ag(s,jt.memoizedState,r)},useTransition:function(){var r=vh(Qa)[0],s=tr().memoizedState;return[r,s]},useMutableSource:Wm,useSyncExternalStore:qm,useId:lg,unstable_isNewReconciler:!1};function wr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Eh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Mu={isMounted:function(r){return(r=r._reactInternals)?qe(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=xn(),p=ss(r),y=mi(d,p);y.payload=s,l!=null&&(y.callback=l),s=ts(r,y,p),s!==null&&(xr(s,r,p,d),Pu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=xn(),p=ss(r),y=mi(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ts(r,y,p),s!==null&&(xr(s,r,p,d),Pu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=xn(),d=ss(r),p=mi(l,d);p.tag=2,s!=null&&(p.callback=s),s=ts(r,p,d),s!==null&&(xr(s,r,d,l),Pu(s,r,d))}};function hg(r,s,l,d,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ma(l,d)||!Ma(p,y):!0}function fg(r,s,l){var d=!1,p=Ji,y=s.contextType;return typeof y=="object"&&y!==null?y=er(y):(p=bn(s)?$s:dn.current,d=s.contextTypes,y=(d=d!=null)?Uo(r,p):Ji),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function pg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Mu.enqueueReplaceState(s,s.state,null)}function Th(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},lh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=er(y):(y=bn(s)?$s:dn.current,p.context=Uo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Eh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Mu.enqueueReplaceState(p,p.state,null),Au(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Go(r,s){try{var l="",d=s;do l+=Le(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function xh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Ih(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Uw=typeof WeakMap=="function"?WeakMap:Map;function mg(r,s,l){l=mi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){$u||($u=!0,Fh=d),Ih(r,s)},l}function gg(r,s,l){l=mi(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Ih(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ih(r,s),typeof d!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function yg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Uw;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=eE.bind(null,r,s,l),s.then(r,r))}function vg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function _g(r,s,l,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=mi(-1,1),s.tag=2,ts(l,s,1))),l.lanes|=1),r)}var zw=te.ReactCurrentOwner,Nn=!1;function Tn(r,s,l,d){s.child=r===null?Fm(s,null,l,d):Ho(s,r.child,l,d)}function wg(r,s,l,d,p){l=l.render;var y=s.ref;return qo(s,p),d=mh(r,s,l,d,y,p),l=gh(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,gi(r,s,p)):(Tt&&l&&Jd(s),s.flags|=1,Tn(r,s,d,p),s.child)}function Eg(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!qh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Tg(r,s,y,d,p)):(r=Qu(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(E,d)&&r.ref===s.ref)return gi(r,s,p)}return s.flags|=1,r=as(y,d),r.ref=s.ref,r.return=s,s.child=r}function Tg(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ma(y,d)&&r.ref===s.ref)if(Nn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)r.flags&131072&&(Nn=!0);else return s.lanes=r.lanes,gi(r,s,p)}return Sh(r,s,l,d,p)}function xg(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Yo,qn),qn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,pt(Yo,qn),qn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,pt(Yo,qn),qn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,pt(Yo,qn),qn|=d;return Tn(r,s,p,l),s.child}function Ig(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Sh(r,s,l,d,p){var y=bn(l)?$s:dn.current;return y=Uo(s,y),qo(s,p),l=mh(r,s,l,d,y,p),d=gh(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,gi(r,s,p)):(Tt&&d&&Jd(s),s.flags|=1,Tn(r,s,l,p),s.child)}function Sg(r,s,l,d,p){if(bn(l)){var y=!0;wu(s)}else y=!1;if(qo(s,p),s.stateNode===null)ju(r,s),fg(s,l,d),Th(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var V=E.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=er(Y):(Y=bn(l)?$s:dn.current,Y=Uo(s,Y));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==d||V!==Y)&&pg(s,E,d,Y),es=!1;var re=s.memoizedState;E.state=re,Au(s,d,E,p),V=s.memoizedState,k!==d||re!==V||kn.current||es?(typeof ie=="function"&&(Eh(s,l,ie,d),V=s.memoizedState),(k=es||hg(s,l,k,d,re,V,Y))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=V),E.props=d,E.state=V,E.context=Y,d=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,zm(r,s),k=s.memoizedProps,Y=s.type===s.elementType?k:wr(s.type,k),E.props=Y,ae=s.pendingProps,re=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=er(V):(V=bn(l)?$s:dn.current,V=Uo(s,V));var me=l.getDerivedStateFromProps;(ie=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==ae||re!==V)&&pg(s,E,d,V),es=!1,re=s.memoizedState,E.state=re,Au(s,d,E,p);var Ee=s.memoizedState;k!==ae||re!==Ee||kn.current||es?(typeof me=="function"&&(Eh(s,l,me,d),Ee=s.memoizedState),(Y=es||hg(s,l,Y,d,re,Ee,V)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Ee,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Ee,V)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ee),E.props=d,E.state=Ee,E.context=V,d=Y):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),d=!1)}return Rh(r,s,l,d,y,p)}function Rh(r,s,l,d,p,y){Ig(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&km(s,l,!1),gi(r,s,y);d=s.stateNode,zw.current=s;var k=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Ho(s,r.child,null,y),s.child=Ho(s,null,k,y)):Tn(r,s,k,y),s.memoizedState=d.state,p&&km(s,l,!0),s.child}function Rg(r){var s=r.stateNode;s.pendingContext?Pm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pm(r,s.context,!1),uh(r,s.containerInfo)}function Cg(r,s,l,d,p){return $o(),nh(p),s.flags|=256,Tn(r,s,l,d),s.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Ph(r){return{baseLanes:r,cachePool:null,transitions:null}}function Pg(r,s,l){var d=s.pendingProps,p=It.current,y=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),pt(It,p&1),r===null)return th(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Yu(E,d,0,null),r=Zs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Ph(l),s.memoizedState=Ch,r):Ah(s,E));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return Bw(r,s,E,d,k,p,l);if(y){y=d.fallback,E=s.mode,p=r.child,k=p.sibling;var V={mode:"hidden",children:d.children};return!(E&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=V,s.deletions=null):(d=as(p,V),d.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=as(k,y):(y=Zs(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=r.child.memoizedState,E=E===null?Ph(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Ch,d}return y=r.child,r=y.sibling,d=as(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Ah(r,s){return s=Yu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Vu(r,s,l,d){return d!==null&&nh(d),Ho(s,r.child,null,l),r=Ah(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Bw(r,s,l,d,p,y,E){if(l)return s.flags&256?(s.flags&=-257,d=xh(Error(t(422))),Vu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Yu({mode:"visible",children:d.children},p,0,null),y=Zs(y,p,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&Ho(s,r.child,null,E),s.child.memoizedState=Ph(E),s.memoizedState=Ch,y);if(!(s.mode&1))return Vu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(t(419)),d=xh(y,d,void 0),Vu(r,s,E,d)}if(k=(E&r.childLanes)!==0,Nn||k){if(d=Wt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|E)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,pi(r,p),xr(d,r,p,-1))}return Wh(),d=xh(Error(t(421))),Vu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=tE.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Wn=Yi(p.nextSibling),Hn=s,Tt=!0,_r=null,r!==null&&(Jn[Zn++]=hi,Jn[Zn++]=fi,Jn[Zn++]=Hs,hi=r.id,fi=r.overflow,Hs=s),s=Ah(s,d.children),s.flags|=4096,s)}function Ag(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),oh(r.return,s,l)}function kh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function kg(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Tn(r,s,d.children,l),d=It.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ag(r,l,s);else if(r.tag===19)Ag(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(pt(It,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&ku(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),kh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&ku(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}kh(s,!0,l,null,y);break;case"together":kh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ju(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function gi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Qs|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=as(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=as(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function $w(r,s,l){switch(s.tag){case 3:Rg(s),$o();break;case 5:Hm(s);break;case 1:bn(s.type)&&wu(s);break;case 4:uh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;pt(Ru,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(pt(It,It.current&1),s.flags|=128,null):l&s.child.childLanes?Pg(r,s,l):(pt(It,It.current&1),r=gi(r,s,l),r!==null?r.sibling:null);pt(It,It.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return kg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pt(It,It.current),d)break;return null;case 22:case 23:return s.lanes=0,xg(r,s,l)}return gi(r,s,l)}var bg,bh,Ng,Dg;bg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bh=function(){},Ng=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ks(Ur.current);var y=null;switch(l){case"input":p=Zr(r,p),d=Zr(r,d),y=[];break;case"select":p=he({},p,{value:void 0}),d=he({},d,{value:void 0}),y=[];break;case"textarea":p=or(r,p),d=or(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=yu)}Nr(l,d);var E;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var k=p[Y];for(E in k)k.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var V=d[Y];if(k=p!=null?p[Y]:void 0,d.hasOwnProperty(Y)&&V!==k&&(V!=null||k!=null))if(Y==="style")if(k){for(E in k)!k.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&k[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(y||(y=[]),y.push(Y,l)),l=V;else Y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,k=k?k.__html:void 0,V!=null&&k!==V&&(y=y||[]).push(Y,V)):Y==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(Y,""+V):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(V!=null&&Y==="onScroll"&&vt("scroll",r),y||k===V||(y=[])):(y=y||[]).push(Y,V))}l&&(y=y||[]).push("style",l);var Y=y;(s.updateQueue=Y)&&(s.flags|=4)}},Dg=function(r,s,l,d){l!==d&&(s.flags|=4)};function Xa(r,s){if(!Tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function fn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function Hw(r,s,l){var d=s.pendingProps;switch(Zd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(s),null;case 1:return bn(s.type)&&_u(),fn(s),null;case 3:return d=s.stateNode,Ko(),_t(kn),_t(dn),hh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Iu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,_r!==null&&(Bh(_r),_r=null))),bh(r,s),fn(s),null;case 5:ch(s);var p=Ks(qa.current);if(l=s.type,r!==null&&s.stateNode!=null)Ng(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return fn(s),null}if(r=Ks(Ur.current),Iu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Fr]=s,d[za]=y,r=(s.mode&1)!==0,l){case"dialog":vt("cancel",d),vt("close",d);break;case"iframe":case"object":case"embed":vt("load",d);break;case"video":case"audio":for(p=0;p<ja.length;p++)vt(ja[p],d);break;case"source":vt("error",d);break;case"img":case"image":case"link":vt("error",d),vt("load",d);break;case"details":vt("toggle",d);break;case"input":Li(d,y),vt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},vt("invalid",d);break;case"textarea":ei(d,y),vt("invalid",d)}Nr(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var k=y[E];E==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&gu(d.textContent,k,r),p=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&gu(d.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&vt("scroll",d)}switch(l){case"input":Qn(d),vo(d,y,!0);break;case"textarea":Qn(d),Sn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=yu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Fr]=s,r[za]=d,bg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Fi(l,d),l){case"dialog":vt("cancel",r),vt("close",r),p=d;break;case"iframe":case"object":case"embed":vt("load",r),p=d;break;case"video":case"audio":for(p=0;p<ja.length;p++)vt(ja[p],r);p=d;break;case"source":vt("error",r),p=d;break;case"img":case"image":case"link":vt("error",r),vt("load",r),p=d;break;case"details":vt("toggle",r),p=d;break;case"input":Li(r,d),p=Zr(r,d),vt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=he({},d,{value:void 0}),vt("invalid",r);break;case"textarea":ei(r,d),p=or(r,d),vt("invalid",r);break;default:p=d}Nr(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var V=k[y];y==="style"?Ls(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Ds(r,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&Yt(r,V):typeof V=="number"&&Yt(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&vt("scroll",r):V!=null&&Q(r,y,V,E))}switch(l){case"input":Qn(r),vo(r,d,!1);break;case"textarea":Qn(r),Sn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+et(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Qt(r,!!d.multiple,y,!1):d.defaultValue!=null&&Qt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=yu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return fn(s),null;case 6:if(r&&s.stateNode!=null)Dg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ks(qa.current),Ks(Ur.current),Iu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Fr]=s,(y=d.nodeValue!==l)&&(r=Hn,r!==null))switch(r.tag){case 3:gu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&gu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Fr]=s,s.stateNode=d}return fn(s),null;case 13:if(_t(It),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&Wn!==null&&s.mode&1&&!(s.flags&128))Mm(),$o(),s.flags|=98560,y=!1;else if(y=Iu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Fr]=s}else $o(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;fn(s),y=!1}else _r!==null&&(Bh(_r),_r=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||It.current&1?Ft===0&&(Ft=3):Wh())),s.updateQueue!==null&&(s.flags|=4),fn(s),null);case 4:return Ko(),bh(r,s),r===null&&Fa(s.stateNode.containerInfo),fn(s),null;case 10:return sh(s.type._context),fn(s),null;case 17:return bn(s.type)&&_u(),fn(s),null;case 19:if(_t(It),y=s.memoizedState,y===null)return fn(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)Xa(y,!1);else{if(Ft!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=ku(r),E!==null){for(s.flags|=128,Xa(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return pt(It,It.current&1|2),s.child}r=r.sibling}y.tail!==null&&at()>Xo&&(s.flags|=128,d=!0,Xa(y,!1),s.lanes=4194304)}else{if(!d)if(r=ku(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Xa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Tt)return fn(s),null}else 2*at()-y.renderingStartTime>Xo&&l!==1073741824&&(s.flags|=128,d=!0,Xa(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=at(),s.sibling=null,l=It.current,pt(It,d?l&1|2:l&1),s):(fn(s),null);case 22:case 23:return Hh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?qn&1073741824&&(fn(s),s.subtreeFlags&6&&(s.flags|=8192)):fn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Ww(r,s){switch(Zd(s),s.tag){case 1:return bn(s.type)&&_u(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ko(),_t(kn),_t(dn),hh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ch(s),null;case 13:if(_t(It),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));$o()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(It),null;case 4:return Ko(),null;case 10:return sh(s.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var Fu=!1,pn=!1,qw=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Qo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){kt(r,s,d)}else l.current=null}function Nh(r,s,l){try{l()}catch(d){kt(r,s,d)}}var Lg=!1;function Kw(r,s){if(Hd=Ki,r=hm(),Md(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,k=-1,V=-1,Y=0,ie=0,ae=r,re=null;t:for(;;){for(var me;ae!==l||p!==0&&ae.nodeType!==3||(k=E+p),ae!==y||d!==0&&ae.nodeType!==3||(V=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(me=ae.firstChild)!==null;)re=ae,ae=me;for(;;){if(ae===r)break t;if(re===l&&++Y===p&&(k=E),re===y&&++ie===d&&(V=E),(me=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=me}l=k===-1||V===-1?null:{start:k,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wd={focusedElem:r,selectionRange:l},Ki=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Ee=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var xe=Ee.memoizedProps,bt=Ee.memoizedState,q=s.stateNode,z=q.getSnapshotBeforeUpdate(s.elementType===s.type?xe:wr(s.type,xe),bt);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){kt(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Ee=Lg,Lg=!1,Ee}function Ja(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Nh(s,l,y)}p=p.next}while(p!==d)}}function Uu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Dh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Og(r){var s=r.alternate;s!==null&&(r.alternate=null,Og(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Fr],delete s[za],delete s[Qd],delete s[Aw],delete s[kw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Mg(r){return r.tag===5||r.tag===3||r.tag===4}function Vg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=yu));else if(d!==4&&(r=r.child,r!==null))for(Lh(r,s,l),r=r.sibling;r!==null;)Lh(r,s,l),r=r.sibling}function Oh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Oh(r,s,l),r=r.sibling;r!==null;)Oh(r,s,l),r=r.sibling}var tn=null,Er=!1;function ns(r,s,l){for(l=l.child;l!==null;)jg(r,s,l),l=l.sibling}function jg(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Cn,l)}catch{}switch(l.tag){case 5:pn||Qo(l,s);case 6:var d=tn,p=Er;tn=null,ns(r,s,l),tn=d,Er=p,tn!==null&&(Er?(r=tn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):tn.removeChild(l.stateNode));break;case 18:tn!==null&&(Er?(r=tn,l=l.stateNode,r.nodeType===8?Gd(r.parentNode,l):r.nodeType===1&&Gd(r,l),gr(r)):Gd(tn,l.stateNode));break;case 4:d=tn,p=Er,tn=l.stateNode.containerInfo,Er=!0,ns(r,s,l),tn=d,Er=p;break;case 0:case 11:case 14:case 15:if(!pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Nh(l,s,E),p=p.next}while(p!==d)}ns(r,s,l);break;case 1:if(!pn&&(Qo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){kt(l,s,k)}ns(r,s,l);break;case 21:ns(r,s,l);break;case 22:l.mode&1?(pn=(d=pn)||l.memoizedState!==null,ns(r,s,l),pn=d):ns(r,s,l);break;default:ns(r,s,l)}}function Fg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new qw),s.forEach(function(d){var p=nE.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Tr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,E=s,k=E;e:for(;k!==null;){switch(k.tag){case 5:tn=k.stateNode,Er=!1;break e;case 3:tn=k.stateNode.containerInfo,Er=!0;break e;case 4:tn=k.stateNode.containerInfo,Er=!0;break e}k=k.return}if(tn===null)throw Error(t(160));jg(y,E,p),tn=null,Er=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(Y){kt(p,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ug(s,r),s=s.sibling}function Ug(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Tr(s,r),Br(r),d&4){try{Ja(3,r,r.return),Uu(3,r)}catch(xe){kt(r,r.return,xe)}try{Ja(5,r,r.return)}catch(xe){kt(r,r.return,xe)}}break;case 1:Tr(s,r),Br(r),d&512&&l!==null&&Qo(l,l.return);break;case 5:if(Tr(s,r),Br(r),d&512&&l!==null&&Qo(l,l.return),r.flags&32){var p=r.stateNode;try{Yt(p,"")}catch(xe){kt(r,r.return,xe)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,k=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Oi(p,y),Fi(k,E);var Y=Fi(k,y);for(E=0;E<V.length;E+=2){var ie=V[E],ae=V[E+1];ie==="style"?Ls(p,ae):ie==="dangerouslySetInnerHTML"?Ds(p,ae):ie==="children"?Yt(p,ae):Q(p,ie,ae,Y)}switch(k){case"input":Ns(p,y);break;case"textarea":Ar(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Qt(p,!!y.multiple,me,!1):re!==!!y.multiple&&(y.defaultValue!=null?Qt(p,!!y.multiple,y.defaultValue,!0):Qt(p,!!y.multiple,y.multiple?[]:"",!1))}p[za]=y}catch(xe){kt(r,r.return,xe)}}break;case 6:if(Tr(s,r),Br(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(xe){kt(r,r.return,xe)}}break;case 3:if(Tr(s,r),Br(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{gr(s.containerInfo)}catch(xe){kt(r,r.return,xe)}break;case 4:Tr(s,r),Br(r);break;case 13:Tr(s,r),Br(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(jh=at())),d&4&&Fg(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(pn=(Y=pn)||ie,Tr(s,r),pn=Y):Tr(s,r),Br(r),d&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!ie&&r.mode&1)for(ve=r,ie=r.child;ie!==null;){for(ae=ve=ie;ve!==null;){switch(re=ve,me=re.child,re.tag){case 0:case 11:case 14:case 15:Ja(4,re,re.return);break;case 1:Qo(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(xe){kt(d,l,xe)}}break;case 5:Qo(re,re.return);break;case 22:if(re.memoizedState!==null){$g(ae);continue}}me!==null?(me.return=re,ve=me):$g(ae)}ie=ie.sibling}e:for(ie=null,ae=r;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=ae.stateNode,V=ae.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,k.style.display=Vi("display",E))}catch(xe){kt(r,r.return,xe)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(xe){kt(r,r.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Tr(s,r),Br(r),d&4&&Fg(r);break;case 21:break;default:Tr(s,r),Br(r)}}function Br(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Mg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Yt(p,""),d.flags&=-33);var y=Vg(r);Oh(r,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,k=Vg(r);Lh(r,k,E);break;default:throw Error(t(161))}}catch(V){kt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Gw(r,s,l){ve=r,zg(r)}function zg(r,s,l){for(var d=(r.mode&1)!==0;ve!==null;){var p=ve,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Fu;if(!E){var k=p.alternate,V=k!==null&&k.memoizedState!==null||pn;k=Fu;var Y=pn;if(Fu=E,(pn=V)&&!Y)for(ve=p;ve!==null;)E=ve,V=E.child,E.tag===22&&E.memoizedState!==null?Hg(p):V!==null?(V.return=E,ve=V):Hg(p);for(;y!==null;)ve=y,zg(y),y=y.sibling;ve=p,Fu=k,pn=Y}Bg(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,ve=y):Bg(r)}}function Bg(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:pn||Uu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!pn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:wr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&$m(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}$m(s,E,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&gr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||s.flags&512&&Dh(s)}catch(re){kt(s,s.return,re)}}if(s===r){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function $g(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Hg(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Uu(4,s)}catch(V){kt(s,l,V)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(V){kt(s,p,V)}}var y=s.return;try{Dh(s)}catch(V){kt(s,y,V)}break;case 5:var E=s.return;try{Dh(s)}catch(V){kt(s,E,V)}}}catch(V){kt(s,s.return,V)}if(s===r){ve=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ve=k;break}ve=s.return}}var Qw=Math.ceil,zu=te.ReactCurrentDispatcher,Mh=te.ReactCurrentOwner,nr=te.ReactCurrentBatchConfig,nt=0,Wt=null,Lt=null,nn=0,qn=0,Yo=Xi(0),Ft=0,Za=null,Qs=0,Bu=0,Vh=0,el=null,Dn=null,jh=0,Xo=1/0,yi=null,$u=!1,Fh=null,rs=null,Hu=!1,is=null,Wu=0,tl=0,Uh=null,qu=-1,Ku=0;function xn(){return nt&6?at():qu!==-1?qu:qu=at()}function ss(r){return r.mode&1?nt&2&&nn!==0?nn&-nn:Nw.transition!==null?(Ku===0&&(Ku=Vs()),Ku):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Aa(r.type)),r):1}function xr(r,s,l,d){if(50<tl)throw tl=0,Uh=null,Error(t(185));$i(r,l,d),(!(nt&2)||r!==Wt)&&(r===Wt&&(!(nt&2)&&(Bu|=l),Ft===4&&os(r,nn)),Ln(r,d),l===1&&nt===0&&!(s.mode&1)&&(Xo=at()+500,Eu&&Zi()))}function Ln(r,s){var l=r.callbackNode;si(r,s);var d=Ms(r,r===Wt?nn:0);if(d===0)l!==null&&ri(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ri(l),s===1)r.tag===0?bw(qg.bind(null,r)):bm(qg.bind(null,r)),Cw(function(){!(nt&6)&&Zi()}),l=null;else{switch(Wi(d)){case 1:l=Ye;break;case 4:l=gt;break;case 16:l=Jt;break;case 536870912:l=yt;break;default:l=Jt}l=ey(l,Wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Wg(r,s){if(qu=-1,Ku=0,nt&6)throw Error(t(327));var l=r.callbackNode;if(Jo()&&r.callbackNode!==l)return null;var d=Ms(r,r===Wt?nn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Gu(r,d);else{s=d;var p=nt;nt|=2;var y=Gg();(Wt!==r||nn!==s)&&(yi=null,Xo=at()+500,Xs(r,s));do try{Jw();break}catch(k){Kg(r,k)}while(!0);ih(),zu.current=y,nt=p,Lt!==null?s=0:(Wt=null,nn=0,s=Ft)}if(s!==0){if(s===2&&(p=zn(r),p!==0&&(d=p,s=zh(r,p))),s===1)throw l=Za,Xs(r,0),os(r,d),Ln(r,at()),l;if(s===6)os(r,d);else{if(p=r.current.alternate,!(d&30)&&!Yw(p)&&(s=Gu(r,d),s===2&&(y=zn(r),y!==0&&(d=y,s=zh(r,y))),s===1))throw l=Za,Xs(r,0),os(r,d),Ln(r,at()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Js(r,Dn,yi);break;case 3:if(os(r,d),(d&130023424)===d&&(s=jh+500-at(),10<s)){if(Ms(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){xn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Kd(Js.bind(null,r,Dn,yi),s);break}Js(r,Dn,yi);break;case 4:if(os(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-wn(d);y=1<<E,E=s[E],E>p&&(p=E),d&=~y}if(d=p,d=at()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Qw(d/1960))-d,10<d){r.timeoutHandle=Kd(Js.bind(null,r,Dn,yi),d);break}Js(r,Dn,yi);break;case 5:Js(r,Dn,yi);break;default:throw Error(t(329))}}}return Ln(r,at()),r.callbackNode===l?Wg.bind(null,r):null}function zh(r,s){var l=el;return r.current.memoizedState.isDehydrated&&(Xs(r,s).flags|=256),r=Gu(r,s),r!==2&&(s=Dn,Dn=l,s!==null&&Bh(s)),r}function Bh(r){Dn===null?Dn=r:Dn.push.apply(Dn,r)}function Yw(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!vr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(r,s){for(s&=~Vh,s&=~Bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-wn(s),d=1<<l;r[l]=-1,s&=~d}}function qg(r){if(nt&6)throw Error(t(327));Jo();var s=Ms(r,0);if(!(s&1))return Ln(r,at()),null;var l=Gu(r,s);if(r.tag!==0&&l===2){var d=zn(r);d!==0&&(s=d,l=zh(r,d))}if(l===1)throw l=Za,Xs(r,0),os(r,s),Ln(r,at()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Js(r,Dn,yi),Ln(r,at()),null}function $h(r,s){var l=nt;nt|=1;try{return r(s)}finally{nt=l,nt===0&&(Xo=at()+500,Eu&&Zi())}}function Ys(r){is!==null&&is.tag===0&&!(nt&6)&&Jo();var s=nt;nt|=1;var l=nr.transition,d=Ke;try{if(nr.transition=null,Ke=1,r)return r()}finally{Ke=d,nr.transition=l,nt=s,!(nt&6)&&Zi()}}function Hh(){qn=Yo.current,_t(Yo)}function Xs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Rw(l)),Lt!==null)for(l=Lt.return;l!==null;){var d=l;switch(Zd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&_u();break;case 3:Ko(),_t(kn),_t(dn),hh();break;case 5:ch(d);break;case 4:Ko();break;case 13:_t(It);break;case 19:_t(It);break;case 10:sh(d.type._context);break;case 22:case 23:Hh()}l=l.return}if(Wt=r,Lt=r=as(r.current,null),nn=qn=s,Ft=0,Za=null,Vh=Bu=Qs=0,Dn=el=null,qs!==null){for(s=0;s<qs.length;s++)if(l=qs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}qs=null}return r}function Kg(r,s){do{var l=Lt;try{if(ih(),bu.current=Ou,Nu){for(var d=St.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Nu=!1}if(Gs=0,Ht=jt=St=null,Ka=!1,Ga=0,Mh.current=null,l===null||l.return===null){Ft=1,Za=s,Lt=null;break}e:{var y=r,E=l.return,k=l,V=s;if(s=nn,k.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Y=V,ie=k,ae=ie.tag;if(!(ie.mode&1)&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=vg(E);if(me!==null){me.flags&=-257,_g(me,E,k,y,s),me.mode&1&&yg(y,Y,s),s=me,V=Y;var Ee=s.updateQueue;if(Ee===null){var xe=new Set;xe.add(V),s.updateQueue=xe}else Ee.add(V);break e}else{if(!(s&1)){yg(y,Y,s),Wh();break e}V=Error(t(426))}}else if(Tt&&k.mode&1){var bt=vg(E);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),_g(bt,E,k,y,s),nh(Go(V,k));break e}}y=V=Go(V,k),Ft!==4&&(Ft=2),el===null?el=[y]:el.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=mg(y,V,s);Bm(y,q);break e;case 1:k=V;var z=y.type,G=y.stateNode;if(!(y.flags&128)&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(rs===null||!rs.has(G)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=gg(y,k,s);Bm(y,ue);break e}}y=y.return}while(y!==null)}Yg(l)}catch(Ie){s=Ie,Lt===l&&l!==null&&(Lt=l=l.return);continue}break}while(!0)}function Gg(){var r=zu.current;return zu.current=Ou,r===null?Ou:r}function Wh(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(Qs&268435455)&&!(Bu&268435455)||os(Wt,nn)}function Gu(r,s){var l=nt;nt|=2;var d=Gg();(Wt!==r||nn!==s)&&(yi=null,Xs(r,s));do try{Xw();break}catch(p){Kg(r,p)}while(!0);if(ih(),nt=l,zu.current=d,Lt!==null)throw Error(t(261));return Wt=null,nn=0,Ft}function Xw(){for(;Lt!==null;)Qg(Lt)}function Jw(){for(;Lt!==null&&!Dr();)Qg(Lt)}function Qg(r){var s=Zg(r.alternate,r,qn);r.memoizedProps=r.pendingProps,s===null?Yg(r):Lt=s,Mh.current=null}function Yg(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=Ww(l,s),l!==null){l.flags&=32767,Lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,Lt=null;return}}else if(l=Hw(l,s,qn),l!==null){Lt=l;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=r}while(s!==null);Ft===0&&(Ft=5)}function Js(r,s,l){var d=Ke,p=nr.transition;try{nr.transition=null,Ke=1,Zw(r,s,l,d)}finally{nr.transition=p,Ke=d}return null}function Zw(r,s,l,d){do Jo();while(is!==null);if(nt&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(ft(r,y),r===Wt&&(Lt=Wt=null,nn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Hu||(Hu=!0,ey(Jt,function(){return Jo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=nr.transition,nr.transition=null;var E=Ke;Ke=1;var k=nt;nt|=4,Mh.current=null,Kw(r,l),Ug(l,r),_w(Wd),Ki=!!Hd,Wd=Hd=null,r.current=l,Gw(l),dr(),nt=k,Ke=E,nr.transition=y}else r.current=l;if(Hu&&(Hu=!1,is=r,Wu=p),y=r.pendingLanes,y===0&&(rs=null),_o(l.stateNode),Ln(r,at()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if($u)throw $u=!1,r=Fh,Fh=null,r;return Wu&1&&r.tag!==0&&Jo(),y=r.pendingLanes,y&1?r===Uh?tl++:(tl=0,Uh=r):tl=0,Zi(),null}function Jo(){if(is!==null){var r=Wi(Wu),s=nr.transition,l=Ke;try{if(nr.transition=null,Ke=16>r?16:r,is===null)var d=!1;else{if(r=is,is=null,Wu=0,nt&6)throw Error(t(331));var p=nt;for(nt|=4,ve=r.current;ve!==null;){var y=ve,E=y.child;if(ve.flags&16){var k=y.deletions;if(k!==null){for(var V=0;V<k.length;V++){var Y=k[V];for(ve=Y;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ja(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,ve=ae;else for(;ve!==null;){ie=ve;var re=ie.sibling,me=ie.return;if(Og(ie),ie===Y){ve=null;break}if(re!==null){re.return=me,ve=re;break}ve=me}}}var Ee=y.alternate;if(Ee!==null){var xe=Ee.child;if(xe!==null){Ee.child=null;do{var bt=xe.sibling;xe.sibling=null,xe=bt}while(xe!==null)}}ve=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ve=E;else e:for(;ve!==null;){if(y=ve,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Ja(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,ve=q;break e}ve=y.return}}var z=r.current;for(ve=z;ve!==null;){E=ve;var G=E.child;if(E.subtreeFlags&2064&&G!==null)G.return=E,ve=G;else e:for(E=z;ve!==null;){if(k=ve,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Uu(9,k)}}catch(Ie){kt(k,k.return,Ie)}if(k===E){ve=null;break e}var ue=k.sibling;if(ue!==null){ue.return=k.return,ve=ue;break e}ve=k.return}}if(nt=p,Zi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Cn,r)}catch{}d=!0}return d}finally{Ke=l,nr.transition=s}}return!1}function Xg(r,s,l){s=Go(l,s),s=mg(r,s,1),r=ts(r,s,1),s=xn(),r!==null&&($i(r,1,s),Ln(r,s))}function kt(r,s,l){if(r.tag===3)Xg(r,r,l);else for(;s!==null;){if(s.tag===3){Xg(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(rs===null||!rs.has(d))){r=Go(l,r),r=gg(s,r,1),s=ts(s,r,1),r=xn(),s!==null&&($i(s,1,r),Ln(s,r));break}}s=s.return}}function eE(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=xn(),r.pingedLanes|=r.suspendedLanes&l,Wt===r&&(nn&l)===l&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>at()-jh?Xs(r,0):Vh|=l),Ln(r,s)}function Jg(r,s){s===0&&(r.mode&1?(s=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):s=1);var l=xn();r=pi(r,s),r!==null&&($i(r,s,l),Ln(r,l))}function tE(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Jg(r,l)}function nE(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Jg(r,l)}var Zg;Zg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||kn.current)Nn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return Nn=!1,$w(r,s,l);Nn=!!(r.flags&131072)}else Nn=!1,Tt&&s.flags&1048576&&Nm(s,xu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ju(r,s),r=s.pendingProps;var p=Uo(s,dn.current);qo(s,l),p=mh(null,s,d,r,p,l);var y=gh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bn(d)?(y=!0,wu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,lh(s),p.updater=Mu,s.stateNode=p,p._reactInternals=s,Th(s,d,r,l),s=Rh(null,s,d,!0,y,l)):(s.tag=0,Tt&&y&&Jd(s),Tn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(ju(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=iE(d),r=wr(d,r),p){case 0:s=Sh(null,s,d,r,l);break e;case 1:s=Sg(null,s,d,r,l);break e;case 11:s=wg(null,s,d,r,l);break e;case 14:s=Eg(null,s,d,wr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:wr(d,p),Sh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:wr(d,p),Sg(r,s,d,p,l);case 3:e:{if(Rg(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,zm(r,s),Au(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Go(Error(t(423)),s),s=Cg(r,s,d,l,p);break e}else if(d!==p){p=Go(Error(t(424)),s),s=Cg(r,s,d,l,p);break e}else for(Wn=Yi(s.stateNode.containerInfo.firstChild),Hn=s,Tt=!0,_r=null,l=Fm(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($o(),d===p){s=gi(r,s,l);break e}Tn(r,s,d,l)}s=s.child}return s;case 5:return Hm(s),r===null&&th(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,qd(d,p)?E=null:y!==null&&qd(d,y)&&(s.flags|=32),Ig(r,s),Tn(r,s,E,l),s.child;case 6:return r===null&&th(s),null;case 13:return Pg(r,s,l);case 4:return uh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Ho(s,null,d,l):Tn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:wr(d,p),wg(r,s,d,p,l);case 7:return Tn(r,s,s.pendingProps,l),s.child;case 8:return Tn(r,s,s.pendingProps.children,l),s.child;case 12:return Tn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,pt(Ru,d._currentValue),d._currentValue=E,y!==null)if(vr(y.value,E)){if(y.children===p.children&&!kn.current){s=gi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){E=y.child;for(var V=k.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=mi(-1,l&-l),V.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),Y.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),oh(y.return,l,s),k.lanes|=l;break}V=V.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,k=E.alternate,k!==null&&(k.lanes|=l),oh(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Tn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,qo(s,l),p=er(p),d=d(p),s.flags|=1,Tn(r,s,d,l),s.child;case 14:return d=s.type,p=wr(d,s.pendingProps),p=wr(d.type,p),Eg(r,s,d,p,l);case 15:return Tg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:wr(d,p),ju(r,s),s.tag=1,bn(d)?(r=!0,wu(s)):r=!1,qo(s,l),fg(s,d,p),Th(s,d,p,l),Rh(null,s,d,!0,r,l);case 19:return kg(r,s,l);case 22:return xg(r,s,l)}throw Error(t(156,s.tag))};function ey(r,s){return Xt(r,s)}function rE(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,l,d){return new rE(r,s,l,d)}function qh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function iE(r){if(typeof r=="function")return qh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Be)return 14}return 2}function as(r,s){var l=r.alternate;return l===null?(l=rr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Qu(r,s,l,d,p,y){var E=2;if(d=r,typeof r=="function")qh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return Zs(l.children,p,y,s);case I:E=8,p|=8;break;case C:return r=rr(12,l,s,p|2),r.elementType=C,r.lanes=y,r;case N:return r=rr(13,l,s,p),r.elementType=N,r.lanes=y,r;case ht:return r=rr(19,l,s,p),r.elementType=ht,r.lanes=y,r;case Ue:return Yu(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case F:E=9;break e;case B:E=11;break e;case Be:E=14;break e;case wt:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=rr(E,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Zs(r,s,l,d){return r=rr(7,r,d,s),r.lanes=l,r}function Yu(r,s,l,d){return r=rr(22,r,d,s),r.elementType=Ue,r.lanes=l,r.stateNode={isHidden:!1},r}function Kh(r,s,l){return r=rr(6,r,null,s),r.lanes=l,r}function Gh(r,s,l){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function sE(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Qh(r,s,l,d,p,y,E,k,V){return r=new sE(r,s,l,k,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=rr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(y),r}function oE(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function ty(r){if(!r)return Ji;r=r._reactInternals;e:{if(qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(bn(l))return Am(r,l,s)}return s}function ny(r,s,l,d,p,y,E,k,V){return r=Qh(l,d,!0,r,p,y,E,k,V),r.context=ty(null),l=r.current,d=xn(),p=ss(l),y=mi(d,p),y.callback=s??null,ts(l,y,p),r.current.lanes=p,$i(r,p,d),Ln(r,d),r}function Xu(r,s,l,d){var p=s.current,y=xn(),E=ss(p);return l=ty(l),s.context===null?s.context=l:s.pendingContext=l,s=mi(y,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ts(p,s,E),r!==null&&(xr(r,p,E,y),Pu(r,p,E)),E}function Ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ry(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Yh(r,s){ry(r,s),(r=r.alternate)&&ry(r,s)}var iy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xh(r){this._internalRoot=r}Zu.prototype.render=Xh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Xu(r,s,null,null)},Zu.prototype.unmount=Xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ys(function(){Xu(null,r,null,null)}),s[ci]=null}};function Zu(r){this._internalRoot=r}Zu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Or.length&&s!==0&&s<Or[l].priority;l++);Or.splice(l,0,r),l===0&&nu(r)}};function Jh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ec(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sy(){}function aE(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Y=Ju(E);y.call(Y)}}var E=ny(s,d,r,0,null,!1,!1,"",sy);return r._reactRootContainer=E,r[ci]=E.current,Fa(r.nodeType===8?r.parentNode:r),Ys(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var k=d;d=function(){var Y=Ju(V);k.call(Y)}}var V=Qh(r,0,!1,null,null,!1,!1,"",sy);return r._reactRootContainer=V,r[ci]=V.current,Fa(r.nodeType===8?r.parentNode:r),Ys(function(){Xu(s,V,l,d)}),V}function tc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var k=p;p=function(){var V=Ju(E);k.call(V)}}Xu(s,E,r,p)}else E=aE(l,s,r,p,d);return Ju(E)}Xl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=zi(s.pendingLanes);l!==0&&(Hi(s,l|1),Ln(s,at()),!(nt&6)&&(Xo=at()+500,Zi()))}break;case 13:Ys(function(){var d=pi(r,1);if(d!==null){var p=xn();xr(d,r,1,p)}}),Yh(r,1)}},To=function(r){if(r.tag===13){var s=pi(r,134217728);if(s!==null){var l=xn();xr(s,r,134217728,l)}Yh(r,134217728)}},Jl=function(r){if(r.tag===13){var s=ss(r),l=pi(r,s);if(l!==null){var d=xn();xr(l,r,s,d)}Yh(r,s)}},Zl=function(){return Ke},eu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},ti=function(r,s,l){switch(s){case"input":if(Ns(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=vu(d);if(!p)throw Error(t(90));Di(d),Ns(d,p)}}}break;case"textarea":Ar(r,l);break;case"select":s=l.value,s!=null&&Qt(r,!!l.multiple,s,!1)}},ni=$h,j=Ys;var lE={usingClientEntryPoint:!1,Events:[Ba,jo,vu,_n,Os,$h]},nl={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uE={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=cr(r),r===null?null:r.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Cn=nc.inject(uE),cn=nc}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE,On.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(s))throw Error(t(200));return oE(r,s,null,l)},On.createRoot=function(r,s){if(!Jh(r))throw Error(t(299));var l=!1,d="",p=iy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Qh(r,1,!1,null,null,l,!1,d,p),r[ci]=s.current,Fa(r.nodeType===8?r.parentNode:r),new Xh(s)},On.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=cr(s),r=r===null?null:r.stateNode,r},On.flushSync=function(r){return Ys(r)},On.hydrate=function(r,s,l){if(!ec(s))throw Error(t(200));return tc(null,r,s,!0,l)},On.hydrateRoot=function(r,s,l){if(!Jh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=iy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=ny(s,null,r,1,l??null,p,!1,y,E),r[ci]=s.current,Fa(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Zu(s)},On.render=function(r,s,l){if(!ec(s))throw Error(t(200));return tc(null,r,s,!1,l)},On.unmountComponentAtNode=function(r){if(!ec(r))throw Error(t(40));return r._reactRootContainer?(Ys(function(){tc(null,null,r,!1,function(){r._reactRootContainer=null,r[ci]=null})}),!0):!1},On.unstable_batchedUpdates=$h,On.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!ec(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return tc(r,s,l,!1,d)},On.version="18.3.1-next-f1338f8080-20240426",On}var fy;function o0(){if(fy)return tf.exports;fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tf.exports=yE(),tf.exports}var py;function vE(){if(py)return rc;py=1;var n=o0();return rc.createRoot=n.createRoot,rc.hydrateRoot=n.hydrateRoot,rc}var _E=vE();function a0(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=a0(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function io(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=a0(n))&&(i&&(i+=" "),i+=e);return i}function wE(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}wE(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Nl=n=>typeof n=="number"&&!isNaN(n),oo=n=>typeof n=="string",xi=n=>typeof n=="function",EE=n=>oo(n)||Nl(n),Ef=n=>oo(n)||xi(n)?n:null,TE=(n,e)=>n===!1||Nl(n)&&n>0?n:e,Tf=n=>L.isValidElement(n)||oo(n)||xi(n)||Nl(n);function xE(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function IE({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:g,isIn:_,playToast:T}){let x=t?`${n}--${u}`:n,R=t?`${e}--${u}`:e,A=L.useRef(0);return L.useLayoutEffect(()=>{let M=g.current,b=x.split(" "),D=K=>{K.target===g.current&&(T(),M.removeEventListener("animationend",D),M.removeEventListener("animationcancel",D),A.current===0&&K.type!=="animationcancel"&&M.classList.remove(...b))};M.classList.add(...b),M.addEventListener("animationend",D),M.addEventListener("animationcancel",D)},[]),L.useEffect(()=>{let M=g.current,b=()=>{M.removeEventListener("animationend",b),i?xE(M,f,o):f()};_||(h?b():(A.current=1,M.className+=` ${R}`,M.addEventListener("animationend",b)))},[_]),it.createElement(it.Fragment,null,a)}}function my(n,e){return{content:l0(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function l0(n,e,t=!1){return L.isValidElement(n)&&!oo(n.type)?L.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):xi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function SE({closeToast:n,theme:e,ariaLabel:t="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function RE({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:f,isIn:g,theme:_}){let T=o||u&&h===0,x={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(x.transform=`scaleX(${h})`);let R=io("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),A=xi(a)?a({rtl:f,type:i,defaultClassName:R}):io(R,a),M={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&t()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),it.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:A,style:x,...M}))}var CE=1,u0=()=>`${CE++}`;function PE(n,e,t){let i=1,o=0,a=[],u=[],h=e,f=new Map,g=new Set,_=K=>(g.add(K),()=>g.delete(K)),T=()=>{u=Array.from(f.values()),g.forEach(K=>K())},x=({containerId:K,toastId:Q,updateId:te})=>{let U=K?K!==n:n!==1,oe=f.has(Q)&&te==null;return U||oe},R=(K,Q)=>{f.forEach(te=>{var U;(Q==null||Q===te.props.toastId)&&((U=te.toggle)==null||U.call(te,K))})},A=K=>{var Q,te;(te=(Q=K.props)==null?void 0:Q.onClose)==null||te.call(Q,K.removalReason),K.isActive=!1},M=K=>{if(K==null)f.forEach(A);else{let Q=f.get(K);Q&&A(Q)}T()},b=()=>{o-=a.length,a=[]},D=K=>{var Q,te;let{toastId:U,updateId:oe}=K.props,P=oe==null;K.staleId&&f.delete(K.staleId),K.isActive=!0,f.set(U,K),T(),t(my(K,P?"added":"updated")),P&&((te=(Q=K.props).onOpen)==null||te.call(Q))};return{id:n,props:h,observe:_,toggle:R,removeToast:M,toasts:f,clearQueue:b,buildToast:(K,Q)=>{if(x(Q))return;let{toastId:te,updateId:U,data:oe,staleId:P,delay:I}=Q,C=U==null;C&&o++;let O={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(Q).filter(([B,N])=>N!=null)),toastId:te,updateId:U,data:oe,isIn:!1,className:Ef(Q.className||h.toastClassName),progressClassName:Ef(Q.progressClassName||h.progressClassName),autoClose:Q.isLoading?!1:TE(Q.autoClose,h.autoClose),closeToast(B){f.get(te).removalReason=B,M(te)},deleteToast(){let B=f.get(te);if(B!=null){if(t(my(B,"removed")),f.delete(te),o--,o<0&&(o=0),a.length>0){D(a.shift());return}T()}}};O.closeButton=h.closeButton,Q.closeButton===!1||Tf(Q.closeButton)?O.closeButton=Q.closeButton:Q.closeButton===!0&&(O.closeButton=Tf(h.closeButton)?h.closeButton:!0);let F={content:K,props:O,staleId:P};h.limit&&h.limit>0&&o>h.limit&&C?a.push(F):Nl(I)?setTimeout(()=>{D(F)},I):D(F)},setProps(K){h=K},setToggle:(K,Q)=>{let te=f.get(K);te&&(te.toggle=Q)},isToastActive:K=>{var Q;return(Q=f.get(K))==null?void 0:Q.isActive},getSnapshot:()=>u}}var In=new Map,El=[],xf=new Set,AE=n=>xf.forEach(e=>e(n)),c0=()=>In.size>0;function kE(){El.forEach(n=>h0(n.content,n.options)),El=[]}var bE=(n,{containerId:e})=>{var t;return(t=In.get(e||1))==null?void 0:t.toasts.get(n)};function d0(n,e){var t;if(e)return!!((t=In.get(e))!=null&&t.isToastActive(n));let i=!1;return In.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function NE(n){if(!c0()){El=El.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||EE(n))In.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=In.get(n.containerId);e?e.removeToast(n.id):In.forEach(t=>{t.removeToast(n.id)})}}var DE=(n={})=>{In.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function h0(n,e){Tf(n)&&(c0()||El.push({content:n,options:e}),In.forEach(t=>{t.buildToast(n,e)}))}function LE(n){var e;(e=In.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function f0(n,e){In.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function OE(n){let e=n.containerId||1;return{subscribe(t){let i=PE(e,n,AE);In.set(e,i);let o=i.observe(t);return kE(),()=>{o(),In.delete(e)}},setProps(t){var i;(i=In.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=In.get(e))==null?void 0:t.getSnapshot()}}}function ME(n){return xf.add(n),()=>{xf.delete(n)}}function VE(n){return n&&(oo(n.toastId)||Nl(n.toastId))?n.toastId:u0()}function Dl(n,e){return h0(n,e),e.toastId}function Yc(n,e){return{...e,type:e&&e.type||n,toastId:VE(e)}}function Xc(n){return(e,t)=>Dl(e,Yc(n,t))}function dt(n,e){return Dl(n,Yc("default",e))}dt.loading=(n,e)=>Dl(n,Yc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function jE(n,{pending:e,error:t,success:i},o){let a;e&&(a=oo(e)?dt.loading(e,o):dt.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,_,T)=>{if(_==null){dt.dismiss(a);return}let x={type:g,...u,...o,data:T},R=oo(_)?{render:_}:_;return a?dt.update(a,{...x,...R}):dt(R.render,{...x,...R}),T},f=xi(n)?n():n;return f.then(g=>h("success",i,g)).catch(g=>h("error",t,g)),f}dt.promise=jE;dt.success=Xc("success");dt.info=Xc("info");dt.error=Xc("error");dt.warning=Xc("warning");dt.warn=dt.warning;dt.dark=(n,e)=>Dl(n,Yc("default",{theme:"dark",...e}));function FE(n){NE(n)}dt.dismiss=FE;dt.clearWaitingQueue=DE;dt.isActive=d0;dt.update=(n,e={})=>{let t=bE(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:u0()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,Dl(u,a)}};dt.done=n=>{dt.update(n,{progress:1})};dt.onChange=ME;dt.play=n=>f0(!0,n);dt.pause=n=>f0(!1,n);function UE(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=L.useRef(OE(n)).current;o(n);let a=(e=L.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(g=>{let{position:_}=g.props;f.has(_)||f.set(_,[]),f.get(_).push(g)}),Array.from(f,g=>h(g[0],g[1]))}return{getToastToRender:u,isToastActive:d0,count:a==null?void 0:a.length}}function zE(n){let[e,t]=L.useState(!1),[i,o]=L.useState(!1),a=L.useRef(null),u=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:g,onClick:_,closeOnClick:T}=n;LE({id:n.toastId,containerId:n.containerId,fn:t}),L.useEffect(()=>{if(n.pauseOnFocusLoss)return x(),()=>{R()}},[n.pauseOnFocusLoss]);function x(){document.hasFocus()||D(),window.addEventListener("focus",b),window.addEventListener("blur",D)}function R(){window.removeEventListener("focus",b),window.removeEventListener("blur",D)}function A(P){if(n.draggable===!0||n.draggable===P.pointerType){K();let I=a.current;u.canCloseOnClick=!0,u.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(u.start=P.clientX,u.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(u.start=P.clientY,u.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function M(P){let{top:I,bottom:C,left:O,right:F}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=O&&P.clientX<=F&&P.clientY>=I&&P.clientY<=C?D():b()}function b(){t(!0)}function D(){t(!1)}function K(){u.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",U)}function Q(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",U)}function te(P){let I=a.current;if(u.canDrag&&I){u.didMove=!0,e&&D(),n.draggableDirection==="x"?u.delta=P.clientX-u.start:u.delta=P.clientY-u.start,u.start!==P.clientX&&(u.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;I.style.transform=`translate3d(${C},0)`,I.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function U(){Q();let P=a.current;if(u.canDrag&&u.didMove&&P){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let oe={onPointerDown:A,onPointerUp:M};return h&&f&&(oe.onMouseEnter=D,n.stacked||(oe.onMouseLeave=b)),T&&(oe.onClick=P=>{_&&_(P),u.canCloseOnClick&&g(!0)}),{playToast:b,pauseToast:D,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:oe}}var BE=typeof window<"u"?L.useLayoutEffect:L.useEffect,Jc=({theme:n,type:e,isLoading:t,...i})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function $E(n){return it.createElement(Jc,{...n},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function HE(n){return it.createElement(Jc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function WE(n){return it.createElement(Jc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function qE(n){return it.createElement(Jc,{...n},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function KE(){return it.createElement("div",{className:"Toastify__spinner"})}var If={info:HE,warning:$E,success:WE,error:qE,spinner:KE},GE=n=>n in If;function QE({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(xi(i)?o=i({...a,isLoading:t}):L.isValidElement(i)?o=L.cloneElement(i,a):t?o=If.spinner():GE(e)&&(o=If[e](a))),o}var YE=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=zE(n),{closeButton:u,children:h,autoClose:f,onClick:g,type:_,hideProgressBar:T,closeToast:x,transition:R,position:A,className:M,style:b,progressClassName:D,updateId:K,role:Q,progress:te,rtl:U,toastId:oe,deleteToast:P,isIn:I,isLoading:C,closeOnClick:O,theme:F,ariaLabel:B}=n,N=io("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":O}),ht=xi(M)?M({rtl:U,position:A,type:_,defaultClassName:N}):io(N,M),Be=QE(n),wt=!!te||!f,Ue={closeToast:x,type:_,theme:F},le=null;return u===!1||(xi(u)?le=u(Ue):L.isValidElement(u)?le=L.cloneElement(u,Ue):le=SE(Ue)),it.createElement(R,{isIn:I,done:P,position:A,preventExitTransition:t,nodeRef:i,playToast:a},it.createElement("div",{id:oe,tabIndex:0,onClick:g,"data-in":I,className:ht,...o,style:b,ref:i,...I&&{role:Q,"aria-label":B}},Be!=null&&it.createElement("div",{className:io("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},Be),l0(h,n,!e),le,!n.customProgressBar&&it.createElement(RE,{...K&&!wt?{key:`p-${K}`}:{},rtl:U,theme:F,delay:f,isRunning:e,isIn:I,closeToast:x,hide:T,type:_,className:D,controlledProgress:wt,progress:te||0})))},XE=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),JE=IE(XE("bounce",!0)),ZE={position:"top-right",transition:JE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function eT(n){let e={...ZE,...n},t=n.stacked,[i,o]=L.useState(!0),a=L.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=UE(e),{className:g,style:_,rtl:T,containerId:x,hotKeys:R}=e;function A(b){let D=io("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":T});return xi(g)?g({position:b,rtl:T,defaultClassName:D}):io(D,Ef(g))}function M(){t&&(o(!0),dt.play())}return BE(()=>{var b;if(t){let D=a.current.querySelectorAll('[data-in="true"]'),K=12,Q=(b=e.position)==null?void 0:b.includes("top"),te=0,U=0;Array.from(D).reverse().forEach((oe,P)=>{let I=oe;I.classList.add("Toastify__toast--stacked"),P>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=Q?"top":"bot");let C=te*(i?.2:1)+(i?0:K*P);I.style.setProperty("--y",`${Q?C:C*-1}px`),I.style.setProperty("--g",`${K}`),I.style.setProperty("--s",`${1-(i?U:0)}`),te+=I.offsetHeight,U+=.025})}},[i,f,t]),L.useEffect(()=>{function b(D){var K;let Q=a.current;R(D)&&((K=Q.querySelector('[tabIndex="0"]'))==null||K.focus(),o(!1),dt.pause()),D.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(o(!0),dt.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[R]),it.createElement("section",{ref:a,className:"Toastify",id:x,onMouseEnter:()=>{t&&(o(!1),dt.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((b,D)=>{let K=D.length?{..._}:{..._,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:A(b),"data-stacked":t,style:K,key:`c-${b}`},D.map(({content:Q,props:te})=>it.createElement(YE,{...te,stacked:t,collapseAll:M,isIn:h(te.toastId,te.containerId),key:`t-${te.key}`},Q)))}))}var il={},gy;function tT(){if(gy)return il;gy=1,Object.defineProperty(il,"__esModule",{value:!0}),il.parse=u,il.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,R){const A=new a,M=x.length;if(M<2)return A;const b=(R==null?void 0:R.decode)||_;let D=0;do{const K=x.indexOf("=",D);if(K===-1)break;const Q=x.indexOf(";",D),te=Q===-1?M:Q;if(K>te){D=x.lastIndexOf(";",K-1)+1;continue}const U=h(x,D,K),oe=f(x,K,U),P=x.slice(U,oe);if(A[P]===void 0){let I=h(x,K+1,te),C=f(x,te,I);const O=b(x.slice(I,C));A[P]=O}D=te+1}while(D<M);return A}function h(x,R,A){do{const M=x.charCodeAt(R);if(M!==32&&M!==9)return R}while(++R<A);return A}function f(x,R,A){for(;R>A;){const M=x.charCodeAt(--R);if(M!==32&&M!==9)return R+1}return A}function g(x,R,A){const M=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const b=M(R);if(!e.test(b))throw new TypeError(`argument val is invalid: ${R}`);let D=x+"="+b;if(!A)return D;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);D+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);D+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);D+="; Path="+A.path}if(A.expires){if(!T(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);D+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(D+="; HttpOnly"),A.secure&&(D+="; Secure"),A.partitioned&&(D+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return D}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return o.call(x)==="[object Date]"}return il}tT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yy="popstate";function nT(n={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Ai(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Tl("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof a=="string"?a:Es(a))}function i(o,a){Gt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return iT(e,t,i,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function vy(n,e){return{usr:n.state,key:n.key,idx:e}}function Tl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ai(e):e,state:t,key:e&&e.key||i||rT()}}function Es({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ai(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function iT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function T(){h="POP";let b=_(),D=b==null?null:b-g;g=b,f&&f({action:h,location:M.location,delta:D})}function x(b,D){h="PUSH";let K=Tl(M.location,b,D);t(K,b),g=_()+1;let Q=vy(K,g),te=M.createHref(K);try{u.pushState(Q,"",te)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(te)}a&&f&&f({action:h,location:M.location,delta:1})}function R(b,D){h="REPLACE";let K=Tl(M.location,b,D);t(K,b),g=_();let Q=vy(K,g),te=M.createHref(K);u.replaceState(Q,"",te),a&&f&&f({action:h,location:M.location,delta:0})}function A(b){let D=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof b=="string"?b:Es(b);return K=K.replace(/ $/,"%20"),Qe(D,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,D)}let M={get action(){return h},get location(){return n(o,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(yy,T),f=b,()=>{o.removeEventListener(yy,T),f=null}},createHref(b){return e(o,b)},createURL:A,encodeLocation(b){let D=A(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:R,go(b){return u.go(b)}};return M}var sT=new Set(["lazy","caseSensitive","path","id","index","children"]);function oT(n){return n.index===!0}function Sc(n,e,t=[],i={}){return n.map((o,a)=>{let u=[...t,String(a)],h=typeof o.id=="string"?o.id:u.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),oT(o)){let f={...o,...e(o),id:h};return i[h]=f,f}else{let f={...o,...e(o),id:h,children:void 0};return i[h]=f,o.children&&(f.children=Sc(o.children,e,u,i)),f}})}function ds(n,e,t="/"){return hc(n,e,t,!1)}function hc(n,e,t,i){let o=typeof e=="string"?Ai(e):e,a=Rr(o.pathname||"/",t);if(a==null)return null;let u=p0(n);lT(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=_T(a);h=yT(u[f],g,i)}return h}function aT(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function p0(n,e=[],t=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Hr([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(Qe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),p0(a.children,e,_,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:mT(g,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of m0(a.path))o(a,u,f)}),e}function m0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=m0(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function lT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var uT=/^:[\w-]+$/,cT=3,dT=2,hT=1,fT=10,pT=-2,_y=n=>n==="*";function mT(n,e){let t=n.split("/"),i=t.length;return t.some(_y)&&(i+=pT),e&&(i+=dT),t.filter(o=>!_y(o)).reduce((o,a)=>o+(uT.test(a)?cT:a===""?hT:fT),i)}function gT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function yT(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=Rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),x=f.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:Hr([a,T.pathname]),pathnameBase:TT(Hr([a,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(a=Hr([a,T.pathnameBase]))}return u}function Rc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},x)=>{if(_==="*"){let A=h[x]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const R=h[x];return T&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function vT(n,e=!1,t=!0){Gt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function _T(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function wT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ai(n):n;return{pathname:t?t.startsWith("/")?t:ET(t,e):e,search:xT(i),hash:IT(o)}}function ET(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function sf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function np(n){let e=g0(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rp(n,e,t,i=!1){let o;typeof n=="string"?o=Ai(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),sf("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),sf("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),sf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}h=T>=0?e[T]:"/"}let f=wT(o,h),g=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),TT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Cc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Zc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var y0=["POST","PUT","PATCH","DELETE"],ST=new Set(y0),RT=["GET",...y0],CT=new Set(RT),PT=new Set([301,302,303,307,308]),AT=new Set([307,308]),of={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),v0="remix-router-transitions",_0=Symbol("ResetLoaderData");function NT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||bT,o={},a=Sc(n.routes,i,void 0,o),u,h=n.basename||"/",f=n.dataStrategy||VT,g=n.patchRoutesOnNavigation,_={...n.future},T=null,x=new Set,R=null,A=null,M=null,b=n.hydrationData!=null,D=ds(a,n.history.location,h),K=null;if(D==null&&!g){let j=ir(404,{pathname:n.history.location.pathname}),{matches:H,route:X}=ky(a);D=H,K={[X.id]:j}}D&&!n.hydrationData&&lr(D,a,n.history.location.pathname).active&&(D=null);let Q;if(D)if(D.some(j=>j.route.lazy))Q=!1;else if(!D.some(j=>j.route.loader))Q=!0;else{let j=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let X=D.findIndex(ee=>H[ee.route.id]!==void 0);Q=D.slice(0,X+1).every(ee=>!Rf(ee.route,j,H))}else Q=D.every(X=>!Rf(X.route,j,H))}else{Q=!1,D=[];let j=lr(null,a,n.history.location.pathname);j.active&&j.matches&&(D=j.matches)}let te,U={historyAction:n.history.action,location:n.history.location,matches:D,initialized:Q,navigation:of,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||K,fetchers:new Map,blockers:new Map},oe="POP",P=!1,I,C=!1,O=new Map,F=null,B=!1,N=!1,ht=new Set,Be=new Map,wt=0,Ue=-1,le=new Map,Te=new Set,he=new Map,$=new Map,Z=new Set,we=new Map,Me,Le=null;function $e(){if(T=n.history.listen(({action:j,location:H,delta:X})=>{if(Me){Me(),Me=void 0;return}Gt(we.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Fi({currentLocation:U.location,nextLocation:H,historyAction:j});if(ee&&X!=null){let fe=new Promise(ye=>{Me=ye});n.history.go(X*-1),Nr(ee,{state:"blocked",location:H,proceed(){Nr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fe.then(()=>n.history.go(X))},reset(){let ye=new Map(U.blockers);ye.set(ee,sl),je({blockers:ye})}});return}return ln(j,H)}),t){GT(e,O);let j=()=>QT(e,O);e.addEventListener("pagehide",j),F=()=>e.removeEventListener("pagehide",j)}return U.initialized||ln("POP",U.location,{initialHydration:!0}),te}function Ze(){T&&T(),F&&F(),x.clear(),I&&I.abort(),U.fetchers.forEach((j,H)=>Fn(H)),U.blockers.forEach((j,H)=>ji(H))}function et(j){return x.add(j),()=>x.delete(j)}function je(j,H={}){U={...U,...j};let X=[],ee=[];U.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(Z.has(ye)?X.push(ye):ee.push(ye))}),[...x].forEach(fe=>fe(U,{deletedFetchers:X,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),X.forEach(fe=>Fn(fe)),ee.forEach(fe=>U.fetchers.delete(fe))}function mt(j,H,{flushSync:X}={}){var ce,ke;let ee=U.actionData!=null&&U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0,fe;H.actionData?Object.keys(H.actionData).length>0?fe=H.actionData:fe=null:ee?fe=U.actionData:fe=null;let ye=H.loaderData?Py(U.loaderData,H.loaderData,H.matches||[],H.errors):U.loaderData,Re=U.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Fe,st)=>Re.set(st,sl)));let pe=P===!0||U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&((ke=j.state)==null?void 0:ke._isRedirect)!==!0;u&&(a=u,u=void 0),B||oe==="POP"||(oe==="PUSH"?n.history.push(j,j.state):oe==="REPLACE"&&n.history.replace(j,j.state));let _e;if(oe==="POP"){let Fe=O.get(U.location.pathname);Fe&&Fe.has(j.pathname)?_e={currentLocation:U.location,nextLocation:j}:O.has(j.pathname)&&(_e={currentLocation:j,nextLocation:U.location})}else if(C){let Fe=O.get(U.location.pathname);Fe?Fe.add(j.pathname):(Fe=new Set([j.pathname]),O.set(U.location.pathname,Fe)),_e={currentLocation:U.location,nextLocation:j}}je({...H,actionData:fe,loaderData:ye,historyAction:oe,location:j,initialized:!0,navigation:of,revalidation:"idle",restoreScrollPosition:Un(j,H.matches||U.matches),preventScrollReset:pe,blockers:Re},{viewTransitionOpts:_e,flushSync:X===!0}),oe="POP",P=!1,C=!1,B=!1,N=!1,Le==null||Le.resolve(),Le=null}async function Qn(j,H){if(typeof j=="number"){n.history.go(j);return}let X=Sf(U.location,U.matches,h,j,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ee,submission:fe,error:ye}=wy(!1,X,H),Re=U.location,pe=Tl(U.location,ee,H&&H.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=H&&H.replace!=null?H.replace:void 0,ce="PUSH";_e===!0?ce="REPLACE":_e===!1||fe!=null&&Ir(fe.formMethod)&&fe.formAction===U.location.pathname+U.location.search&&(ce="REPLACE");let ke=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Fe=(H&&H.flushSync)===!0,st=Fi({currentLocation:Re,nextLocation:pe,historyAction:ce});if(st){Nr(st,{state:"blocked",location:pe,proceed(){Nr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Qn(j,H)},reset(){let At=new Map(U.blockers);At.set(st,sl),je({blockers:At})}});return}await ln(ce,pe,{submission:fe,pendingError:ye,preventScrollReset:ke,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Fe})}function Di(){Le||(Le=YT()),Ar(),je({revalidation:"loading"});let j=Le.promise;return U.navigation.state==="submitting"?j:U.navigation.state==="idle"?(ln(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),j):(ln(oe||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:C===!0}),j)}async function ln(j,H,X){I&&I.abort(),I=null,oe=j,B=(X&&X.startUninterruptedRevalidation)===!0,Rn(U.location,U.matches),P=(X&&X.preventScrollReset)===!0,C=(X&&X.enableViewTransition)===!0;let ee=u||a,fe=X&&X.overrideNavigation,ye=ds(ee,H,h),Re=(X&&X.flushSync)===!0,pe=lr(ye,ee,H.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:qe,notFoundMatches:tt,route:ot}=ar(H.pathname);mt(H,{matches:tt,loaderData:{},errors:{[ot.id]:qe}},{flushSync:Re});return}if(U.initialized&&!N&&$T(U.location,H)&&!(X&&X.submission&&Ir(X.submission.formMethod))){mt(H,{matches:ye},{flushSync:Re});return}I=new AbortController;let _e=Zo(n.history,H,I.signal,X&&X.submission),ce;if(X&&X.pendingError)ce=[to(ye).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Ir(X.submission.formMethod)){let qe=await Zr(_e,H,X.submission,ye,pe.active,{replace:X.replace,flushSync:Re});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[tt,ot]=qe.pendingActionResult;if(Kn(ot)&&Zc(ot.error)&&ot.error.status===404){I=null,mt(H,{matches:qe.matches,loaderData:{},errors:{[tt]:ot.error}});return}}ye=qe.matches||ye,ce=qe.pendingActionResult,fe=af(H,X.submission),Re=!1,pe.active=!1,_e=Zo(n.history,_e.url,_e.signal)}let{shortCircuited:ke,matches:Fe,loaderData:st,errors:At}=await Li(_e,H,ye,pe.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Re,ce);ke||(I=null,mt(H,{matches:Fe||ye,...Ay(ce),loaderData:st,errors:At}))}async function Zr(j,H,X,ee,fe,ye={}){Ar();let Re=qT(H,X);if(je({navigation:Re},{flushSync:ye.flushSync===!0}),fe){let ce=await _n(ee,H.pathname,j.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let ke=to(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[ke,{type:"error",error:ce.error}]}}else if(ce.matches)ee=ce.matches;else{let{notFoundMatches:ke,error:Fe,route:st}=ar(H.pathname);return{matches:ke,pendingActionResult:[st.id,{type:"error",error:Fe}]}}}let pe,_e=ll(ee,H);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:ir(405,{method:j.method,pathname:H.pathname,routeId:_e.route.id})};else if(pe=(await or("action",U,j,[_e],ee,null))[_e.route.id],j.signal.aborted)return{shortCircuited:!0};if(no(pe)){let ce;return ye&&ye.replace!=null?ce=ye.replace:ce=Sy(pe.response.headers.get("Location"),new URL(j.url),h)===U.location.pathname+U.location.search,await Qt(j,pe,!0,{submission:X,replace:ce}),{shortCircuited:!0}}if(Kn(pe)){let ce=to(ee,_e.route.id);return(ye&&ye.replace)!==!0&&(oe="PUSH"),{matches:ee,pendingActionResult:[ce.route.id,pe]}}return{matches:ee,pendingActionResult:[_e.route.id,pe]}}async function Li(j,H,X,ee,fe,ye,Re,pe,_e,ce,ke){let Fe=fe||af(H,ye),st=ye||Re||Ny(Fe),At=!B&&!_e;if(ee){if(At){let gt=Oi(ke);je({navigation:Fe,...gt!==void 0?{actionData:gt}:{}},{flushSync:ce})}let Ye=await _n(X,H.pathname,j.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let gt=to(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[gt]:Ye.error}}}else if(Ye.matches)X=Ye.matches;else{let{error:gt,notFoundMatches:Jt,route:hr}=ar(H.pathname);return{matches:Jt,loaderData:{},errors:{[hr.id]:gt}}}}let qe=u||a,[tt,ot]=Ty(n.history,U,X,st,H,_e===!0,N,ht,Z,he,Te,qe,h,ke);if(Ue=++wt,tt.length===0&&ot.length===0){let Ye=br();return mt(H,{matches:X,loaderData:{},errors:ke&&Kn(ke[1])?{[ke[0]]:ke[1].error}:null,...Ay(ke),...Ye?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ce}),{shortCircuited:!0}}if(At){let Ye={};if(!ee){Ye.navigation=Fe;let gt=Oi(ke);gt!==void 0&&(Ye.actionData=gt)}ot.length>0&&(Ye.fetchers=Ns(ot)),je(Ye,{flushSync:ce})}ot.forEach(Ye=>{Yt(Ye.key),Ye.controller&&Be.set(Ye.key,Ye.controller)});let ur=()=>ot.forEach(Ye=>Yt(Ye.key));I&&I.signal.addEventListener("abort",ur);let{loaderResults:cr,fetcherResults:un}=await ei(U,X,tt,ot,j);if(j.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",ur),ot.forEach(Ye=>Be.delete(Ye.key));let Xt=ic(cr);if(Xt)return await Qt(j,Xt.result,!0,{replace:pe}),{shortCircuited:!0};if(Xt=ic(un),Xt)return Te.add(Xt.key),await Qt(j,Xt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:ri,errors:Dr}=Cy(U,X,cr,ke,ot,un);_e&&U.errors&&(Dr={...U.errors,...Dr});let dr=br(),at=Vi(Ue),ii=dr||at||ot.length>0;return{matches:X,loaderData:ri,errors:Dr,...ii?{fetchers:new Map(U.fetchers)}:{}}}function Oi(j){if(j&&!Kn(j[1]))return{[j[0]]:j[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ns(j){return j.forEach(H=>{let X=U.fetchers.get(H.key),ee=ol(void 0,X?X.data:void 0);U.fetchers.set(H.key,ee)}),new Map(U.fetchers)}async function vo(j,H,X,ee){Yt(j);let fe=(ee&&ee.flushSync)===!0,ye=u||a,Re=Sf(U.location,U.matches,h,X,H,ee==null?void 0:ee.relative),pe=ds(ye,Re,h),_e=lr(pe,ye,Re);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){ut(j,H,ir(404,{pathname:Re}),{flushSync:fe});return}let{path:ce,submission:ke,error:Fe}=wy(!0,Re,ee);if(Fe){ut(j,H,Fe,{flushSync:fe});return}let st=ll(pe,ce),At=(ee&&ee.preventScrollReset)===!0;if(ke&&Ir(ke.formMethod)){await Mi(j,H,ce,st,pe,_e.active,fe,At,ke);return}he.set(j,{routeId:H,path:ce}),await sr(j,H,ce,st,pe,_e.active,fe,At,ke)}async function Mi(j,H,X,ee,fe,ye,Re,pe,_e){Ar(),he.delete(j);function ce(yt){if(!yt.route.action&&!yt.route.lazy){let Cn=ir(405,{method:_e.formMethod,pathname:X,routeId:H});return ut(j,H,Cn,{flushSync:Re}),!0}return!1}if(!ye&&ce(ee))return;let ke=U.fetchers.get(j);Sn(j,KT(_e,ke),{flushSync:Re});let Fe=new AbortController,st=Zo(n.history,X,Fe.signal,_e);if(ye){let yt=await _n(fe,X,st.signal);if(yt.type==="aborted")return;if(yt.type==="error"){ut(j,H,yt.error,{flushSync:Re});return}else if(yt.matches){if(fe=yt.matches,ee=ll(fe,X),ce(ee))return}else{ut(j,H,ir(404,{pathname:X}),{flushSync:Re});return}}Be.set(j,Fe);let At=wt,tt=(await or("action",U,st,[ee],fe,j))[ee.route.id];if(st.signal.aborted){Be.get(j)===Fe&&Be.delete(j);return}if(Z.has(j)){if(no(tt)||Kn(tt)){Sn(j,cs(void 0));return}}else{if(no(tt))if(Be.delete(j),Ue>At){Sn(j,cs(void 0));return}else return Te.add(j),Sn(j,ol(_e)),Qt(st,tt,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(Kn(tt)){ut(j,H,tt.error);return}}let ot=U.navigation.location||U.location,ur=Zo(n.history,ot,Fe.signal),cr=u||a,un=U.navigation.state!=="idle"?ds(cr,U.navigation.location,h):U.matches;Qe(un,"Didn't find any matches after fetcher action");let Xt=++wt;le.set(j,Xt);let ri=ol(_e,tt.data);U.fetchers.set(j,ri);let[Dr,dr]=Ty(n.history,U,un,_e,ot,!1,N,ht,Z,he,Te,cr,h,[ee.route.id,tt]);dr.filter(yt=>yt.key!==j).forEach(yt=>{let Cn=yt.key,cn=U.fetchers.get(Cn),_o=ol(void 0,cn?cn.data:void 0);U.fetchers.set(Cn,_o),Yt(Cn),yt.controller&&Be.set(Cn,yt.controller)}),je({fetchers:new Map(U.fetchers)});let at=()=>dr.forEach(yt=>Yt(yt.key));Fe.signal.addEventListener("abort",at);let{loaderResults:ii,fetcherResults:Ye}=await ei(U,un,Dr,dr,ur);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",at),le.delete(j),Be.delete(j),dr.forEach(yt=>Be.delete(yt.key));let gt=ic(ii);if(gt)return Qt(ur,gt.result,!1,{preventScrollReset:pe});if(gt=ic(Ye),gt)return Te.add(gt.key),Qt(ur,gt.result,!1,{preventScrollReset:pe});let{loaderData:Jt,errors:hr}=Cy(U,un,ii,void 0,dr,Ye);if(U.fetchers.has(j)){let yt=cs(tt.data);U.fetchers.set(j,yt)}Vi(Xt),U.navigation.state==="loading"&&Xt>Ue?(Qe(oe,"Expected pending action"),I&&I.abort(),mt(U.navigation.location,{matches:un,loaderData:Jt,errors:hr,fetchers:new Map(U.fetchers)})):(je({errors:hr,loaderData:Py(U.loaderData,Jt,un,hr),fetchers:new Map(U.fetchers)}),N=!1)}async function sr(j,H,X,ee,fe,ye,Re,pe,_e){let ce=U.fetchers.get(j);Sn(j,ol(_e,ce?ce.data:void 0),{flushSync:Re});let ke=new AbortController,Fe=Zo(n.history,X,ke.signal);if(ye){let tt=await _n(fe,X,Fe.signal);if(tt.type==="aborted")return;if(tt.type==="error"){ut(j,H,tt.error,{flushSync:Re});return}else if(tt.matches)fe=tt.matches,ee=ll(fe,X);else{ut(j,H,ir(404,{pathname:X}),{flushSync:Re});return}}Be.set(j,ke);let st=wt,qe=(await or("loader",U,Fe,[ee],fe,j))[ee.route.id];if(Be.get(j)===ke&&Be.delete(j),!Fe.signal.aborted){if(Z.has(j)){Sn(j,cs(void 0));return}if(no(qe))if(Ue>st){Sn(j,cs(void 0));return}else{Te.add(j),await Qt(Fe,qe,!1,{preventScrollReset:pe});return}if(Kn(qe)){ut(j,H,qe.error);return}Sn(j,cs(qe.data))}}async function Qt(j,H,X,{submission:ee,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){H.response.headers.has("X-Remix-Revalidate")&&(N=!0);let pe=H.response.headers.get("Location");Qe(pe,"Expected a Location header on the redirect Response"),pe=Sy(pe,new URL(j.url),h);let _e=Tl(U.location,pe,{_isRedirect:!0});if(t){let qe=!1;if(H.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(ip.test(pe)){const tt=n.history.createURL(pe);qe=tt.origin!==e.location.origin||Rr(tt.pathname,h)==null}if(qe){Re?e.location.replace(pe):e.location.assign(pe);return}}I=null;let ce=Re===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Fe,formEncType:st}=U.navigation;!ee&&!fe&&ke&&Fe&&st&&(ee=Ny(U.navigation));let At=ee||fe;if(AT.has(H.response.status)&&At&&Ir(At.formMethod))await ln(ce,_e,{submission:{...At,formAction:pe},preventScrollReset:ye||P,enableViewTransition:X?C:void 0});else{let qe=af(_e,ee);await ln(ce,_e,{overrideNavigation:qe,fetcherSubmission:fe,preventScrollReset:ye||P,enableViewTransition:X?C:void 0})}}async function or(j,H,X,ee,fe,ye){let Re,pe={};try{Re=await jT(f,j,H,X,ee,fe,ye,o,i)}catch(_e){return ee.forEach(ce=>{pe[ce.route.id]={type:"error",error:_e}}),pe}for(let[_e,ce]of Object.entries(Re))if(HT(ce)){let ke=ce.result;pe[_e]={type:"redirect",response:zT(ke,X,_e,fe,h)}}else pe[_e]=await UT(ce);return pe}async function ei(j,H,X,ee,fe){let ye=or("loader",j,fe,X,H,null),Re=Promise.all(ee.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let Fe=(await or("loader",j,Zo(n.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:Fe}}else return Promise.resolve({[ce.key]:{type:"error",error:ir(404,{pathname:ce.path})}})})),pe=await ye,_e=(await Re).reduce((ce,ke)=>Object.assign(ce,ke),{});return{loaderResults:pe,fetcherResults:_e}}function Ar(){N=!0,he.forEach((j,H)=>{Be.has(H)&&ht.add(H),Yt(H)})}function Sn(j,H,X={}){U.fetchers.set(j,H),je({fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ut(j,H,X,ee={}){let fe=to(U.matches,H);Fn(j),je({errors:{[fe.route.id]:X},fetchers:new Map(U.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Pt(j){return $.set(j,($.get(j)||0)+1),Z.has(j)&&Z.delete(j),U.fetchers.get(j)||kT}function Fn(j){let H=U.fetchers.get(j);Be.has(j)&&!(H&&H.state==="loading"&&le.has(j))&&Yt(j),he.delete(j),le.delete(j),Te.delete(j),Z.delete(j),ht.delete(j),U.fetchers.delete(j)}function Ds(j){let H=($.get(j)||0)-1;H<=0?($.delete(j),Z.add(j)):$.set(j,H),je({fetchers:new Map(U.fetchers)})}function Yt(j){let H=Be.get(j);H&&(H.abort(),Be.delete(j))}function kr(j){for(let H of j){let X=Pt(H),ee=cs(X.data);U.fetchers.set(H,ee)}}function br(){let j=[],H=!1;for(let X of Te){let ee=U.fetchers.get(X);Qe(ee,`Expected fetcher: ${X}`),ee.state==="loading"&&(Te.delete(X),j.push(X),H=!0)}return kr(j),H}function Vi(j){let H=[];for(let[X,ee]of le)if(ee<j){let fe=U.fetchers.get(X);Qe(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(Yt(X),le.delete(X),H.push(X))}return kr(H),H.length>0}function Ls(j,H){let X=U.blockers.get(j)||sl;return we.get(j)!==H&&we.set(j,H),X}function ji(j){U.blockers.delete(j),we.delete(j)}function Nr(j,H){let X=U.blockers.get(j)||sl;Qe(X.state==="unblocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="proceeding"||X.state==="blocked"&&H.state==="unblocked"||X.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${H.state}`);let ee=new Map(U.blockers);ee.set(j,H),je({blockers:ee})}function Fi({currentLocation:j,nextLocation:H,historyAction:X}){if(we.size===0)return;we.size>1&&Gt(!1,"A router only supports one blocker at a time");let ee=Array.from(we.entries()),[fe,ye]=ee[ee.length-1],Re=U.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:j,nextLocation:H,historyAction:X}))return fe}function ar(j){let H=ir(404,{pathname:j}),X=u||a,{matches:ee,route:fe}=ky(X);return{notFoundMatches:ee,route:fe,error:H}}function Ui(j,H,X){if(R=j,M=H,A=X||null,!b&&U.navigation===of){b=!0;let ee=Un(U.location,U.matches);ee!=null&&je({restoreScrollPosition:ee})}return()=>{R=null,M=null,A=null}}function ti(j,H){return A&&A(j,H.map(ee=>aT(ee,U.loaderData)))||j.key}function Rn(j,H){if(R&&M){let X=ti(j,H);R[X]=M()}}function Un(j,H){if(R){let X=ti(j,H),ee=R[X];if(typeof ee=="number")return ee}return null}function lr(j,H,X){if(g)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:hc(H,X,h,!0)}}else return{active:!0,matches:hc(H,X,h,!0)||[]};return{active:!1,matches:null}}async function _n(j,H,X){if(!g)return{type:"success",matches:j};let ee=j;for(;;){let fe=u==null,ye=u||a,Re=o;try{await g({path:H,matches:ee,patch:(ce,ke)=>{X.aborted||Iy(ce,ke,ye,Re,i)}})}catch(ce){return{type:"error",error:ce,partialMatches:ee}}finally{fe&&!X.aborted&&(a=[...a])}if(X.aborted)return{type:"aborted"};let pe=ds(ye,H,h);if(pe)return{type:"success",matches:pe};let _e=hc(ye,H,h,!0);if(!_e||ee.length===_e.length&&ee.every((ce,ke)=>ce.route.id===_e[ke].route.id))return{type:"success",matches:null};ee=_e}}function Os(j){o={},u=Sc(j,i,void 0,o)}function ni(j,H){let X=u==null;Iy(j,H,u||a,o,i),X&&(a=[...a],je({}))}return te={get basename(){return h},get future(){return _},get state(){return U},get routes(){return a},get window(){return e},initialize:$e,subscribe:et,enableScrollRestoration:Ui,navigate:Qn,fetch:vo,revalidate:Di,createHref:j=>n.history.createHref(j),encodeLocation:j=>n.history.encodeLocation(j),getFetcher:Pt,deleteFetcher:Ds,dispose:Ze,getBlocker:Ls,deleteBlocker:ji,patchRoutes:ni,_internalFetchControllers:Be,_internalSetRoutes:Os},te}function DT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Sf(n,e,t,i,o,a){let u,h;if(o){u=[];for(let g of e)if(u.push(g),g.route.id===o){h=g;break}}else u=e,h=e[e.length-1];let f=rp(i||".",np(u),Rr(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let g=sp(f.search);if(h.route.index&&!g)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let _=new URLSearchParams(f.search),T=_.getAll("index");_.delete("index"),T.filter(R=>R).forEach(R=>_.append("index",R));let x=_.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Hr([t,f.pathname])),Es(f)}function wy(n,e,t){if(!t||!DT(t))return{path:e};if(t.formMethod&&!WT(t.formMethod))return{path:e,error:ir(405,{method:t.formMethod})};let i=()=>({path:e,error:ir(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=E0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ir(a))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[R,A])=>`${x}${R}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Ir(a))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=Cf(t.formData),f=t.formData;else if(t.body instanceof FormData)h=Cf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=Ry(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=Ry(h)}catch{return i()}let g={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ir(g.formMethod))return{path:e,submission:g};let _=Ai(e);return n&&_.search&&sp(_.search)&&h.append("index",""),_.search=`?${h}`,{path:Es(_),submission:g}}function Ey(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Ty(n,e,t,i,o,a,u,h,f,g,_,T,x,R){let A=R?Kn(R[1])?R[1].error:R[1].data:void 0,M=n.createURL(e.location),b=n.createURL(o),D=t;a&&e.errors?D=Ey(t,Object.keys(e.errors)[0],!0):R&&Kn(R[1])&&(D=Ey(t,R[0]));let K=R?R[1].statusCode:void 0,Q=K&&K>=400,te=D.filter((oe,P)=>{let{route:I}=oe;if(I.lazy)return!0;if(I.loader==null)return!1;if(a)return Rf(I,e.loaderData,e.errors);if(LT(e.loaderData,e.matches[P],oe))return!0;let C=e.matches[P],O=oe;return xy(oe,{currentUrl:M,currentParams:C.params,nextUrl:b,nextParams:O.params,...i,actionResult:A,actionStatus:K,defaultShouldRevalidate:Q?!1:u||M.pathname+M.search===b.pathname+b.search||M.search!==b.search||OT(C,O)})}),U=[];return g.forEach((oe,P)=>{if(a||!t.some(B=>B.route.id===oe.routeId)||f.has(P))return;let I=ds(T,oe.path,x);if(!I){U.push({key:P,routeId:oe.routeId,path:oe.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(P),O=ll(I,oe.path),F=!1;_.has(P)?F=!1:h.has(P)?(h.delete(P),F=!0):C&&C.state!=="idle"&&C.data===void 0?F=u:F=xy(O,{currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:t[t.length-1].params,...i,actionResult:A,actionStatus:K,defaultShouldRevalidate:Q?!1:u}),F&&U.push({key:P,routeId:oe.routeId,path:oe.path,matches:I,match:O,controller:new AbortController})}),[te,U]}function Rf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function LT(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function OT(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function xy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Iy(n,e,t,i,o){let a;if(n){let f=i[n];Qe(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let u=e.filter(f=>!a.some(g=>w0(f,g))),h=Sc(u,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function w0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>w0(t,a))}):!1}async function MT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Qe(o,"No route found in manifest");let a={};for(let u in i){let f=o[u]!==void 0&&u!=="hasErrorBoundary";Gt(!f,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!sT.has(u)&&(a[u]=i[u])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function VT({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[e[a].route.id]:o}),{})}async function jT(n,e,t,i,o,a,u,h,f,g){let _=a.map(R=>R.route.lazy?MT(R.route,f,h):void 0),T=a.map((R,A)=>{let M=_[A],b=o.some(K=>K.route.id===R.route.id);return{...R,shouldLoad:b,resolve:async K=>(K&&i.method==="GET"&&(R.route.lazy||R.route.loader)&&(b=!0),b?FT(e,i,R,M,K,g):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:T,request:i,params:a[0].params,fetcherKey:u,context:g});try{await Promise.all(_)}catch{}return x}async function FT(n,e,t,i,o,a){let u,h,f=g=>{let _,T=new Promise((A,M)=>_=M);h=()=>_(),e.signal.addEventListener("abort",h);let x=A=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:a},...A!==void 0?[A]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(M=>x(M)):x())}}catch(A){return{type:"error",result:A}}})();return Promise.race([R,T])};try{let g=t.route[n];if(i)if(g){let _,[T]=await Promise.all([f(g).catch(x=>{_=x}),i]);if(_!==void 0)throw _;u=T}else if(await i,g=t.route[n],g)u=await f(g);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw ir(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)u=await f(g);else{let _=new URL(e.url),T=_.pathname+_.search;throw ir(404,{pathname:T})}}catch(g){return{type:"error",result:g}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function UT(n){var i,o,a,u;let{result:e,type:t}=n;if(T0(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new Cc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(by(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Cc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Zc(e)?e.status:void 0}}return by(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zT(n,e,t,i,o){let a=n.headers.get("Location");if(Qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ip.test(a)){let u=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=Sf(new URL(e.url),u,o,a),n.headers.set("Location",a)}return n}function Sy(n,e,t){if(ip.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Rr(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function Zo(n,e,t,i){let o=n.createURL(E0(e)).toString(),a={signal:t};if(i&&Ir(i.formMethod)){let{formMethod:u,formEncType:h}=i;a.method=u.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=Cf(i.formData):a.body=i.formData}return new Request(o,a)}function Cf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Ry(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function BT(n,e,t,i=!1,o=!1){let a={},u=null,h,f=!1,g={},_=t&&Kn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let x=T.route.id,R=e[x];if(Qe(!no(R),"Cannot handle redirect results in processLoaderData"),Kn(R)){let A=R.error;if(_!==void 0&&(A=_,_=void 0),u=u||{},o)u[x]=A;else{let M=to(n,x);u[M.route.id]==null&&(u[M.route.id]=A)}i||(a[x]=_0),f||(f=!0,h=Zc(R.error)?R.error.status:500),R.headers&&(g[x]=R.headers)}else a[x]=R.data,R.statusCode&&R.statusCode!==200&&!f&&(h=R.statusCode),R.headers&&(g[x]=R.headers)}),_!==void 0&&t&&(u={[t[0]]:_},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:h||200,loaderHeaders:g}}function Cy(n,e,t,i,o,a){let{loaderData:u,errors:h}=BT(e,t,i);return o.forEach(f=>{let{key:g,match:_,controller:T}=f,x=a[g];if(Qe(x,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Kn(x)){let R=to(n.matches,_==null?void 0:_.route.id);h&&h[R.route.id]||(h={...h,[R.route.id]:x.error}),n.fetchers.delete(g)}else if(no(x))Qe(!1,"Unhandled fetcher revalidation redirect");else{let R=cs(x.data);n.fetchers.set(g,R)}}),{loaderData:u,errors:h}}function Py(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==_0).reduce((a,[u,h])=>(a[u]=h,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function Ay(n){return n?Kn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function to(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ky(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ir(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Cc(n||500,u,new Error(h),!0)}function ic(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(no(o))return{key:i,result:o}}}function E0(n){let e=typeof n=="string"?Ai(n):n;return Es({...e,hash:""})}function $T(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function HT(n){return T0(n.result)&&PT.has(n.result.status)}function Kn(n){return n.type==="error"}function no(n){return(n&&n.type)==="redirect"}function by(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function T0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WT(n){return CT.has(n.toUpperCase())}function Ir(n){return ST.has(n.toUpperCase())}function sp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ll(n,e){let t=typeof e=="string"?Ai(e).search:e.search;if(n[n.length-1].route.index&&sp(t||""))return n[n.length-1];let i=g0(n);return i[i.length-1]}function Ny(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:u}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function af(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ol(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function KT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function GT(n,e){try{let t=n.sessionStorage.getItem(v0);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function QT(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(v0,JSON.stringify(t))}catch(i){Gt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function YT(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var fo=L.createContext(null);fo.displayName="DataRouter";var Ll=L.createContext(null);Ll.displayName="DataRouterState";var op=L.createContext({isTransitioning:!1});op.displayName="ViewTransition";var x0=L.createContext(new Map);x0.displayName="Fetchers";var XT=L.createContext(null);XT.displayName="Await";var Jr=L.createContext(null);Jr.displayName="Navigation";var ed=L.createContext(null);ed.displayName="Location";var Pr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var ap=L.createContext(null);ap.displayName="RouteError";function JT(n,{relative:e}={}){Qe(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(Jr),{hash:o,pathname:a,search:u}=Ml(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Hr([t,a])),i.createHref({pathname:h,search:u,hash:o})}function Ol(){return L.useContext(ed)!=null}function po(){return Qe(Ol(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ed).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(n){L.useContext(Jr).static||L.useLayoutEffect(n)}function va(){let{isDataRoute:n}=L.useContext(Pr);return n?fx():ZT()}function ZT(){Qe(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(fo),{basename:e,navigator:t}=L.useContext(Jr),{matches:i}=L.useContext(Pr),{pathname:o}=po(),a=JSON.stringify(np(i)),u=L.useRef(!1);return S0(()=>{u.current=!0}),L.useCallback((f,g={})=>{if(Gt(u.current,I0),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=rp(f,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Hr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,o,n])}var ex=L.createContext(null);function tx(n){let e=L.useContext(Pr).outlet;return e&&L.createElement(ex.Provider,{value:n},e)}function Ps(){let{matches:n}=L.useContext(Pr),e=n[n.length-1];return e?e.params:{}}function Ml(n,{relative:e}={}){let{matches:t}=L.useContext(Pr),{pathname:i}=po(),o=JSON.stringify(np(t));return L.useMemo(()=>rp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function nx(n,e,t,i){Qe(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Jr),{matches:a}=L.useContext(Pr),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",_=u&&u.route;{let D=_&&_.path||"";R0(f,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let T=po(),x;x=T;let R=x.pathname||"/",A=R;if(g!=="/"){let D=g.replace(/^\//,"").split("/");A="/"+R.replace(/^\//,"").split("/").slice(D.length).join("/")}let M=ds(n,{pathname:A});return Gt(_||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ax(M&&M.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Hr([g,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Hr([g,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,i)}function rx(){let n=hx(),e=Zc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,u)}var ix=L.createElement(rx,null),sx=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Pr.Provider,{value:this.props.routeContext},L.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ox({routeContext:n,match:e,children:t}){let i=L.useContext(fo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Pr.Provider,{value:n},t)}function ax(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:T}=t,x=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||x){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,g,_)=>{let T,x=!1,R=null,A=null;t&&(T=a&&g.route.id?a[g.route.id]:void 0,R=g.route.errorElement||ix,u&&(h<0&&_===0?(R0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):h===_&&(x=!0,A=g.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,_+1)),b=()=>{let D;return T?D=R:x?D=A:g.route.Component?D=L.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=f,L.createElement(ox,{match:g,routeContext:{outlet:f,matches:M,isDataRoute:t!=null},children:D})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?L.createElement(sx,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:b(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):b()},null)}function lp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(n){let e=L.useContext(fo);return Qe(e,lp(n)),e}function ux(n){let e=L.useContext(Ll);return Qe(e,lp(n)),e}function cx(n){let e=L.useContext(Pr);return Qe(e,lp(n)),e}function up(n){let e=cx(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dx(){return up("useRouteId")}function hx(){var i;let n=L.useContext(ap),e=ux("useRouteError"),t=up("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function fx(){let{router:n}=lx("useNavigate"),e=up("useNavigate"),t=L.useRef(!1);return S0(()=>{t.current=!0}),L.useCallback(async(o,a={})=>{Gt(t.current,I0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Dy={};function R0(n,e,t){!e&&!Dy[n]&&(Dy[n]=!0,Gt(!1,t))}var Ly={};function Oy(n,e){!n&&!Ly[e]&&(Ly[e]=!0,console.warn(e))}function px(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Gt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:L.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Gt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:L.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Gt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:L.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var mx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function gx({router:n,flushSync:e}){let[t,i]=L.useState(n.state),[o,a]=L.useState(),[u,h]=L.useState({isTransitioning:!1}),[f,g]=L.useState(),[_,T]=L.useState(),[x,R]=L.useState(),A=L.useRef(new Map),M=L.useCallback((Q,{deletedFetchers:te,flushSync:U,viewTransitionOpts:oe})=>{te.forEach(I=>A.current.delete(I)),Q.fetchers.forEach((I,C)=>{I.data!==void 0&&A.current.set(C,I.data)}),Oy(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Oy(oe==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!P){e&&U?e(()=>i(Q)):L.startTransition(()=>i(Q));return}if(e&&U){e(()=>{_&&(f&&f.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(Q))});I.finished.finally(()=>{e(()=>{g(void 0),T(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>T(I));return}_?(f&&f.resolve(),_.skipTransition(),R({state:Q,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(a(Q),h({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,e,_,f]);L.useLayoutEffect(()=>n.subscribe(M),[n,M]),L.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new mx)},[u]),L.useEffect(()=>{if(f&&o&&n.window){let Q=o,te=f.promise,U=n.window.document.startViewTransition(async()=>{L.startTransition(()=>i(Q)),await te});U.finished.finally(()=>{g(void 0),T(void 0),a(void 0),h({isTransitioning:!1})}),T(U)}},[o,f,n.window]),L.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,_,t.location,o]),L.useEffect(()=>{!u.isTransitioning&&x&&(a(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),R(void 0))},[u.isTransitioning,x]);let b=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Q=>n.navigate(Q),push:(Q,te,U)=>n.navigate(Q,{state:te,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(Q,te,U)=>n.navigate(Q,{replace:!0,state:te,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),D=n.basename||"/",K=L.useMemo(()=>({router:n,navigator:b,static:!1,basename:D}),[n,b,D]);return L.createElement(L.Fragment,null,L.createElement(fo.Provider,{value:K},L.createElement(Ll.Provider,{value:t},L.createElement(x0.Provider,{value:A.current},L.createElement(op.Provider,{value:u},L.createElement(wx,{basename:D,location:t.location,navigationType:t.historyAction,navigator:b},L.createElement(yx,{routes:n.routes,future:n.future,state:t})))))),null)}var yx=L.memo(vx);function vx({routes:n,future:e,state:t}){return nx(n,void 0,t,e)}function _x(n){return tx(n.context)}function wx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Qe(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ai(t));let{pathname:f="/",search:g="",hash:_="",state:T=null,key:x="default"}=t,R=L.useMemo(()=>{let A=Rr(f,u);return A==null?null:{location:{pathname:A,search:g,hash:_,state:T,key:x},navigationType:i}},[u,f,g,_,T,x,i]);return Gt(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(Jr.Provider,{value:h},L.createElement(ed.Provider,{children:e,value:R}))}var fc="get",pc="application/x-www-form-urlencoded";function td(n){return n!=null&&typeof n.tagName=="string"}function Ex(n){return td(n)&&n.tagName.toLowerCase()==="button"}function Tx(n){return td(n)&&n.tagName.toLowerCase()==="form"}function xx(n){return td(n)&&n.tagName.toLowerCase()==="input"}function Ix(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Sx(n,e){return n.button===0&&(!e||e==="_self")&&!Ix(n)}var sc=null;function Rx(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var Cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lf(n){return n!=null&&!Cx.has(n)?(Gt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):n}function Px(n,e){let t,i,o,a,u;if(Tx(n)){let h=n.getAttribute("action");i=h?Rr(h,e):null,t=n.getAttribute("method")||fc,o=lf(n.getAttribute("enctype"))||pc,a=new FormData(n)}else if(Ex(n)||xx(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Rr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||fc,o=lf(n.getAttribute("formenctype"))||lf(h.getAttribute("enctype"))||pc,a=new FormData(h,n),!Rx()){let{name:g,type:_,value:T}=n;if(_==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,T)}}else{if(td(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fc,i=null,o=pc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function cp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ax(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bx(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Ax(a,t);return u.links?u.links():[]}return[]}));return Ox(i.flat(1).filter(kx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function My(n,e,t,i,o,a){let u=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var _;return t[g].pathname!==f.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,g)=>u(f,g)||h(f,g)):a==="data"?e.filter((f,g)=>{var T;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Nx(n,e){return Dx(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Dx(n){return[...new Set(n)]}function Lx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Ox(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(Lx(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function Mx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Vx(){let n=L.useContext(fo);return cp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function jx(){let n=L.useContext(Ll);return cp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dp=L.createContext(void 0);dp.displayName="FrameworkContext";function C0(){let n=L.useContext(dp);return cp(n,"You must render this element inside a <HydratedRouter> element"),n}function Fx(n,e){let t=L.useContext(dp),[i,o]=L.useState(!1),[a,u]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,x=L.useRef(null);L.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=D=>{D.forEach(K=>{u(K.isIntersecting)})},b=new IntersectionObserver(M,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[n]),L.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let R=()=>{o(!0)},A=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:al(h,R),onBlur:al(f,A),onMouseEnter:al(g,R),onMouseLeave:al(_,A),onTouchStart:al(T,R)}]:[!1,x,{}]}function al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ux({page:n,...e}){let{router:t}=Vx(),i=L.useMemo(()=>ds(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(Bx,{page:n,matches:i,...e}):null}function zx(n){let{manifest:e,routeModules:t}=C0(),[i,o]=L.useState([]);return L.useEffect(()=>{let a=!1;return bx(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function Bx({page:n,matches:e,...t}){let i=po(),{manifest:o,routeModules:a}=C0(),{loaderData:u,matches:h}=jx(),f=L.useMemo(()=>My(n,e,h,o,i,"data"),[n,e,h,o,i]),g=L.useMemo(()=>My(n,e,h,o,i,"assets"),[n,e,h,o,i]),_=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,A=!1;if(e.forEach(b=>{var K;let D=o.routes[b.route.id];!D||!D.hasLoader||(!f.some(Q=>Q.route.id===b.route.id)&&b.route.id in u&&((K=a[b.route.id])!=null&&K.shouldRevalidate)||D.hasClientLoader?A=!0:R.add(b.route.id))}),R.size===0)return[];let M=Mx(n);return A&&R.size>0&&M.searchParams.set("_routes",e.filter(b=>R.has(b.route.id)).map(b=>b.route.id).join(",")),[M.pathname+M.search]},[u,i,o,f,e,n,a]),T=L.useMemo(()=>Nx(g,o),[g,o]),x=zx(g);return L.createElement(L.Fragment,null,_.map(R=>L.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),T.map(R=>L.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),x.map(({key:R,link:A})=>L.createElement("link",{key:R,...A})))}function $x(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var P0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P0&&(window.__reactRouterVersion="7.1.1")}catch{}function Hx(n,e){return NT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:nT({window:e==null?void 0:e.window}),hydrationData:Wx(),routes:n,mapRouteProperties:px,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Wx(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:qx(n.errors)}),n}function qx(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Cc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let u=new a(o.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:g,preventScrollReset:_,viewTransition:T,...x},R){let{basename:A}=L.useContext(Jr),M=typeof g=="string"&&A0.test(g),b,D=!1;if(typeof g=="string"&&M&&(b=g,P0))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),F=Rr(O.pathname,A);O.origin===C.origin&&F!=null?g=F+O.search+O.hash:D=!0}catch{Gt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=JT(g,{relative:o}),[Q,te,U]=Fx(i,x),oe=Qx(g,{replace:u,state:h,target:f,preventScrollReset:_,relative:o,viewTransition:T});function P(C){e&&e(C),C.defaultPrevented||oe(C)}let I=L.createElement("a",{...x,...U,href:b||K,onClick:D||a?e:P,ref:$x(R,te),target:f,"data-discover":!M&&t==="render"?"true":void 0});return Q&&!M?L.createElement(L.Fragment,null,I,L.createElement(Ux,{page:K})):I});Mt.displayName="Link";var Kx=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...g},_){let T=Ml(u,{relative:g.relative}),x=po(),R=L.useContext(Ll),{navigator:A,basename:M}=L.useContext(Jr),b=R!=null&&eI(T)&&h===!0,D=A.encodeLocation?A.encodeLocation(T).pathname:T.pathname,K=x.pathname,Q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),Q=Q?Q.toLowerCase():null,D=D.toLowerCase()),Q&&M&&(Q=Rr(Q,M)||Q);const te=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let U=K===D||!o&&K.startsWith(D)&&K.charAt(te)==="/",oe=Q!=null&&(Q===D||!o&&Q.startsWith(D)&&Q.charAt(D.length)==="/"),P={isActive:U,isPending:oe,isTransitioning:b},I=U?e:void 0,C;typeof i=="function"?C=i(P):C=[i,U?"active":null,oe?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return L.createElement(Mt,{...g,"aria-current":I,className:C,ref:_,style:O,to:u,viewTransition:h},typeof f=="function"?f(P):f)});Kx.displayName="NavLink";var ao=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=fc,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:T,...x},R)=>{let A=Jx(),M=Zx(h,{relative:g}),b=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&A0.test(h),K=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,U=(te==null?void 0:te.getAttribute("formmethod"))||u;A(te||Q.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:a,relative:g,preventScrollReset:_,viewTransition:T})};return L.createElement("form",{ref:R,method:b,action:M,onSubmit:i?f:K,...x,"data-discover":!D&&n==="render"?"true":void 0})});ao.displayName="Form";function Gx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k0(n){let e=L.useContext(fo);return Qe(e,Gx(n)),e}function Qx(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=va(),f=po(),g=Ml(n,{relative:a});return L.useCallback(_=>{if(Sx(_,e)){_.preventDefault();let T=t!==void 0?t:Es(f)===Es(g);h(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,g,t,i,e,n,o,a,u])}var Yx=0,Xx=()=>`__${String(++Yx)}__`;function Jx(){let{router:n}=k0("useSubmit"),{basename:e}=L.useContext(Jr),t=dx();return L.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:g}=Px(i,e);if(o.navigate===!1){let _=o.fetcherKey||Xx();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Zx(n,{relative:e}={}){let{basename:t}=L.useContext(Jr),i=L.useContext(Pr);Qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ml(n||".",{relative:e})},u=po();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(T=>T).forEach(T=>h.append("index",T));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Hr([t,a.pathname])),Es(a)}function eI(n,e={}){let t=L.useContext(op);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=k0("useViewTransitionState"),o=Ml(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Rr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Rr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Rc(o.pathname,u)!=null||Rc(o.pathname,a)!=null}new TextEncoder;var tI=o0();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nI(n){return L.createElement(gx,{flushSync:tI.flushSync,...n})}var b0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vy=it.createContext&&it.createContext(b0),rI=["attr","size","title"];function iI(n,e){if(n==null)return{};var t=sI(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function sI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Pc(){return Pc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pc.apply(this,arguments)}function jy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Ac(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jy(Object(t),!0).forEach(function(i){oI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oI(n,e,t){return e=aI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aI(n){var e=lI(n,"string");return typeof e=="symbol"?e:e+""}function lI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function N0(n){return n&&n.map((e,t)=>it.createElement(e.tag,Ac({key:t},e.attr),N0(e.child)))}function Ct(n){return e=>it.createElement(uI,Pc({attr:Ac({},n.attr)},e),N0(n.child))}function uI(n){var e=t=>{var{attr:i,size:o,title:a}=n,u=iI(n,rI),h=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),it.createElement("svg",Pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:f,style:Ac(Ac({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&it.createElement("title",null,a),n.children)};return Vy!==void 0?it.createElement(Vy.Consumer,null,t=>e(t)):e(b0)}function cI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function Fy(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function dI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.707 2.293l9 9c.63 .63 .184 1.707 -.707 1.707h-1v6a3 3 0 0 1 -3 3h-1v-7a3 3 0 0 0 -2.824 -2.995l-.176 -.005h-2a3 3 0 0 0 -3 3v7h-1a3 3 0 0 1 -3 -3v-6h-1c-.89 0 -1.337 -1.077 -.707 -1.707l9 -9a1 1 0 0 1 1.414 0m.293 11.707a1 1 0 0 1 1 1v7h-4v-7a1 1 0 0 1 .883 -.993l.117 -.007z"},child:[]}]})(n)}function hI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z"},child:[]}]})(n)}function uf(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function fI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"},child:[]}]})(n)}function pI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function mI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"},child:[]}]})(n)}function D0(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function gI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L389.6 269.3C433.8 244.7 464 198.1 464 144 464 64.5 399.5 0 320 0c-67.1 0-123 46.1-139 108.2L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM198.4 320C124.2 320 64 380.2 64 454.4v9.6c0 26.5 21.5 48 48 48h382.2L245.8 320h-47.4z"},child:[]}]})(n)}function Pf(n){return Ct({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function yI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}function vI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h2v12H4zm10.293-.707L7.586 12l6.707 6.707 1.414-1.414L11.414 13H20v-2h-8.586l4.293-4.293z"},child:[]}]})(n)}function _I(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 6h2v12h-2zM4 13h8.586l-4.293 4.293 1.414 1.414L16.414 12 9.707 5.293 8.293 6.707 12.586 11H4z"},child:[]}]})(n)}function hp(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm13 0c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4z"},child:[]}]})(n)}function wI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function EI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(n)}function TI(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(n)}function L0(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 128l128 128-128 128z"},child:[]}]})(n)}function Uy(n){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(n)}function Af(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(n)}function kc(n){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(n)}const kf="/NekoStore/assets/logo-CxeJwULs.png";var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,g=f?n[o+2]:0,_=a>>2,T=(a&3)<<4|h>>4;let x=(h&15)<<2|g>>6,R=g&63;f||(R=64,u||(x=64)),i.push(t[_],t[T],t[x],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(O0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||g==null||T==null)throw new II;const x=a<<2|h>>4;if(i.push(x),g!==64){const R=h<<4&240|g>>2;if(i.push(R),T!==64){const A=g<<6&192|T;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(n){const e=O0(n);return M0.encodeByteArray(e,!0)},bc=function(n){return SI(n).replace(/\./g,"")},V0=function(n){try{return M0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=()=>RI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof zy>"u")return;const n=zy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V0(n[1]);return e&&JSON.parse(e)},nd=()=>{try{return CI()||PI()||AI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j0=n=>{var e,t;return(t=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kI=n=>{const e=j0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},F0=()=>{var n;return(n=nd())===null||n===void 0?void 0:n.config},U0=n=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bc(JSON.stringify(t)),bc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function LI(){var n;const e=(n=nd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jI(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FI(){return!LI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BI,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?$I(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ki(o,h,i)}}function $I(n,e){return n.replace(HI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const HI=/\{\$([^}]+)}/g;function WI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(By(a)&&By(u)){if(!Nc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function By(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ul(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function cl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qI(n,e){const t=new KI(n,e);return t.subscribe.bind(t)}class KI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=cf),o.error===void 0&&(o.error=cf),o.complete===void 0&&(o.complete=cf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){return n&&n._delegate?n._delegate:n}class lo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new bI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XI(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YI(n){return n===eo?void 0:n}function XI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const ZI={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},eS=He.INFO,tS={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},nS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=tS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=eS,this._logHandler=nS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const rS=(n,e)=>e.some(t=>n instanceof t);let $y,Hy;function iS(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sS(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,bf=new WeakMap,B0=new WeakMap,df=new WeakMap,pp=new WeakMap;function oS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ys(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&z0.set(t,n)}).catch(()=>{}),pp.set(e,n),e}function aS(n){if(bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});bf.set(n,e)}let Nf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||B0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lS(n){Nf=n(Nf)}function uS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(hf(this),e,...t);return B0.set(i,e.sort?e.sort():[e]),ys(i)}:sS().includes(n)?function(...e){return n.apply(hf(this),e),ys(z0.get(this))}:function(...e){return ys(n.apply(hf(this),e))}}function cS(n){return typeof n=="function"?uS(n):(n instanceof IDBTransaction&&aS(n),rS(n,iS())?new Proxy(n,Nf):n)}function ys(n){if(n instanceof IDBRequest)return oS(n);if(df.has(n))return df.get(n);const e=cS(n);return e!==n&&(df.set(n,e),pp.set(e,n)),e}const hf=n=>pp.get(n);function dS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=ys(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ys(u.result),f.oldVersion,f.newVersion,ys(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const hS=["get","getKey","getAll","getAllKeys","count"],fS=["put","add","delete","clear"],ff=new Map;function Wy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hS.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&f.done]))[0]};return ff.set(e,a),a}lS(n=>({...n,get:(e,t,i)=>Wy(e,t)||n.get(e,t,i),has:(e,t)=>!!Wy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",qy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new fp("@firebase/app"),gS="@firebase/app-compat",yS="@firebase/analytics-compat",vS="@firebase/analytics",_S="@firebase/app-check-compat",wS="@firebase/app-check",ES="@firebase/auth",TS="@firebase/auth-compat",xS="@firebase/database",IS="@firebase/data-connect",SS="@firebase/database-compat",RS="@firebase/functions",CS="@firebase/functions-compat",PS="@firebase/installations",AS="@firebase/installations-compat",kS="@firebase/messaging",bS="@firebase/messaging-compat",NS="@firebase/performance",DS="@firebase/performance-compat",LS="@firebase/remote-config",OS="@firebase/remote-config-compat",MS="@firebase/storage",VS="@firebase/storage-compat",jS="@firebase/firestore",FS="@firebase/vertexai",US="@firebase/firestore-compat",zS="firebase",BS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",$S={[Df]:"fire-core",[gS]:"fire-core-compat",[vS]:"fire-analytics",[yS]:"fire-analytics-compat",[wS]:"fire-app-check",[_S]:"fire-app-check-compat",[ES]:"fire-auth",[TS]:"fire-auth-compat",[xS]:"fire-rtdb",[IS]:"fire-data-connect",[SS]:"fire-rtdb-compat",[RS]:"fire-fn",[CS]:"fire-fn-compat",[PS]:"fire-iid",[AS]:"fire-iid-compat",[kS]:"fire-fcm",[bS]:"fire-fcm-compat",[NS]:"fire-perf",[DS]:"fire-perf-compat",[LS]:"fire-rc",[OS]:"fire-rc-compat",[MS]:"fire-gcs",[VS]:"fire-gcs-compat",[jS]:"fire-fst",[US]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,HS=new Map,Of=new Map;function Ky(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ua(n){const e=n.name;if(Of.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,n);for(const t of Dc.values())Ky(t,n);for(const t of HS.values())Ky(t,n);return!0}function mp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $r(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Vl("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=BS;function rd(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(t||(t=F0()),!t)throw vs.create("no-options");const a=Dc.get(o);if(a){if(Nc(t,a.options)&&Nc(i,a.config))return a;throw vs.create("duplicate-app",{appName:o})}const u=new JI(o);for(const f of Of.values())u.addComponent(f);const h=new qS(t,i,u);return Dc.set(o,h),h}function $0(n=Lf){const e=Dc.get(n);if(!e&&n===Lf&&F0())return rd();if(!e)throw vs.create("no-app",{appName:n});return e}function _s(n,e,t){var i;let o=(i=$S[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(h.join(" "));return}ua(new lo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebase-heartbeat-database",GS=1,xl="firebase-heartbeat-store";let pf=null;function H0(){return pf||(pf=dS(KS,GS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw vs.create("idb-open",{originalErrorMessage:n.message})})),pf}async function QS(n){try{const t=(await H0()).transaction(xl),i=await t.objectStore(xl).get(W0(n));return await t.done,i}catch(e){if(e instanceof ki)Ii.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function Gy(n,e){try{const i=(await H0()).transaction(xl,"readwrite");await i.objectStore(xl).put(e,W0(n)),await i.done}catch(t){if(t instanceof ki)Ii.warn(t.message);else{const i=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function W0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=1024,XS=30*24*60*60*1e3;class JS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=XS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qy(),{heartbeatsToSend:i,unsentEntries:o}=ZS(this._heartbeatsCache.heartbeats),a=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ii.warn(t),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function ZS(n,e=YS){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Yy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class eR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?zI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yy(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){ua(new lo("platform-logger",e=>new pS(e),"PRIVATE")),ua(new lo("heartbeat",e=>new JS(e),"PRIVATE")),_s(Df,qy,n),_s(Df,qy,"esm2017"),_s("fire-js","")}tR("");var nR="firebase",rR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(nR,rR,"app");const Sr=(n,e)=>{switch(n){case"error":dt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":dt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}};function gp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iR=q0,K0=new Vl("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new fp("@firebase/auth");function sR(n,...e){Lc.logLevel<=He.WARN&&Lc.warn(`Auth (${_a}): ${n}`,...e)}function mc(n,...e){Lc.logLevel<=He.ERROR&&Lc.error(`Auth (${_a}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,...e){throw yp(n,...e)}function Wr(n,...e){return yp(n,...e)}function G0(n,e,t){const i=Object.assign(Object.assign({},iR()),{[e]:t});return new Vl("auth","Firebase",i).create(e,{appName:n.name})}function Ei(n){return G0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return K0.create(n,...e)}function be(n,e,...t){if(!n)throw yp(e,...t)}function vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mc(e),new Error(e)}function Si(n,e){n||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oR(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oR()||MI()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=DI()||VI()}get(){return aR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Fl(3e4,6e4);function As(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function bi(n,e,t,i,o={}){return Y0(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=jl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:f},a);return OI()||(g.referrerPolicy="no-referrer"),Q0.fetch()(X0(n,n.config.apiHost,t,h),g)})}async function Y0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uR),e);try{const o=new hR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw oc(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw G0(n,_,g);Cr(n,_)}}catch(o){if(o instanceof ki)throw o;Cr(n,"network-request-failed",{message:String(o)})}}async function Ul(n,e,t,i,o={}){const a=await bi(n,e,t,i,o);return"mfaPendingCredential"in a&&Cr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function X0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?vp(n.config,o):`${n.config.apiScheme}://${o}`}function dR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),cR.get())})}}function oc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Wr(n,e,i);return o.customData._tokenResponse=t,o}function Jy(n){return n!==void 0&&n.enterprise!==void 0}class fR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pR(n,e){return bi(n,"GET","/v2/recaptchaConfig",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e){return bi(n,"POST","/v1/accounts:delete",e)}async function J0(n,e){return bi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gR(n,e=!1){const t=on(n),i=await t.getIdToken(e),o=_p(i);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ml(mf(o.auth_time)),issuedAtTime:ml(mf(o.iat)),expirationTime:ml(mf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mf(n){return Number(n)*1e3}function _p(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(t);return o?JSON.parse(o):(mc("Failed to decode base64 JWT payload"),null)}catch(o){return mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zy(n){const e=_p(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ki&&yR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function yR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ca(n,J0(t,{idToken:i}));be(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Z0(a.providerUserInfo):[],h=wR(n.providerData,u),f=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?g:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Vf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function _R(n){const e=on(n);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Z0(n){return n.map(e=>{var{providerId:t}=e,i=gp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){const t=await Y0(n,{},async()=>{const i=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=X0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Q0.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TR(n,e){return bi(n,"POST","/v2/accounts:revokeToken",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=Zy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await ER(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new sa;return i&&(be(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(be(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ca(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gR(this,e)}reload(){return _R(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await ca(this,mR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,g,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(g=t.createdAt)!==null&&g!==void 0?g:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:te,isAnonymous:U,providerData:oe,stsTokenManager:P}=t;be(Q&&P,e,"internal-error");const I=sa.fromJSON(this.name,P);be(typeof Q=="string",e,"internal-error"),us(T,e.name),us(x,e.name),be(typeof te=="boolean",e,"internal-error"),be(typeof U=="boolean",e,"internal-error"),us(R,e.name),us(A,e.name),us(M,e.name),us(b,e.name),us(D,e.name),us(K,e.name);const C=new _i({uid:Q,auth:e,email:x,emailVerified:te,displayName:T,isAnonymous:U,photoURL:A,phoneNumber:R,tenantId:M,stsTokenManager:I,createdAt:D,lastLoginAt:K});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(O=>Object.assign({},O))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new sa;o.updateFromServerResponse(t);const a=new _i({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Oc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];be(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Z0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new sa;h.updateFromIdToken(i);const f=new _i({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;function wi(n){Si(n instanceof Function,"Expected a class definition");let e=ev.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ev.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}e_.type="NONE";const tv=e_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n,e,t){return`firebase:${n}:${e}:${t}`}class oa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,a),this.fullPersistenceKey=gc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new oa(wi(tv),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||wi(tv);const u=gc(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(u);if(_){const T=_i._fromJSON(e,_);g!==a&&(h=T),a=g;break}}catch{}const f=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new oa(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new oa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o_(e))return"Blackberry";if(a_(e))return"Webos";if(n_(e))return"Safari";if((e.includes("chrome/")||r_(e))&&!e.includes("edge/"))return"Chrome";if(s_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function t_(n=vn()){return/firefox\//i.test(n)}function n_(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r_(n=vn()){return/crios\//i.test(n)}function i_(n=vn()){return/iemobile/i.test(n)}function s_(n=vn()){return/android/i.test(n)}function o_(n=vn()){return/blackberry/i.test(n)}function a_(n=vn()){return/webos/i.test(n)}function wp(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xR(n=vn()){var e;return wp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IR(){return jI()&&document.documentMode===10}function l_(n=vn()){return wp(n)||s_(n)||a_(n)||o_(n)||/windows phone/i.test(n)||i_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n,e=[]){let t;switch(n){case"Browser":t=nv(vn());break;case"Worker":t=`${nv(vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_a}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,e={}){return bi(n,"GET","/v2/passwordPolicy",As(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=6;class PR{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:CR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new SR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await J0(this,{idToken:e}),i=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Ei(this));const t=e?on(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RR(this),t=new PR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await TR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mo(n){return on(n)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=qI(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kR(n){id=n}function c_(n){return id.loadJS(n)}function bR(){return id.recaptchaEnterpriseScript}function NR(){return id.gapiScript}function DR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class LR{constructor(){this.enterprise=new OR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class OR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MR="recaptcha-enterprise",d_="NO_RECAPTCHA";class VR{constructor(e){this.type=MR,this.auth=mo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{pR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new fR(f);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;Jy(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(d_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&Jy(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=bR();f.length!==0&&(f+=h),c_(f).then(()=>{o(h,a,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function iv(n,e,t,i=!1,o=!1){const a=new VR(n);let u;if(o)u=d_;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function jf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await iv(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await iv(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n,e){const t=mp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Nc(a,e??{}))return o;Cr(o,"already-initialized")}return t.initialize({options:e})}function FR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function UR(n,e,t){const i=mo(n);be(i._canInitEmulator,i,"emulator-config-failed"),be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=h_(e),{host:u,port:h}=zR(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),BR()}function h_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zR(n){const e=h_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:sv(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:sv(u)}}}function sv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,t){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function $R(n,e){return bi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e){return Ul(n,"POST","/v1/accounts:signInWithPassword",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}async function qR(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Ep{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Il(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Il(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,t,"signInWithPassword",HR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,i,"signUpPassword",$R);case"emailLink":return qR(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n,e){return Ul(n,"POST","/v1/accounts:signInWithIdp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="http://localhost";class uo extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=gp(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new uo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return aa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,aa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}buildRequest(){const e={requestUri:KR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QR(n){const e=ul(cl(n)).link,t=e?ul(cl(e)).deep_link_id:null,i=ul(cl(n)).deep_link_id;return(i?ul(cl(i)).link:null)||i||t||e||n}class Tp{constructor(e){var t,i,o,a,u,h;const f=ul(cl(e)),g=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,T=GR((o=f.mode)!==null&&o!==void 0?o:null);be(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=QR(e);try{return new Tp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,t){return Il._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Tp.parseLink(t);return be(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends f_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends zl{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return fs.credential(t,i)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends zl{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends zl{constructor(){super("twitter.com")}static credential(e,t){return uo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ms.credential(t,i)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e){return Ul(n,"POST","/v1/accounts:signUp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await _i._fromIdTokenResponse(e,i,o),u=ov(i);return new co({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ov(i);return new co({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends ki{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Mc(e,t,i,o)}}function p_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(n,a,e,i):a})}async function XR(n,e,t=!1){const i=await ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return co._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e,t=!1){const{auth:i}=n;if($r(i.app))return Promise.reject(Ei(i));const o="reauthenticate";try{const a=await ca(n,p_(i,o,e,n),t);be(a.idToken,i,"internal-error");const u=_p(a.idToken);be(u,i,"internal-error");const{sub:h}=u;return be(n.uid===h,i,"user-mismatch"),co._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(n,e,t=!1){if($r(n.app))return Promise.reject(Ei(n));const i="signIn",o=await p_(n,i,e),a=await co._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function ZR(n,e){return m_(mo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(n){const e=mo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eC(n,e,t){if($r(n.app))return Promise.reject(Ei(n));const i=mo(n),u=await jf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&g_(n),f}),h=await co._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function tC(n,e,t){return $r(n.app)?Promise.reject(Ei(n)):ZR(on(n),wa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&g_(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e){return bi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=on(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ca(i,nC(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function iC(n,e,t,i){return on(n).onIdTokenChanged(e,t,i)}function sC(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function y_(n,e,t,i){return on(n).onAuthStateChanged(e,t,i)}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,aC=10;class __ extends v_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);IR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}__.type="LOCAL";const lC=__;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends v_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w_.type="SESSION";const E_=w_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new sd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async g=>g(t.origin,a)),f=await uC(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const g=xp("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function dC(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function hC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pC(){return T_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="firebaseLocalStorageDb",mC=1,jc="firebaseLocalStorage",I_="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function gC(){const n=indexedDB.deleteDatabase(x_);return new Bl(n).toPromise()}function Ff(){const n=indexedDB.open(x_,mC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(jc,{keyPath:I_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(jc)?e(i):(i.close(),await gC(),e(await Ff()))})})}async function av(n,e,t){const i=od(n,!0).put({[I_]:e,value:t});return new Bl(i).toPromise()}async function yC(n,e){const t=od(n,!1).get(e),i=await new Bl(t).toPromise();return i===void 0?null:i.value}function lv(n,e){const t=od(n,!0).delete(e);return new Bl(t).toPromise()}const vC=800,_C=3;class S_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ff(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_C)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ff();return await av(e,Vc,"1"),await lv(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>yC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=od(o,!1).getAll();return new Bl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S_.type="LOCAL";const wC=S_;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n,e){return e?wi(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function TC(n){return m_(n.auth,new Ip(n),n.bypassAuthState)}function xC(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),JR(t,new Ip(n),n.bypassAuthState)}async function IC(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),XR(t,new Ip(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Cr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Fl(2e3,1e4);class ia extends R_{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="pendingRedirect",yc=new Map;class CC extends R_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const i=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(n,e){const t=bC(e),i=kC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function AC(n,e){yc.set(n._key(),e)}function kC(n){return wi(n._redirectPersistence)}function bC(n){return gc(RC,n.config.apiKey,n.name)}async function NC(n,e,t=!1){if($r(n.app))return Promise.reject(Ei(n));const i=mo(n),o=EC(i,e),u=await new CC(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=10*60*1e3;class LC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!C_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(e))}saveEventToCache(e){this.cachedEventUids.add(uv(e)),this.lastProcessedEventTime=Date.now()}}function uv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e={}){return bi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function FC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await MC(n);for(const t of e)try{if(UC(t))return}catch{}Cr(n,"unauthorized-domain")}function UC(n){const e=Mf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!jC.test(t))return!1;if(VC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Fl(3e4,6e4);function cv(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BC(n){return new Promise((e,t)=>{var i,o,a;function u(){cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cv(),t(Wr(n,"network-request-failed"))},timeout:zC.get()})}if(!((o=(i=qr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=qr().gapi)===null||a===void 0)&&a.load)u();else{const h=DR("iframefcb");return qr()[h]=()=>{gapi.load?u():t(Wr(n,"network-request-failed"))},c_(`${NR()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw vc=null,e})}let vc=null;function $C(n){return vc=vc||BC(n),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Fl(5e3,15e3),WC="__/auth/iframe",qC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vp(e,qC):`https://${n.config.authDomain}/${WC}`,i={apiKey:e.apiKey,appName:n.name,v:_a},o=GC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${jl(i).slice(1)}`}async function YC(n){const e=await $C(n),t=qr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:QC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Wr(n,"network-request-failed"),h=qr().setTimeout(()=>{a(u)},HC.get());function f(){qr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,ZC=600,e2="_blank",t2="http://localhost";class dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n2(n,e,t,i=JC,o=ZC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},XC),{width:i.toString(),height:o.toString(),top:a,left:u}),g=vn().toLowerCase();t&&(h=r_(g)?e2:t),t_(g)&&(e=e||t2,f.scrollbars="yes");const _=Object.entries(f).reduce((x,[R,A])=>`${x}${R}=${A},`,"");if(xR(g)&&h!=="_self")return r2(e||"",h),new dv(null);const T=window.open(e||"",h,_);be(T,n,"popup-blocked");try{T.focus()}catch{}return new dv(T)}function r2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__/auth/handler",s2="emulator/auth/handler",o2=encodeURIComponent("fac");async function hv(n,e,t,i,o,a){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_a,eventId:o};if(e instanceof f_){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",WI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof zl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${o2}=${encodeURIComponent(f)}`:"";return`${a2(n)}?${jl(h).slice(1)}${g}`}function a2({config:n}){return n.emulator?vp(n,s2):`https://${n.authDomain}/${i2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="webStorageSupport";class l2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E_,this._completeRedirectFn=NC,this._overrideRedirectResult=AC}async _openPopup(e,t,i,o){var a;Si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await hv(e,t,i,Mf(),o);return n2(e,u,xp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await hv(e,t,i,Mf(),o);return dC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await YC(e),i=new LC(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gf,{type:gf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[gf];u!==void 0&&t(!!u),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l_()||n_()||wp()}}const u2=l2;var fv="@firebase/auth",pv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(n){ua(new lo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u_(n)},g=new AR(i,o,a,f);return FR(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ua(new lo("auth-internal",e=>{const t=mo(e.getProvider("auth").getImmediate());return(i=>new c2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(fv,pv,d2(n)),_s(fv,pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=5*60,p2=U0("authIdTokenMaxAge")||f2;let mv=null;const m2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>p2)return;const o=t==null?void 0:t.token;mv!==o&&(mv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P_(n=$0()){const e=mp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jR(n,{popupRedirectResolver:u2,persistence:[wC,lC,E_]}),i=U0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=m2(a.toString());sC(t,u,()=>u(t.currentUser)),iC(t,h=>u(h))}}const o=j0("auth");return o&&UR(t,`http://${o}`),t}function g2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Wr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",g2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");const A_={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},y2=rd(A_),Ts=P_(y2),v2=async(n,e,t,i)=>{const o=rd(A_),a=P_(o);tC(a,n,e).then(()=>{Sr("success","Inicio de sesin exitoso."),t(!1),setTimeout(()=>{i("/")},1500)}).catch(u=>{const h=u.message;return t(!1),Sr("error",h),!1})},_2=async n=>{Ts.signOut().then(function(){console.log("Usuario ha cerrado sesin"),Sr("success","Sesin cerrada exitosamente."),setTimeout(()=>{n("/")},1500)}).catch(function(e){console.error("Error al cerrar sesin",e),Sr("error",e)})},w2=async(n,e,t,i)=>{eC(Ts,n,e).then(()=>{t(!1),Sr("success","Registro exitoso, porfavor revise su bandeja de entrada."),setTimeout(()=>{i("/login")},2e3)}).catch(o=>{const a=o.code,u=o.message;console.log(a),console.log(u),a==="auth/email-already-in-use"?Sr("error","El email indicado ya se encuentra en uso, porfavor use otro."):a==="auth/weak-password"&&Sr("error","La contrasea debe tener ms de 6 caracteres."),t(!1)})},k_=async n=>{const e=y_(Ts,t=>{n(t||null)});return()=>e()},E2=async(n,e,t)=>{(async()=>y_(Ts,o=>{o?(n(o),e(!1),o.photoURL!=null&&t(o.photoURL)):e(!1)}))()},b_=async n=>{Ts.currentUser?n(Ts.currentUser):n(null)},N_=async(n,e=null,t=null)=>{Ts.currentUser!=null&&rC(Ts.currentUser,t===null?{displayName:e}:{photoURL:t}).then(()=>{Sr("success","Perfil actualizado."),setTimeout(()=>{n(!1)},1500)}).catch(i=>{console.log(i)})},T2=({state:n})=>{const e={main:"",content:"relative size-ful size-12",line1:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] rotate-45 translate-y-[21px]":"translate-y-[7px] -translate-x-[21px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`,line2:`absolute ${n?"hidden":"translate-y-[19px] -translate-x-[21px]"} w-11/12 h-[5px] bg-rd rounded-full duration-300`,line3:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] -rotate-45 translate-y-[21px]":"translate-y-[32px] -translate-x-[0px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`};return w.jsx("div",{className:e.main,children:w.jsxs("div",{className:e.content,children:[w.jsx("span",{className:e.line1}),w.jsx("span",{className:e.line2}),w.jsx("span",{className:e.line3})]})})},gv=["Accin","Aventura","Fantasa","Isekai","Shonen","Sobrenatural"],x2={name:"Neko-Store",logo:""};console.log(x2);const D_=()=>{const n=va(),[e,t]=L.useState(null),[i,o]=L.useState(!1),[a,u]=L.useState(!1),h={main:`fixed flex md:hidden top-[9vh] left-0 z-40 w-full h-[91vh] text-white bg-black/50 duration-300 ${i?"-translate-x-[0%]":"-translate-x-[100%]"}`,content:"relative w-[280px] z-20 bg-st-100 h-full flex flex-col gap-4",top:{main:"w-full flex p-2",logoBox:"",logo:""},list:"flex flex-col p-2",item:"flex gap-2 items-center py-1 cursor-pointer group hover:text-rd duration-300",itemIcon:"border-2 bg-st-200 rounded-full border-rd size-10 flex items-center justify-center overflow-hidden text-2xl bg-st/75",itemName:"hover:text-rd",userPhoto:"size-full object-cover",header:{main:"w-full max-w-[1024px] h-[9vh] flex items-center text-white bg-st-200/75 md:bg-st-200 px-[15px]",menuBtn:"w-14 h-full flex items-center justify-center duration-300 ",userBtn:"size-8 border-2 self-center flex items-center justify-center rounded-full overflow-hidden",defaultIcon:"text-5xl text-[#ededed]",userImg:"size-full object-cover",categoriesBtnMain:"flex items-center gap-2 w-[90%]",categoriesBtnText:"flex w-[80%] justify-between hover:text-rd",searchForm:"bg-st-200 relative flex items-center mb-4 w-full rounded-full overflow-hidden",searchInput:"bg-transparent w-full text-lg p-1 pl-4 mr-8 outline-none",searchIcon:"absolute right-2 text-xl",categoriesBtnIcon:`${a?"-rotate-90":"rotate-90"} text-2xl duration-300`,categoriesList:`scroll ${a?"flex flex-col":"hidden"} pl-6 overflow-auto max-h-32`,categoriesItem:"flex py-1 w-full h-full hover:text-rd"},headerPc:{main:"hidden size-full md:flex justify-between items-center",optionsBoxMain:"h-full flex gap-4 items-center",optionsBox:"relative flex h-full group",title:"z-20 w-28 bg-st-200 hover:text-rd font-bold duration-300",optionsList:"absolute gap-1 left-2 -translate-y-[150%] group-hover:translate-y-0 z-0 flex flex-col top-[100%] bg-st-200 pt-0 pb-2 rounded-b overflow-hidden duration-300 ",items:"p-2 bg-st-200 hover:text-rd hover:text-rd font-bold duration-300",searchForm:"relative rounded-full bg-white pl-2 pr-6",searchInput:"w-32 focus:w-60 duration-300 outline-none py-[1px] truncate bg-transparent text-black",searchIcon:"absolute text-black right-1 top-[5px]"},logoBox:"h-[6.2vh] md:h-full",logo:"size-full object-contain"},f=[{name:"Inicio",url:"/",icon:w.jsx(dI,{})},{name:"Categoras",url:"",icon:w.jsx(hp,{})},{name:e===null?"Iniciar sesin":"Perfil de usuario",url:e===null?"/login":"/edit-profile",icon:e===null?w.jsx(uf,{}):w.jsx(yI,{})}];function g(_){_.preventDefault();const x=new FormData(_.currentTarget).get("search");n(e?`/search/${x.trim()}/${e.uid}`:`/search/${x.trim()}/null`),u(!1),o(!1)}return L.useEffect(()=>{k_(t)},[e,i]),L.useEffect(()=>{const _=setInterval(()=>{b_(t)},6e5);return()=>clearInterval(_)},[]),w.jsxs("div",{className:"fixed z-50 top-0 left-0 flex flex-col w-full bg-st-200/75 md:bg-st-200",children:[w.jsxs("header",{className:h.header.main,children:[w.jsxs("div",{className:"w-full flex md:hidden justify-between",children:[w.jsx("button",{className:h.header.menuBtn,onClick:()=>o(!i),children:w.jsx(T2,{state:i})}),w.jsx(Mt,{to:"/",className:h.logoBox,children:w.jsx("img",{className:h.logo,src:kf,alt:"logo"})}),w.jsx("span",{className:`${h.header.userBtn} ${(e==null?void 0:e.photoURL)!==null&&" border-rd"}`,children:e===null?w.jsx(uf,{className:h.header.defaultIcon}):e.photoURL===null?w.jsx(uf,{className:h.header.defaultIcon}):w.jsx(Mt,{to:"/edit-profile",children:w.jsx("img",{className:h.header.userImg,src:e.photoURL,alt:e.displayName+"-photo"})})})]}),w.jsxs("div",{className:h.headerPc.main,children:[w.jsxs("span",{className:h.headerPc.optionsBoxMain,children:[w.jsx(Mt,{to:"/",className:"font-bold",children:"Inicio"}),w.jsxs("div",{className:h.headerPc.optionsBox,children:[w.jsx("button",{className:h.headerPc.title,children:"Categorias"}),w.jsx("ul",{className:h.headerPc.optionsList,children:gv.map((_,T)=>w.jsx("li",{children:w.jsx(Mt,{to:`/search/${_}/${e===null?null:e.uid}`,className:h.headerPc.items,children:_})},T))})]})]}),w.jsx(Mt,{to:"/",className:h.logoBox,children:w.jsx("img",{className:h.logo,src:kf,alt:"logo"})}),w.jsxs(ao,{className:h.headerPc.searchForm,onSubmit:_=>g(_),children:[w.jsx("input",{className:h.headerPc.searchInput,type:"text",placeholder:"Buscar...",name:"search"}),w.jsx("button",{className:h.headerPc.searchIcon,type:"submit",children:w.jsx(Fy,{})})]})]})]}),w.jsx("div",{className:h.main,children:w.jsx("div",{className:h.content,children:w.jsxs("ul",{className:h.list,children:[w.jsxs(ao,{className:h.header.searchForm,onSubmit:_=>g(_),children:[w.jsx("input",{type:"text",placeholder:"Buscar...",className:h.header.searchInput,name:"search"}),w.jsx("button",{className:h.header.searchIcon,type:"submit",children:w.jsx(Fy,{})})]}),f.map((_,T)=>w.jsx("li",{children:_.name==="Categoras"?w.jsxs("div",{className:"group",children:[w.jsxs("button",{className:h.header.categoriesBtnMain,onClick:()=>u(!a),children:[w.jsx("span",{className:h.itemIcon,children:_.icon}),w.jsxs("span",{className:h.header.categoriesBtnText,children:[w.jsx("h2",{className:h.itemName,children:_.name}),w.jsx(L0,{className:h.header.categoriesBtnIcon})]})]}),w.jsx("ul",{className:h.header.categoriesList,children:gv.map((x,R)=>w.jsx("li",{children:w.jsx(Mt,{to:`/search/${x}/${e!=null?e.uid:null}`,className:h.header.categoriesItem,onClick:()=>{o(!1),u(!1)},children:x})},R))})]}):w.jsxs(Mt,{className:h.item,to:_.url,onClick:()=>o(!1),children:[w.jsx("span",{className:h.itemIcon,children:_.name==="Perfil de usuario"&&e!==null&&e.photoURL!==null?w.jsx("img",{className:h.userPhoto,src:e.photoURL,alt:"user-profile-photo"}):_.icon}),w.jsx("h2",{className:h.itemName,children:_.name})]})},T)),e!==null&&w.jsx("li",{children:w.jsxs(Mt,{className:h.item,onClick:()=>o(!1),to:`/my-favorites/${e.uid}`,children:[w.jsx("span",{className:h.itemIcon,children:w.jsx(kc,{})}),w.jsx("h2",{className:h.itemName,children:"Mis favoritos"})]})}),e!=null&&w.jsxs("li",{className:h.item,onClick:()=>{_2(n),o(!1)},children:[w.jsx("span",{className:h.itemIcon,children:w.jsx(gI,{})}),w.jsx("h2",{className:h.itemName,children:"Cerrar sesin"})]})]})})})]})};function I2(){return w.jsxs("div",{className:"relative font-roboto",children:[w.jsx(D_,{}),w.jsx(_x,{}),w.jsx(eT,{})]})}const gl=({type:n,name:e,title:t})=>{const[i,o]=L.useState(!1),[a,u]=L.useState(!0),h=g=>{g.target.value.length>=1?(u(!1),o(!0)):u(!0)};let f={main:"size-auto flex",content:"w-full flex items-end relative min-h-16  ",input:"relative bg-transparent z-10 border-b-2 w-full max-w-full text-xl sm:text-base outline-none py-2 sm:py-0 px-1 truncate text-gray-400 focus:border-rd focus:border-b-[2px] focus:text-white",title:`absolute z-0 left-6 text-xl sm:text-base font-bold duration-300 ${i?"text-rd":"text-white"} `,iconBox:"absolute z-10 -left-1 p-1 duration-300 ",icon:` ${i?"text-rd":"text-white"} text-xl sm:text-lg duration-300`,underText:"absolute -bottom-6 text-sm sm:text-[12px] text-gray-400"};return a==!1||i?(f.title+="-translate-y-12 sm:-translate-y-8",f.iconBox+="-translate-y-12 sm:-translate-y-8"):(f.title+="-translate-y-1",f.iconBox+="-translate-y-1"),w.jsx("div",{className:f.main,children:w.jsxs("div",{className:f.content,children:[w.jsx("label",{htmlFor:e,className:f.title,children:t}),w.jsx("input",{className:f.input,id:e,type:n,name:e,onChange:g=>h(g),onFocus:()=>o(!0),onBlur:()=>o(!1),required:!0}),w.jsx("span",{className:f.iconBox,children:n==="email"?w.jsx(TI,{className:f.icon}):n==="password"?w.jsx(fI,{className:f.icon}):w.jsx(Pf,{className:f.icon})}),n==="password"?w.jsxs("h5",{className:f.underText,children:[n==="password"&&e!="re-password"?"Debe tener al menos 6 caracteres.":"",n==="password"&&e==="re-password"?"Repite la contrasea":""]}):""]})})};var S2={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function L_(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return S2[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function yv(n){var e=L_(n);return"".concat(e.value).concat(e.unit)}var O_=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,u=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(u,0),i},Fc=function(){return Fc=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Fc.apply(this,arguments)},R2=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},C2=O_("DotLoader","100% {transform: rotate(360deg)}","rotate"),P2=O_("DotLoader","0%, 100% {transform: scale(0)} 50% {transform: scale(1.0)}","bounce");function Ni(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,o=i===void 0?"#000000":i,a=n.speedMultiplier,u=a===void 0?1:a,h=n.cssOverride,f=h===void 0?{}:h,g=n.size,_=g===void 0?60:g,T=R2(n,["loading","color","speedMultiplier","cssOverride","size"]),x=Fc({display:"inherit",position:"relative",width:yv(_),height:yv(_),animationFillMode:"forwards",animation:"".concat(C2," ").concat(2/u,"s 0s infinite linear")},f),R=function(A){var M=L_(_),b=M.value,D=M.unit;return{position:"absolute",top:A%2?"0":"auto",bottom:A%2?"auto":"0",height:"".concat(b/2).concat(D),width:"".concat(b/2).concat(D),backgroundColor:o,borderRadius:"100%",animationFillMode:"forwards",animation:"".concat(P2," ").concat(2/u,"s ").concat(A===2?"1s":"0s"," infinite linear")}};return t?L.createElement("span",Fc({style:x},T),L.createElement("span",{style:R(1)}),L.createElement("span",{style:R(2)})):null}const A2={display:"block",margin:"0 auto",borderColor:"red"},k2=()=>{const n=va(),[e,t]=L.useState(!1),i={main:"flex flex-col items-center justify-center",content:"flex flex-col bg-st-200 rounded p-2 gap-6 min-h-96 min-w-72",formMain:"flex flex-col gap-6 justify-start p-4",formBtn:"rounded text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"",link:"text-rd underline hover:font-bold hover:text-lg duration-300"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function a(u){u.preventDefault();const h=new FormData(u.currentTarget),f=h.get("mail")||"",g=h.get("password")||"";g!=null&&(g.length<5?Sr("error","La contrasea debe tener ms de 4 carcteres."):v2(f,g,t,n))}return w.jsxs("section",{className:i.main,children:[w.jsxs("div",{className:i.content,children:[w.jsxs(ao,{className:i.formMain,onSubmit:u=>{t(!0),a(u)},autoComplete:"off",children:[w.jsx(gl,{name:"mail",type:"email",title:"Email"}),w.jsx(gl,{name:"password",type:"password",title:"Contrasea"}),w.jsx("button",{type:"submit",className:i.formBtn,children:"Iniciar sesion"})]}),w.jsxs("div",{className:i.bottomBox.main,children:[w.jsx("p",{className:i.bottomBox.txt,children:"An no tienes cuenta?"}),w.jsx(Mt,{className:i.bottomBox.link,to:"/register",children:"registrate"})]})]}),w.jsx("div",{className:i.spinner,children:w.jsx(Ni,{color:o.color,loading:e,cssOverride:A2,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},b2=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center bg-st-100"};return w.jsx("div",{className:n.main,children:w.jsx("div",{className:n.content,children:w.jsx(k2,{})})})},N2={display:"block",margin:"0 auto",borderColor:"red"},D2=()=>{const[n,e]=L.useState(!1),t=va(),i={main:"size-full flex flex-col items-center justify-center ",content:"w-full max-w-[340px] flex flex-col bg-st-200 rounded p-2",title:"text-lg text-center text-white font-bold mt-5 sm:mt-2 sm:pb-2",formMain:"flex flex-col gap-8 sm:gap-4 justify-start p-4 sm:px-4 sm:pt-0",formBtn:"rounded h-[55px] text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"flex gap-2",link:"text-rd font-bold underline"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function a(u){e(!0);const h=new FormData(u.currentTarget),f=h.get("mail")||"",g=h.get("password")||"",_=h.get("re-password")||"";if(g!=null&&g.length<5){e(!1),Sr("error","La contrasea debe tener ms de 4 carcteres.");return}if(_!=g){e(!1),Sr("error","Las contraseas deben ser iguales");return}w2(f,g,e,t)}return w.jsxs("section",{className:i.main,children:[w.jsxs("div",{className:i.content,children:[w.jsx("h1",{className:i.title,children:"REGISTRO DE USUARIO"}),w.jsx("hr",{className:"w-[30%] h-[1px] bg-white self-center my-3 sm:my-0"}),w.jsxs(ao,{className:i.formMain,onSubmit:u=>a(u),autoComplete:"off",children:[w.jsx(gl,{name:"mail",type:"email",title:"Email"}),w.jsx(gl,{name:"password",type:"password",title:"Contrasea"}),w.jsx(gl,{name:"re-password",type:"password",title:"Repite la contrasea"}),w.jsx("button",{type:"submit",className:i.formBtn,children:"Registrarse"})]}),w.jsx("div",{className:i.bottomBox.main,children:w.jsxs("p",{className:i.bottomBox.txt,children:[" Ya tienes cuenta ?",w.jsx(Mt,{className:i.bottomBox.link,to:"/login",children:"Inicia sesin"})]})})]}),w.jsx("div",{className:i.spinner,children:w.jsx(Ni,{color:o.color,loading:n,cssOverride:N2,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},L2=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center p-8 bg-st-100"};return w.jsxs("div",{className:n.main,children:[w.jsx("div",{className:n.content,children:w.jsx(D2,{})}),w.jsx(D_,{})]})},O2=({name:n,image:e,uid:t})=>{const i={main:"flex size-full group",content:"relative rounded p-2 flex size-full items-end justify-center shadow-[0px_0px_10px_0px] shadow-transparent group-hover:shadow-rd",imageBox:"absolute left-0 top-0 z-0 size-full rounded overflow-hidden ",image:"size-full object-cover rounded",title:"font-bold z-10 group-hover:text-rd group-hover:underline text-white text-center"};return w.jsx("div",{className:i.main,children:w.jsxs(Mt,{to:`/details/${n}/${t}`,className:i.content,children:[w.jsx("picture",{className:i.imageBox,children:w.jsx("img",{className:i.image,src:e,alt:"",loading:"lazy",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}})}),w.jsx("h1",{className:i.title,children:n})]})})},M2=({data:n,uid:e})=>{const t={main:"flex w-full justify-center font-roboto",list:"w-full max-w-[1024px] grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-x-4",items:"w-full h-[320px]"};return w.jsx("div",{className:t.main,children:w.jsx("ul",{className:t.list,children:n.map((i,o)=>w.jsx("li",{className:t.items,children:w.jsx(O2,{name:i.name,image:i.images[0],uid:e})},o))})})};var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,M_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(O,F,B){for(var N=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)N[ht-2]=arguments[ht];return I.prototype[F].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)O[F]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(F=0;16>F;++F)O[F]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],F=P.g[2];var B=P.g[3],N=I+(B^C&(F^B))+O[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=B+(F^I&(C^F))+O[1]+3905402710&4294967295,B=I+(N<<12&4294967295|N>>>20),N=F+(C^B&(I^C))+O[2]+606105819&4294967295,F=B+(N<<17&4294967295|N>>>15),N=C+(I^F&(B^I))+O[3]+3250441966&4294967295,C=F+(N<<22&4294967295|N>>>10),N=I+(B^C&(F^B))+O[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(F^I&(C^F))+O[5]+1200080426&4294967295,B=I+(N<<12&4294967295|N>>>20),N=F+(C^B&(I^C))+O[6]+2821735955&4294967295,F=B+(N<<17&4294967295|N>>>15),N=C+(I^F&(B^I))+O[7]+4249261313&4294967295,C=F+(N<<22&4294967295|N>>>10),N=I+(B^C&(F^B))+O[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(F^I&(C^F))+O[9]+2336552879&4294967295,B=I+(N<<12&4294967295|N>>>20),N=F+(C^B&(I^C))+O[10]+4294925233&4294967295,F=B+(N<<17&4294967295|N>>>15),N=C+(I^F&(B^I))+O[11]+2304563134&4294967295,C=F+(N<<22&4294967295|N>>>10),N=I+(B^C&(F^B))+O[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(F^I&(C^F))+O[13]+4254626195&4294967295,B=I+(N<<12&4294967295|N>>>20),N=F+(C^B&(I^C))+O[14]+2792965006&4294967295,F=B+(N<<17&4294967295|N>>>15),N=C+(I^F&(B^I))+O[15]+1236535329&4294967295,C=F+(N<<22&4294967295|N>>>10),N=I+(F^B&(C^F))+O[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^F&(I^C))+O[6]+3225465664&4294967295,B=I+(N<<9&4294967295|N>>>23),N=F+(I^C&(B^I))+O[11]+643717713&4294967295,F=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(F^B))+O[0]+3921069994&4294967295,C=F+(N<<20&4294967295|N>>>12),N=I+(F^B&(C^F))+O[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^F&(I^C))+O[10]+38016083&4294967295,B=I+(N<<9&4294967295|N>>>23),N=F+(I^C&(B^I))+O[15]+3634488961&4294967295,F=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(F^B))+O[4]+3889429448&4294967295,C=F+(N<<20&4294967295|N>>>12),N=I+(F^B&(C^F))+O[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^F&(I^C))+O[14]+3275163606&4294967295,B=I+(N<<9&4294967295|N>>>23),N=F+(I^C&(B^I))+O[3]+4107603335&4294967295,F=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(F^B))+O[8]+1163531501&4294967295,C=F+(N<<20&4294967295|N>>>12),N=I+(F^B&(C^F))+O[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^F&(I^C))+O[2]+4243563512&4294967295,B=I+(N<<9&4294967295|N>>>23),N=F+(I^C&(B^I))+O[7]+1735328473&4294967295,F=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(F^B))+O[12]+2368359562&4294967295,C=F+(N<<20&4294967295|N>>>12),N=I+(C^F^B)+O[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^F)+O[8]+2272392833&4294967295,B=I+(N<<11&4294967295|N>>>21),N=F+(B^I^C)+O[11]+1839030562&4294967295,F=B+(N<<16&4294967295|N>>>16),N=C+(F^B^I)+O[14]+4259657740&4294967295,C=F+(N<<23&4294967295|N>>>9),N=I+(C^F^B)+O[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^F)+O[4]+1272893353&4294967295,B=I+(N<<11&4294967295|N>>>21),N=F+(B^I^C)+O[7]+4139469664&4294967295,F=B+(N<<16&4294967295|N>>>16),N=C+(F^B^I)+O[10]+3200236656&4294967295,C=F+(N<<23&4294967295|N>>>9),N=I+(C^F^B)+O[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^F)+O[0]+3936430074&4294967295,B=I+(N<<11&4294967295|N>>>21),N=F+(B^I^C)+O[3]+3572445317&4294967295,F=B+(N<<16&4294967295|N>>>16),N=C+(F^B^I)+O[6]+76029189&4294967295,C=F+(N<<23&4294967295|N>>>9),N=I+(C^F^B)+O[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^F)+O[12]+3873151461&4294967295,B=I+(N<<11&4294967295|N>>>21),N=F+(B^I^C)+O[15]+530742520&4294967295,F=B+(N<<16&4294967295|N>>>16),N=C+(F^B^I)+O[2]+3299628645&4294967295,C=F+(N<<23&4294967295|N>>>9),N=I+(F^(C|~B))+O[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~F))+O[7]+1126891415&4294967295,B=I+(N<<10&4294967295|N>>>22),N=F+(I^(B|~C))+O[14]+2878612391&4294967295,F=B+(N<<15&4294967295|N>>>17),N=C+(B^(F|~I))+O[5]+4237533241&4294967295,C=F+(N<<21&4294967295|N>>>11),N=I+(F^(C|~B))+O[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~F))+O[3]+2399980690&4294967295,B=I+(N<<10&4294967295|N>>>22),N=F+(I^(B|~C))+O[10]+4293915773&4294967295,F=B+(N<<15&4294967295|N>>>17),N=C+(B^(F|~I))+O[1]+2240044497&4294967295,C=F+(N<<21&4294967295|N>>>11),N=I+(F^(C|~B))+O[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~F))+O[15]+4264355552&4294967295,B=I+(N<<10&4294967295|N>>>22),N=F+(I^(B|~C))+O[6]+2734768916&4294967295,F=B+(N<<15&4294967295|N>>>17),N=C+(B^(F|~I))+O[13]+1309151649&4294967295,C=F+(N<<21&4294967295|N>>>11),N=I+(F^(C|~B))+O[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~F))+O[11]+3174756917&4294967295,B=I+(N<<10&4294967295|N>>>22),N=F+(I^(B|~C))+O[2]+718787259&4294967295,F=B+(N<<15&4294967295|N>>>17),N=C+(B^(F|~I))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,O=this.B,F=this.h,B=0;B<I;){if(F==0)for(;B<=C;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<I;)if(O[F++]=P.charCodeAt(B++),F==this.blockSize){o(this,O),F=0;break}}else for(;B<I;)if(O[F++]=P[B++],F==this.blockSize){o(this,O),F=0;break}}this.h=F,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)P[C++]=this.g[I]>>>O&255;return P};function a(P,I){var C=h;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function u(P,I){this.h=I;for(var C=[],O=!0,F=P.length-1;0<=F;F--){var B=P[F]|0;O&&B==I||(C[F]=B,O=!1)}this.g=C}var h={};function f(P){return-128<=P&&128>P?a(P,function(I){return new u([I|0],0>I?-1:0)}):new u([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return b(g(-P));for(var I=[],C=1,O=0;P>=C;O++)I[O]=P/C|0,C*=4294967296;return new u(I,0)}function _(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return b(_(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),O=T,F=0;F<P.length;F+=8){var B=Math.min(8,P.length-F),N=parseInt(P.substring(F,F+B),I);8>B?(B=g(Math.pow(I,B)),O=O.j(B).add(g(N))):(O=O.j(C),O=O.add(g(N)))}return O}var T=f(0),x=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-b(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);P+=(0<=O?O:4294967296+O)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(M(this))return"-"+b(this).toString(P);for(var I=g(Math.pow(P,6)),C=this,O="";;){var F=te(C,I).g;C=D(C,F.j(I));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=F,A(C))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function M(P){return P.h==-1}n.l=function(P){return P=D(this,P),M(P)?-1:A(P)?0:1};function b(P){for(var I=P.g.length,C=[],O=0;O<I;O++)C[O]=~P.g[O];return new u(C,~P.h).add(x)}n.abs=function(){return M(this)?b(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0,F=0;F<=I;F++){var B=O+(this.i(F)&65535)+(P.i(F)&65535),N=(B>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);O=N>>>16,B&=65535,N&=65535,C[F]=N<<16|B}return new u(C,C[C.length-1]&-2147483648?-1:0)};function D(P,I){return P.add(b(I))}n.j=function(P){if(A(this)||A(P))return T;if(M(this))return M(P)?b(this).j(b(P)):b(b(this).j(P));if(M(P))return b(this.j(b(P)));if(0>this.l(R)&&0>P.l(R))return g(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var F=0;F<P.g.length;F++){var B=this.i(O)>>>16,N=this.i(O)&65535,ht=P.i(F)>>>16,Be=P.i(F)&65535;C[2*O+2*F]+=N*Be,K(C,2*O+2*F),C[2*O+2*F+1]+=B*Be,K(C,2*O+2*F+1),C[2*O+2*F+1]+=N*ht,K(C,2*O+2*F+1),C[2*O+2*F+2]+=B*ht,K(C,2*O+2*F+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new u(C,0)};function K(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function Q(P,I){this.g=P,this.h=I}function te(P,I){if(A(I))throw Error("division by zero");if(A(P))return new Q(T,T);if(M(P))return I=te(b(P),I),new Q(b(I.g),b(I.h));if(M(I))return I=te(P,b(I)),new Q(b(I.g),I.h);if(30<P.g.length){if(M(P)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var C=x,O=I;0>=O.l(P);)C=U(C),O=U(O);var F=oe(C,1),B=oe(O,1);for(O=oe(O,2),C=oe(C,2);!A(O);){var N=B.add(O);0>=N.l(P)&&(F=F.add(C),B=N),O=oe(O,1),C=oe(C,1)}return I=D(P,F.j(I)),new Q(F,I)}for(F=T;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=g(C),N=B.j(I);M(N)||0<N.l(P);)C-=O,B=g(C),N=B.j(I);A(B)&&(B=x),F=F.add(B),P=D(P,N)}return new Q(F,P)}n.A=function(P){return te(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&P.i(O);return new u(C,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|P.i(O);return new u(C,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^P.i(O);return new u(C,this.h^P.h)};function U(P){for(var I=P.g.length+1,C=[],O=0;O<I;O++)C[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(C,P.h)}function oe(P,I){var C=I>>5;I%=32;for(var O=P.g.length-C,F=[],B=0;B<O;B++)F[B]=0<I?P.i(B+C)>>>I|P.i(B+C+1)<<32-I:P.i(B+C);return new u(F,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,M_=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,so=u}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V_,dl,j_,_c,Uf,F_,U_,z_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in v))break e;v=v[W]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var v=0,S=!1,W={next:function(){if(!S&&v<c.length){var J=v++;return{value:m(J,c[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function T(c,m,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),c.apply(m,W)}}return function(){return c.apply(m,arguments)}}function x(c,m,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,x.apply(null,arguments)}function R(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,W,J){for(var de=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)de[ct-2]=arguments[ct];return m.prototype[W].apply(S,de)}}function M(c){const m=c.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function b(c,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(f(S)){const W=c.length||0,J=S.length||0;c.length=W+J;for(let de=0;de<J;de++)c[W+de]=S[de]}else c.push(S)}}class D{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var U=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function oe(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function P(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function I(c){const m={};for(const v in c)m[v]=c[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let v,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(v in S)c[v]=S[v];for(let J=0;J<C.length;J++)v=C[J],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function F(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function B(c){h.setTimeout(()=>{throw c},0)}function N(){var c=Te;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const S=Be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Be=new D(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,le=!1,Te=new ht,he=()=>{const c=h.Promise.resolve(void 0);Ue=()=>{c.then($)}};var $=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){B(v)}var m=Be;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}le=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return c}();function Le(c,m){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(U){e:{try{te(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}A(Le,we);var $e={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function je(c,m,v,S,W){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=W,this.key=++et,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qn(c){this.src=c,this.g={},this.h=0}Qn.prototype.add=function(c,m,v,S,W){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var de=ln(c,m,S,W);return-1<de?(m=c[de],v||(m.fa=!1)):(m=new je(m,this.src,J,!!S,W),m.fa=v,c.push(m)),m};function Di(c,m){var v=m.type;if(v in c.g){var S=c.g[v],W=Array.prototype.indexOf.call(S,m,void 0),J;(J=0<=W)&&Array.prototype.splice.call(S,W,1),J&&(mt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ln(c,m,v,S){for(var W=0;W<c.length;++W){var J=c[W];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==S)return W}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Li={};function Oi(c,m,v,S,W){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Oi(c,m[J],v,S,W);return null}return v=Sn(v),c&&c[Ze]?c.K(m,v,g(S)?!!S.capture:!!S,W):Ns(c,m,v,!1,S,W)}function Ns(c,m,v,S,W,J){if(!m)throw Error("Invalid event type");var de=g(W)?!!W.capture:!!W,ct=ei(c);if(ct||(c[Zr]=ct=new Qn(c)),v=ct.add(m,v,S,de,J),v.proxy)return v;if(S=vo(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)Me||(W=de),W===void 0&&(W=!1),c.addEventListener(m.toString(),S,W);else if(c.attachEvent)c.attachEvent(Qt(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vo(){function c(v){return m.call(c.src,c.listener,v)}const m=or;return c}function Mi(c,m,v,S,W){if(Array.isArray(m))for(var J=0;J<m.length;J++)Mi(c,m[J],v,S,W);else S=g(S)?!!S.capture:!!S,v=Sn(v),c&&c[Ze]?(c=c.i,m=String(m).toString(),m in c.g&&(J=c.g[m],v=ln(J,v,S,W),-1<v&&(mt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete c.g[m],c.h--)))):c&&(c=ei(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ln(m,v,S,W)),(v=-1<c?m[c]:null)&&sr(v))}function sr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ze])Di(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(Qt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ei(m))?(Di(v,c),v.h==0&&(v.src=null,m[Zr]=null)):mt(c)}}}function Qt(c){return c in Li?Li[c]:Li[c]="on"+c}function or(c,m){if(c.da)c=!0;else{m=new Le(m,this);var v=c.listener,S=c.ha||c.src;c.fa&&sr(c),c=v.call(S,m)}return c}function ei(c){return c=c[Zr],c instanceof Qn?c:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(c){return typeof c=="function"?c:(c[Ar]||(c[Ar]=function(m){return c.handleEvent(m)}),c[Ar])}function ut(){Z.call(this),this.i=new Qn(this),this.M=this,this.F=null}A(ut,Z),ut.prototype[Ze]=!0,ut.prototype.removeEventListener=function(c,m,v,S){Mi(this,c,m,v,S)};function Pt(c,m){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new we(m,c);else if(m instanceof we)m.target=m.target||c;else{var W=m;m=new we(S,c),O(m,W)}if(W=!0,v)for(var J=v.length-1;0<=J;J--){var de=m.g=v[J];W=Fn(de,S,!0,m)&&W}if(de=m.g=c,W=Fn(de,S,!0,m)&&W,W=Fn(de,S,!1,m)&&W,v)for(J=0;J<v.length;J++)de=m.g=v[J],W=Fn(de,S,!1,m)&&W}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],S=0;S<v.length;S++)mt(v[S]);delete c.g[m],c.h--}}this.F=null},ut.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},ut.prototype.L=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function Fn(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,J=0;J<m.length;++J){var de=m[J];if(de&&!de.da&&de.capture==v){var ct=de.listener,Vt=de.ha||de.src;de.fa&&Di(c.i,de),W=ct.call(Vt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ds(c,m,v){if(typeof c=="function")v&&(c=x(c,v));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(c,m||0)}function Yt(c){c.g=Ds(()=>{c.g=null,c.i&&(c.i=!1,Yt(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kr extends Z{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(c){Z.call(this),this.h=c,this.g={}}A(br,Z);var Vi=[];function Ls(c){oe(c.g,function(m,v){this.g.hasOwnProperty(v)&&sr(m)},c),c.g={}}br.prototype.N=function(){br.aa.N.call(this),Ls(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=h.JSON.stringify,Nr=h.JSON.parse,Fi=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ar(){}ar.prototype.h=null;function Ui(c){return c.h||(c.h=c.i())}function ti(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){we.call(this,"d")}A(Un,we);function lr(){we.call(this,"c")}A(lr,we);var _n={},Os=null;function ni(){return Os=Os||new ut}_n.La="serverreachability";function j(c){we.call(this,_n.La,c)}A(j,we);function H(c){const m=ni();Pt(m,new j(m))}_n.STAT_EVENT="statevent";function X(c,m){we.call(this,_n.STAT_EVENT,c),this.stat=m}A(X,we);function ee(c){const m=ni();Pt(m,new X(m,c))}_n.Ma="timingevent";function fe(c,m){we.call(this,_n.Ma,c),this.size=m}A(fe,we);function ye(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function pe(c,m,v,S,W,J){c.info(function(){if(c.g)if(J)for(var de="",ct=J.split("&"),Vt=0;Vt<ct.length;Vt++){var Xe=ct[Vt].split("=");if(1<Xe.length){var $t=Xe[0];Xe=Xe[1];var Dt=$t.split("_");de=2<=Dt.length&&Dt[1]=="type"?de+($t+"="+Xe+"&"):de+($t+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+m+`
`+v+`
`+de})}function _e(c,m,v,S,W,J,de){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+m+`
`+v+`
`+J+" "+de})}function ce(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(c,v)+(S?" "+S:"")})}function ke(c,m){c.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function Fe(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return ji(v)}catch{return m}}var st={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},At={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function tt(){}A(tt,ar),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},qe=new tt;function ot(c,m,v,S){this.j=c,this.i=m,this.l=v,this.R=S||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var cr={},un={};function Xt(c,m,v){c.L=1,c.v=Hi(zn(m)),c.m=v,c.P=!0,ri(c,null)}function ri(c,m){c.F=Date.now(),at(c),c.A=zn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),qi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new ur,c.g=lu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new kr(x(c.Y,c,c.g),c.O)),m=c.U,v=c.g,S=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Vi[0]=W.toString()),W=Vi);for(var J=0;J<W.length;J++){var de=Oi(v,W[J],S||m.handleEvent,!1,m.h||m);if(!de)break;m.g[de.key]=de}m=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),H(),pe(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const m=this.M;m&&An(c)==3?m.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=An(this.g);var m=this.g.Ba();const Xn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||Dt!=4||m==7||(m==8||0>=Xn?H(3):H(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(Dr(this)){var S=ka(this.g);c="";var W=S.length,J=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),gt(this);var de="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(J&&m==W-1)});S.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Vt=this.g;if((ct=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ct)){var Xe=ct;break t}}Xe=null}if(v=Xe)ce(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,v);else{this.o=!1,this.s=3,ee(12),Jt(this),gt(this);break e}}if(this.P){v=!0;let $n;for(;!this.J&&this.C<de.length;)if($n=dr(this,de),$n==un){Dt==4&&(this.s=4,ee(14),v=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if($n==cr){this.s=4,ee(15),ce(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else ce(this.i,this.l,$n,null),hr(this,$n);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||de.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)ce(this.i,this.l,de,"[Invalid Chunked Response]"),Jt(this),gt(this);else if(0<de.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Na($t),$t.M=!0,ee(11))}}else ce(this.i,this.l,de,null),hr(this,de);Dt==4&&Jt(this),this.o&&!this.J&&(Dt==4?ko(this.j,this):(this.o=!1,at(this)))}else So(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Jt(this),gt(this)}}}catch{}finally{}};function Dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dr(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?un:(v=Number(m.substring(v,S)),isNaN(v)?cr:(S+=1,S+v>m.length?un:(m=m.slice(S,S+v),c.C=S+v,m)))}ot.prototype.cancel=function(){this.J=!0,Jt(this)};function at(c){c.S=Date.now()+c.I,ii(c,c.I)}function ii(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(x(c.ba,c),m)}function Ye(c){c.B&&(h.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ke(this.i,this.A),this.L!=2&&(H(),ee(17)),Jt(this),this.s=2,gt(this)):ii(this,this.S-c)};function gt(c){c.j.G==0||c.J||ko(c.j,c)}function Jt(c){Ye(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Ls(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function hr(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||wn(v.h,c))){if(!c.K&&wn(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ao(v),yr(v);else break e;Po(v),ee(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(x(v.Za,v),6e3));if(1>=_o(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ui(v,11)}else if((c.K||v.g==c)&&Ao(v),!K(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let Xe=W[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const $t=Xe[3];$t!=null&&(v.la=$t,v.j.info("VER="+v.la));const Dt=Xe[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Xn=Xe[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(S=1.5*Xn,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $n=c.g;if($n){const zs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var J=S.h;J.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ra(J,J.h),J.h=null))}if(S.D){const No=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(S.ya=No,ft(S.I,S.D,No))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var de=c;if(S.qa=au(S,S.J?S.ia:null,S.W),de.K){Ql(S.h,de);var ct=de,Vt=S.L;Vt&&(ct.I=Vt),ct.B&&(Ye(ct),at(ct)),S.g=de}else Us(S);0<v.i.length&&Vr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||ui(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ui(v,7):en(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}H(4)}catch{}}var yt=class{constructor(c,m){this.g=c,this.map=m}};function Cn(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _o(c){return c.h?1:c.g?c.g.size:0}function wn(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ra(c,m){c.g?c.g.add(m):c.h=m}function Ql(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Cn.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return M(c.i)}function wo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],v=c.length,S=0;S<v;S++)m.push(c[S]);return m}m=[],v=0;for(S in c)m[v++]=c[S];return m}function Eo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const S in c)m[v++]=S;return m}}}function zi(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Eo(c),S=wo(c),W=S.length,J=0;J<W;J++)m.call(void 0,S[J],v&&v[J],c)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),W=null;if(0<=S){var J=c[v].substring(0,S);W=c[v].substring(S+1)}else J=c[v];m(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof si){this.h=c.h,Vs(this,c.j),this.o=c.o,this.g=c.g,Bi(this,c.s),this.l=c.l;var m=c.i,v=new Lr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),$i(this,v),this.m=c.m}else c&&(m=String(c).match(Ms))?(this.h=!1,Vs(this,m[1]||"",!0),this.o=Ke(m[2]||""),this.g=Ke(m[3]||"",!0),Bi(this,m[4]),this.l=Ke(m[5]||"",!0),$i(this,m[6]||"",!0),this.m=Ke(m[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}si.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Wi(m,To,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Wi(m,To,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Wi(v,v.charAt(0)=="/"?Zl:Jl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Wi(v,Ca)),c.join("")};function zn(c){return new si(c)}function Vs(c,m,v){c.j=v?Ke(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Bi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function $i(c,m,v){m instanceof Lr?(c.i=m,Or(c.i,c.h)):(v||(m=Wi(m,eu)),c.i=new Lr(m,c.h))}function ft(c,m,v){c.i.set(m,v)}function Hi(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wi(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Xl),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,Jl=/[#\?:]/g,Zl=/[#\?]/g,eu=/[#\?@]/g,Ca=/#/g;function Lr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Zt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ad(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Lr.prototype,n.add=function(c,m){Zt(this),this.i=null,c=Yn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function fr(c,m){Zt(c),m=Yn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function pr(c,m){return Zt(c),m=Yn(c,m),c.g.has(m)}n.forEach=function(c,m){Zt(this),this.g.forEach(function(v,S){v.forEach(function(W){c.call(m,W,S,this)},this)},this)},n.na=function(){Zt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const W=c[S];for(let J=0;J<W.length;J++)v.push(m[S])}return v},n.V=function(c){Zt(this);let m=[];if(typeof c=="string")pr(this,c)&&(m=m.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return Zt(this),this.i=null,c=Yn(this,c),pr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function qi(c,m,v){fr(c,m),0<v.length&&(c.i=null,c.g.set(Yn(c,m),M(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const J=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var W=J;de[S]!==""&&(W+="="+encodeURIComponent(String(de[S]))),c.push(W)}}return this.i=c.join("&")};function Yn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Or(c,m){m&&!c.j&&(Zt(c),c.i=null,c.g.forEach(function(v,S){var W=S.toLowerCase();S!=W&&(fr(this,S),qi(this,W,v))},c)),c.j=m}function kd(c,m){const v=new Re;if(h.Image){const S=new Image;S.onload=R(Pn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=R(Pn,v,"TestLoadImage: error",!1,m,S),S.onabort=R(Pn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=R(Pn,v,"TestLoadImage: timeout",!1,m,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function tu(c,m){const v=new Re,S=new AbortController,W=setTimeout(()=>{S.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(J=>{clearTimeout(W),J.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Pn(v,"TestPingServer: error",!1,m)})}function Pn(c,m,v,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(v)}catch{}}function bd(){this.g=new Fi}function nu(c,m,v){const S=v||"";try{zi(c,function(W,J){let de=W;g(W)&&(de=ji(W)),m.push(S+J+"="+encodeURIComponent(de))})}catch(W){throw m.push(S+"type="+encodeURIComponent("_badmap")),W}}function oi(c){this.l=c.Ub||null,this.j=c.eb||!1}A(oi,ar),oi.prototype.g=function(){return new js(this.l,this.j)},oi.prototype.i=function(c){return function(){return c}}({});function js(c,m){ut.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(js,ut),n=js.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,gr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mr(this):gr(this),this.readyState==3&&ru(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},n.Qa=function(c){this.g&&(this.response=c,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ai(c){let m="";return oe(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Ki(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ai(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ft(c,m,v))}function Et(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Et,ut);var Nd=/^https?$/i,Pa=["POST","PUT"];n=Et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Ui(this.o):Ui(qe),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(J){Fs(this,J);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)v.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())v.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Pa,m,void 0))||S||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of v)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Fs(this,J)}};function Fs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,xo(c),Bn(c)}function xo(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},n.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Ds(c.Ea,0,c);else if(Pt(c,"readystatechange"),An(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=de===0){var W=String(c.D).match(Ms)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!Nd.test(W?W.toLowerCase():"")}v=S}if(v)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var J=2<An(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",xo(c)}}finally{Bn(c)}}}}function Bn(c,m){if(c.g){Io(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Pt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Io(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Nr(m)}};function ka(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function So(c){const m={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(K(c[S]))continue;var v=F(c[S]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[W]||[];m[W]=J,J.push(v)}P(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ba(c){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,c),this.cb=Mr("retryDelaySeedMs",1e4,c),this.Wa=Mr("forwardChannelMaxRetries",2,c),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cn(c&&c.concurrentRequestLimit),this.Da=new bd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ba.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,S){ee(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=au(this,null,this.W),Vr(this)};function en(c){if(Ro(c),c.G==3){var m=c.U++,v=zn(c.I);if(ft(v,"SID",c.K),ft(v,"RID",m),ft(v,"TYPE","terminate"),li(c,v),m=new ot(c,c.j,m),m.L=2,m.v=Hi(zn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),at(m)}ou(c)}function yr(c){c.g&&(Na(c),c.g.cancel(),c.g=null)}function Ro(c){yr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ao(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Vr(c){if(!cn(c.h)&&!c.s){c.s=!0;var m=c.Ga;Ue||he(),le||(Ue(),le=!0),Te.add(m,c),c.B=0}}function Dd(c,m){return _o(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(x(c.Ga,c,m),su(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new ot(this,this.j,c);let J=this.o;if(this.S&&(J?(J=I(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Gi(this,W,m),v=zn(this.I),ft(v,"RID",c),ft(v,"CVER",22),this.D&&ft(v,"X-HTTP-Session-Id",this.D),li(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(ai(J)))+"&"+m:this.m&&Ki(v,this.m,J)),Ra(this.h,W),this.Ua&&ft(v,"TYPE","init"),this.P?(ft(v,"$req",m),ft(v,"SID","null"),W.T=!0,Xt(W,v,null)):Xt(W,v,m),this.G=2}}else this.G==3&&(c?Co(this,c):this.i.length==0||cn(this.h)||Co(this))};function Co(c,m){var v;m?v=m.l:v=c.U++;const S=zn(c.I);ft(S,"SID",c.K),ft(S,"RID",v),ft(S,"AID",c.T),li(c,S),c.m&&c.o&&Ki(S,c.m,c.o),v=new ot(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Gi(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ra(c.h,v),Xt(v,S,m)}function li(c,m){c.H&&oe(c.H,function(v,S){ft(m,S,v)}),c.l&&zi({},function(v,S){ft(m,S,v)})}function Gi(c,m,v){v=Math.min(c.i.length,v);var S=c.l?x(c.l.Na,c.l,c):null;e:{var W=c.i;let J=-1;for(;;){const de=["count="+v];J==-1?0<v?(J=W[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let ct=!0;for(let Vt=0;Vt<v;Vt++){let Xe=W[Vt].g;const $t=W[Vt].map;if(Xe-=J,0>Xe)J=Math.max(0,W[Vt].g-100),ct=!1;else try{nu($t,de,"req"+Xe+"_")}catch{S&&S($t)}}if(ct){S=de.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,S}function Us(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Ue||he(),le||(Ue(),le=!0),Te.add(m,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(x(c.Fa,c),su(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(x(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),yr(this),iu(this))};function Na(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function iu(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=zn(c.qa);ft(m,"RID","rpc"),ft(m,"SID",c.K),ft(m,"AID",c.T),ft(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(m,"TO",c.ja),ft(m,"TYPE","xmlhttp"),li(c,m),c.m&&c.o&&Ki(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Hi(zn(m)),v.m=null,v.P=!0,ri(v,c)}n.Za=function(){this.C!=null&&(this.C=null,yr(this),Po(this),ee(19))};function Ao(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ko(c,m){var v=null;if(c.g==m){Ao(c),Na(c),c.g=null;var S=2}else if(wn(c.h,m))v=m.D,Ql(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=c.B;S=ni(),Pt(S,new fe(S,v)),Vr(c)}else Us(c);else if(W=m.s,W==3||W==0&&0<m.X||!(S==1&&Dd(c,m)||S==2&&Po(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),W){case 1:ui(c,5);break;case 4:ui(c,10);break;case 3:ui(c,6);break;default:ui(c,2)}}}function su(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function ui(c,m){if(c.j.info("Error code "+m),m==2){var v=x(c.fb,c),S=c.Xa;const W=!S;S=new si(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vs(S,"https"),Hi(S),W?kd(S.toString(),v):tu(S.toString(),v)}else ee(2);c.G=0,c.l&&c.l.sa(m),ou(c),Ro(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function ou(c){if(c.G=0,c.ka=[],c.l){const m=Yl(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ka,m),b(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function au(c,m,v){var S=v instanceof si?zn(v):new si(v);if(S.g!="")m&&(S.g=m+"."+S.g),Bi(S,S.s);else{var W=h.location;S=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var J=new si(null);S&&Vs(J,S),m&&(J.g=m),W&&Bi(J,W),v&&(J.l=v),S=J}return v=c.D,m=c.ya,v&&m&&ft(S,v,m),ft(S,"VER",c.la),li(c,S),S}function lu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Et(new oi({eb:v})):new Et(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(c,m){return new En(c,m)};function En(c,m){ut.call(this),this.g=new ba(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!K(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new jr(this)}A(En,ut),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){en(this.g)},En.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ji(c),c=v);m.i.push(new yt(m.Ya++,c)),m.G==3&&Vr(m)},En.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,En.aa.N.call(this)};function uu(c){Un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(uu,Un);function cu(){lr.call(this),this.status=1}A(cu,lr);function jr(c){this.g=c}A(jr,Da),jr.prototype.ua=function(){Pt(this.g,"a")},jr.prototype.ta=function(c){Pt(this.g,new uu(c))},jr.prototype.sa=function(c){Pt(this.g,new cu)},jr.prototype.ra=function(){Pt(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,z_=function(){return new bo},U_=function(){return ni()},F_=_n,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,_c=st,At.COMPLETE="complete",j_=At,ti.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,dl=ti,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,V_=Et}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new fp("@firebase/firestore");function ea(){return ho.logLevel}function ge(n,...e){if(ho.logLevel<=He.DEBUG){const t=e.map(Sp);ho.debug(`Firestore (${Ea}): ${n}`,...t)}}function Ri(n,...e){if(ho.logLevel<=He.ERROR){const t=e.map(Sp);ho.error(`Firestore (${Ea}): ${n}`,...t)}}function da(n,...e){if(ho.logLevel<=He.WARN){const t=e.map(Sp);ho.warn(`Firestore (${Ea}): ${n}`,...t)}}function Sp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function lt(n,e){n||De()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ti,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ti)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new B_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new gn(e)}}class U2{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class z2{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new U2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){lt(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new B2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=H2(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function ha(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new zt(0,0))}static max(){return new Oe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends Sl{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Sl{construct(e,t,i){return new sn(e,t,i)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(xt.fromString(e))}static fromName(e){return new Ae(xt.fromString(e).popFirst(5))}static empty(){return new Ae(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new xt(e.slice()))}}function q2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new zt(t+1,0):new zt(t,i));return new xs(o,Ae.empty(),e)}function K2(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xs(Oe.min(),Ae.empty(),-1)}static max(){return new xs(Oe.max(),Ae.empty(),-1)}}function G2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Q2)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;t(e[g]).next(_=>{u[g]=_,++h,h===a&&i(u)},_=>o(_))}})}static doWhile(e,t){return new ne((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function X2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ad.oe=-1;function ld(n){return n==null}function Uc(n){return n===0&&1/n==-1/0}function J2(n){return typeof n=="number"&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wv(e)),e=eP(n.get(t),e);return wv(e)}function eP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function wv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??rn.RED,this.left=o??rn.EMPTY,this.right=a??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new rn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,a){return this}insert(e,t,i){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Bt(sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new W_("Invalid base64 string: "+a):a}}(e);return new an(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const tP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(lt(!!n),typeof n=="string"){let e=0;const t=tP.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ss(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ud(n){const e=n.mapValue.fields.__previous_value__;return Rp(e)?ud(e):e}function Rl(n){const e=Is(n.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,i,o,a,u,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class Cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rp(n)?4:iP(n)?9007199254740991:rP(n)?10:11:De()}function Yr(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Is(o.timestampValue),h=Is(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ss(o.bytesValue).isEqual(Ss(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Nt(o.doubleValue),h=Nt(a.doubleValue);return u===h?Uc(u)===Uc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Ev(u)!==Ev(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Yr(u[f],h[f])))return!1;return!0}(n,e);default:return De()}}function Pl(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function fa(n,e){if(n===e)return 0;const t=Rs(n),i=Rs(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Nt(a.integerValue||a.doubleValue),f=Nt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return xv(n.timestampValue,e.timestampValue);case 4:return xv(Rl(n),Rl(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Ss(a),f=Ss(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Ge(h[g],f[g]);if(_!==0)return _}return Ge(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ge(Nt(a.latitude),Nt(u.latitude));return h!==0?h:Ge(Nt(a.longitude),Nt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Iv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,g,_;const T=a.fields||{},x=u.fields||{},R=(h=T.value)===null||h===void 0?void 0:h.arrayValue,A=(f=x.value)===null||f===void 0?void 0:f.arrayValue,M=Ge(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:Iv(R,A)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===uc.mapValue&&u===uc.mapValue)return 0;if(a===uc.mapValue)return 1;if(u===uc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=u.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const x=Ge(f[T],_[T]);if(x!==0)return x;const R=fa(h[f[T]],g[_[T]]);if(R!==0)return R}return Ge(f.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function xv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Is(n),i=Is(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function Iv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=fa(t[o],i[o]);if(a)return a}return Ge(t.length,i.length)}function pa(n){return zf(n)}function zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Is(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ss(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=zf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${zf(t.fields[u])}`;return o+"}"}(n.mapValue):De()}function wc(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(n);return e?16+wc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ss(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+wc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ks(i.fields,(a,u)=>{o+=a.length+wc(u)}),o}(n.mapValue);default:throw De()}}function Bf(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function Sv(n){return!!n&&"nullValue"in n}function Rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ec(n){return!!n&&"mapValue"in n}function rP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(t)}setAll(e){let t=sn.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=yl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ks(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Vn(yl(this.value))}}function q_(n){const e=[];return ks(n.fields,(t,i)=>{const o=new sn([t]);if(Ec(i)){const a=q_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Oe.min(),Oe.min(),Oe.min(),Vn.empty(),0)}static newFoundDocument(e,t,i,o){return new yn(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new yn(e,2,t,Oe.min(),Oe.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Oe.min(),Oe.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.position=e,this.inclusive=t}}function Cv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),t.key):i=fa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function sP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class Ut extends K_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new aP(e,t,i):t==="array-contains"?new cP(e,i):t==="in"?new dP(e,i):t==="not-in"?new hP(e,i):t==="array-contains-any"?new fP(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new lP(e,i):new uP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fa(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends K_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xr(e,t)}matches(e){return G_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function G_(n){return n.op==="and"}function Q_(n){return oP(n)&&G_(n)}function oP(n){for(const e of n.filters)if(e instanceof Xr)return!1;return!0}function $f(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(Q_(n))return n.filters.map(e=>$f(e)).join(",");{const e=n.filters.map(t=>$f(t)).join(",");return`${n.op}(${e})`}}function Y_(n,e){return n instanceof Ut?function(i,o){return o instanceof Ut&&i.op===o.op&&i.field.isEqual(o.field)&&Yr(i.value,o.value)}(n,e):n instanceof Xr?function(i,o){return o instanceof Xr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&Y_(u,o.filters[h]),!0):!1}(n,e):void De()}function X_(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`}(n):n instanceof Xr?function(t){return t.op.toString()+" {"+t.getFilters().map(X_).join(" ,")+"}"}(n):"Filter"}class aP extends Ut{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class lP extends Ut{constructor(e,t){super(e,"in",t),this.keys=J_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uP extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=J_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function J_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class cP extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&Pl(t.arrayValue,this.value)}}class dP extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class hP extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pl(this.value.arrayValue,t)}}class fP extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function Av(n,e=null,t=[],i=[],o=null,a=null,u=null){return new pP(n,e,t,i,o,a,u)}function Pp(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>$f(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pa(i)).join(",")),e.ue=t}return e.ue}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Y_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pv(n.startAt,e.startAt)&&Pv(n.endAt,e.endAt)}function Hf(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mP(n,e,t,i,o,a,u,h){return new cd(n,e,t,i,o,a,u,h)}function kp(n){return new cd(n)}function kv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gP(n){return n.collectionGroup!==null}function vl(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Bt(sn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Bc(a,i))}),t.has(sn.keyField().canonicalString())||e.ce.push(new Bc(sn.keyField(),i))}return e.ce}function Kr(n){const e=Ve(n);return e.le||(e.le=yP(e,vl(n))),e.le}function yP(n,e){if(n.limitType==="F")return Av(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Bc(o.field,a)});const t=n.endAt?new zc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new zc(n.startAt.position,n.startAt.inclusive):null;return Av(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wf(n,e,t){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dd(n,e){return Ap(Kr(n),Kr(e))&&n.limitType===e.limitType}function Z_(n){return`${Pp(Kr(n))}|lt:${n.limitType}`}function ta(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>X_(o)).join(", ")}]`),ld(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>pa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>pa(o)).join(",")),`Target(${i})`}(Kr(n))}; limitType=${n.limitType})`}function hd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ae.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of vl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const g=Cv(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,vl(i),o)||i.endAt&&!function(u,h,f){const g=Cv(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,vl(i),o))}(n,e)}function vP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function e1(n){return(e,t)=>{let i=!1;for(const o of vl(n)){const a=_P(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function _P(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),g=h.data.field(a);return f!==null&&g!==null?fa(f,g):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Rt(Ae.comparator);function Ci(){return wP}const t1=new Rt(Ae.comparator);function hl(...n){let e=t1;for(const t of n)e=e.insert(t.key,t);return e}function n1(n){let e=t1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ro(){return _l()}function r1(){return _l()}function _l(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const EP=new Rt(Ae.comparator),TP=new Bt(Ae.comparator);function We(...n){let e=TP;for(const t of n)e=e.add(t);return e}const xP=new Bt(Ge);function IP(){return xP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function i1(n){return{integerValue:""+n}}function SP(n,e){return J2(e)?i1(e):bp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function RP(n,e,t){return n instanceof $c?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Rp(a)&&(a=ud(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Al?o1(n,e):n instanceof kl?a1(n,e):function(o,a){const u=s1(o,a),h=bv(u)+bv(o.Pe);return Bf(u)&&Bf(o.Pe)?i1(h):bp(o.serializer,h)}(n,e)}function CP(n,e,t){return n instanceof Al?o1(n,e):n instanceof kl?a1(n,e):t}function s1(n,e){return n instanceof Hc?function(i){return Bf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class $c extends fd{}class Al extends fd{constructor(e){super(),this.elements=e}}function o1(n,e){const t=l1(e);for(const i of n.elements)t.some(o=>Yr(o,i))||t.push(i);return{arrayValue:{values:t}}}class kl extends fd{constructor(e){super(),this.elements=e}}function a1(n,e){let t=l1(e);for(const i of n.elements)t=t.filter(o=>!Yr(o,i));return{arrayValue:{values:t}}}class Hc extends fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function bv(n){return Nt(n.integerValue||n.doubleValue)}function l1(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Al&&o instanceof Al||i instanceof kl&&o instanceof kl?ha(i.elements,o.elements,Yr):i instanceof Hc&&o instanceof Hc?Yr(i.Pe,o.Pe):i instanceof $c&&o instanceof $c}(n.transform,e.transform)}class AP{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pd{}function u1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new d1(n.key,Gr.none()):new $l(n.key,n.data,Gr.none());{const t=n.data,i=Vn.empty();let o=new Bt(sn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new bs(n.key,i,new Gn(o.toArray()),Gr.none())}}function kP(n,e,t){n instanceof $l?function(o,a,u){const h=o.value.clone(),f=Dv(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof bs?function(o,a,u){if(!Tc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Dv(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(c1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function wl(n,e,t,i){return n instanceof $l?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const g=a.value.clone(),_=Lv(a.fieldTransforms,f,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof bs?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const g=Lv(a.fieldTransforms,f,u),_=u.data;return _.setAll(c1(a)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,u,h){return Tc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function bP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=s1(i.transform,o||null);a!=null&&(t===null&&(t=Vn.empty()),t.set(i.field,a))}return t||null}function Nv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ha(i,o,(a,u)=>PP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $l extends pd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends pd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function c1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Dv(n,e,t){const i=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,CP(u,h,t[o]))}return i}function Lv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,RP(a,u,e))}return i}class d1 extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NP extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&kP(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=r1();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=u1(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,i)=>Nv(t,i))&&ha(this.baseMutations,e.baseMutations,(t,i)=>Nv(t,i))}}class Np{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){lt(e.mutations.length===i.length);let o=function(){return EP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Np(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Je;function MP(n){switch(n){default:return De();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function h1(n){if(n===void 0)return Ri("GRPC error has no .code"),se.UNKNOWN;switch(n){case Ot.OK:return se.OK;case Ot.CANCELLED:return se.CANCELLED;case Ot.UNKNOWN:return se.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return se.INTERNAL;case Ot.UNAVAILABLE:return se.UNAVAILABLE;case Ot.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ot.NOT_FOUND:return se.NOT_FOUND;case Ot.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ot.ABORTED:return se.ABORTED;case Ot.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ot.DATA_LOSS:return se.DATA_LOSS;default:return De()}}(Je=Ot||(Ot={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new so([4294967295,4294967295],0);function Ov(n){const e=VP().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function Mv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new so([t,i],0),new so([o,a],0)]}class Dp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fl(`Invalid padding: ${t}`);if(i<0)throw new fl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=so.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(so.fromNumber(i)));return o.compare(jP)===1&&(o=new so([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ov(e),[i,o]=Mv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Dp(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=Ov(e),[i,o]=Mv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new md(Oe.min(),o,new Rt(Ge),Ci(),We())}}class Hl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hl(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class f1{constructor(e,t){this.targetId=e,this.me=t}}class p1{constructor(e,t,i=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Vv{constructor(){this.fe=0,this.ge=jv(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),i=We();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Hl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ci(),this.qe=cc(),this.Qe=cc(),this.Ke=new Rt(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Hf(a))if(i===0){const u=new Ae(a.path);this.We(t,u,yn.newNoDocument(u,Oe.min()))}else lt(i===1);else{const u=this.Ze(t);if(u!==i){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Ss(i).toUint8Array()}catch(f){if(f instanceof W_)return da("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Dp(u,o,a)}catch(f){return da(f instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&Hf(h.target)){const f=new Ae(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,yn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=We();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const g=this.Ye(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new md(e,t,this.Ke,this.ke,i);return this.ke=Ci(),this.qe=cc(),this.Qe=cc(),this.Ke=new Rt(Ge),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Vv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Bt(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Vv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cc(){return new Rt(Ae.comparator)}function jv(){return new Rt(Ae.comparator)}const UP={asc:"ASCENDING",desc:"DESCENDING"},zP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BP={and:"AND",or:"OR"};class $P{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function Wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HP(n,e){return Wc(n,e.toTimestamp())}function Qr(n){return lt(!!n),Oe.fromTimestamp(function(t){const i=Is(t);return new zt(i.seconds,i.nanos)}(n))}function Lp(n,e){return Kf(n,e).canonicalString()}function Kf(n,e){const t=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function g1(n){const e=xt.fromString(n);return lt(E1(e)),e}function Gf(n,e){return Lp(n.databaseId,e.path)}function yf(n,e){const t=g1(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(v1(t))}function y1(n,e){return Lp(n.databaseId,e)}function WP(n){const e=g1(n);return e.length===4?xt.emptyPath():v1(e)}function Qf(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v1(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Fv(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function qP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,_){return g.useProto3Json?(lt(_===void 0||typeof _=="string"),an.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),an.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const _=g.code===void 0?se.UNKNOWN:h1(g.code);return new Se(_,g.message||"")}(u);t=new p1(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yf(n,i.document.name),a=Qr(i.document.updateTime),u=i.document.createTime?Qr(i.document.createTime):Oe.min(),h=new Vn({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(o,a,u,h),g=i.targetIds||[],_=i.removedTargetIds||[];t=new xc(g,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yf(n,i.document),a=i.readTime?Qr(i.readTime):Oe.min(),u=yn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new xc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yf(n,i.document),a=i.removedTargetIds||[];t=new xc([],a,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new OP(o,a),h=i.targetId;t=new f1(h,u)}}return t}function KP(n,e){let t;if(e instanceof $l)t={update:Fv(n,e.key,e.value)};else if(e instanceof d1)t={delete:Gf(n,e.key)};else if(e instanceof bs)t={update:Fv(n,e.key,e.data),updateMask:nA(e.fieldMask)};else{if(!(e instanceof NP))return De();t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof $c)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:HP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function GP(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Qr(o.updateTime):Qr(a);return u.isEqual(Oe.min())&&(u=Qr(a)),new AP(u,o.transformResults||[])}(t,e))):[]}function QP(n,e){return{documents:[y1(n,e.path)]}}function YP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=y1(n,o);const a=function(g){if(g.length!==0)return w1(Xr.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(_=>function(x){return{field:na(x.field),direction:ZP(x.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=qf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function XP(n){let e=WP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){lt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const x=_1(T);return x instanceof Xr&&Q_(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(x=>function(A){return new Bc(ra(A.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(x))}(t.orderBy));let h=null;t.limit&&(h=function(T){let x;return x=typeof T=="object"?T.value:T,ld(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(T){const x=!!T.before,R=T.values||[];return new zc(R,x)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const x=!T.before,R=T.values||[];return new zc(R,x)}(t.endAt)),mP(e,o,u,a,h,"F",f,g)}function JP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ra(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ra(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ra(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ra(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(ra(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xr.create(t.compositeFilter.filters.map(i=>_1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function ZP(n){return UP[n]}function eA(n){return zP[n]}function tA(n){return BP[n]}function na(n){return{fieldPath:n.canonicalString()}}function ra(n){return sn.fromServerFormat(n.fieldPath)}function w1(n){return n instanceof Ut?function(t){if(t.op==="=="){if(Rv(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NAN"}};if(Sv(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rv(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NAN"}};if(Sv(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(t.field),op:eA(t.op),value:t.value}}}(n):n instanceof Xr?function(t){const i=t.getFilters().map(o=>w1(o));return i.length===1?i[0]:{compositeFilter:{op:tA(t.op),filters:i}}}(n):De()}function nA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,i,o,a=Oe.min(),u=Oe.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.ht=e}}function iA(n){const e=XP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.ln=new oA}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(xs.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class oA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Bt(xt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ma(0)}static Qn(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class aA{constructor(e){this.Gn=e,this.buffer=new Bt(zv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xa(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.Yn(3e5)})}}class uA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(ad.oe);const i=new aA(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Uv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,h,f,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),ea()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${T} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function cA(n,e){return new uA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&wl(i.mutation,o,Gn.empty(),zt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const o=ro();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=hl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=Ci();const u=_l(),h=function(){return _l()}();return t.forEach((f,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof bs)?a=a.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),wl(_.mutation,g,_.mutation.getFieldMask(),zt.now())):u.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>{var T;return h.set(g,new hA(_,(T=u.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=_l();let o=new Rt((u,h)=>u-h),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=t.get(f);if(g===null)return;let _=i.get(f)||Gn.empty();_=h.applyToLocalView(g,_),i.set(f,_);const T=(o.get(h.batchId)||We()).add(f);o=o.insert(h.batchId,T)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,T=r1();_.forEach(x=>{if(!a.has(x)){const R=u1(t.get(x),i.get(x));R!==null&&T.set(x,R),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(ro());let h=-1,f=a;return u.next(g=>ne.forEach(g,(_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{f=f.insert(_,x)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,f,g,We())).next(_=>({batchId:h,changes:n1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=hl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=hl();return this.indexManager.getCollectionParents(e,a).next(h=>ne.forEach(h,f=>{const g=function(T,x){return new cd(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,yn.newInvalidDocument(_)))});let h=hl();return u.forEach((f,g)=>{const _=a.get(f);_!==void 0&&wl(_.mutation,g,Gn.empty(),zt.now()),hd(t,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Qr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:iA(o.bundledQuery),readTime:Qr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.overlays=new Rt(Ae.comparator),this.Er=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ro();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=ro(),a=t.length+1,u=new Ae(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Rt((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=a.get(g.largestBatchId);_===null&&(_=ro(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=ro(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=o)););return ne.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new LP(t,i));let a=this.Er.get(t);a===void 0&&(a=We(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.dr=new Bt(Kt.Ar),this.Rr=new Bt(Kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Kt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ae(new xt([])),i=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new xt([])),i=new Kt(t,e),o=new Kt(t,e+1);let a=We();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Kt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Bt(Kt.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DP(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.vr=this.vr.add(new Kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const h=this.Cr(u.br);a.push(h)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ge);return t.forEach(o=>{const a=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{i=i.add(h.br)})}),ne.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ae.isDocumentKey(a)||(a=a.child(""));const u=new Kt(new Ae(a),0);let h=new Bt(Ge);return this.vr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.br)),!0)},u),ne.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ne.forEach(t.mutations,o=>{const a=new Kt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Kt(t,0),o=this.vr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.Nr=e,this.docs=function(){return new Rt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Ci();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():yn.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ci();const u=t.path,h=new Ae(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||G2(K2(_),i)<=0||(o.has(_.key)||hd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){De()}Lr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _A(this)}getSize(e){return ne.resolve(this.size)}}class _A extends dA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.persistence=e,this.Br=new go(t=>Pp(t),Ap),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Op,this.targetCount=0,this.Qr=ma.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ma(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ad(0),this.Ur=!1,this.Ur=!0,this.Wr=new gA,this.referenceDelegate=e(this),this.Gr=new wA(this),this.indexManager=new sA,this.remoteDocumentCache=function(o){return new vA(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new rA(t),this.jr=new pA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new yA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new EA(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return ne.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class EA extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Zr=new Op,this.Xr=null}static ei(e){return new Mp(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,i=>{const o=Ae.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class qc{constructor(e,t){this.persistence=e,this.ri=new go(i=>Z2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=cA(this,t)}static ei(e,t){return new qc(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(i++,a.removeEntry(u,Oe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wc(e.data.value)),t}ir(e,t,i){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Vp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return FI()?8:X2(vn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new TA;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(ea()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(ea()<=He.DEBUG&&ge("QueryEngine","Query:",ta(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(ea()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):ne.resolve())}Xi(e,t){if(kv(t))return ne.resolve(null);let i=Kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Wf(t,null,"F"),i=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=We(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.rs(t,h);return this.ss(t,g,u,f.readTime)?this.Xi(e,Wf(t,null,"F")):this.os(e,g,t,f)}))})))}es(e,t,i,o){return kv(t)||o.isEqual(Oe.min())?ne.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?ne.resolve(null):(ea()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ta(t)),this.os(e,u,t,q2(o,-1)).next(h=>h))})}rs(e,t){let i=new Bt(e1(e));return t.forEach((o,a)=>{hd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return ea()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Zi.getDocumentsMatchingQuery(e,t,xs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Rt(Ge),this.cs=new go(a=>Pp(a),Ap),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function SA(n,e,t,i){return new IA(n,e,t,i)}async function x1(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=We();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of a){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:h}))})})}function RA(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const T=g.batch,x=T.keys();let R=ne.resolve();return x.forEach(A=>{R=R.next(()=>_.getEntry(f,A)).next(M=>{const b=g.docVersions.get(A);lt(b!==null),M.version.compareTo(b)<0&&(T.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),_.addEntry(M)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=We();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function I1(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function CA(n,e){const t=Ve(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((_,T)=>{const x=o.get(T);if(!x)return;h.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,T)));let R=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(an.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(T,R),function(M,b,D){return M.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(x,R,_)&&h.push(t.Gr.updateTargetData(a,R))});let f=Ci(),g=We();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(PA(a,u,e.documentUpdates).next(_=>{f=_.Is,g=_.Es})),!i.isEqual(Oe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return ne.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(t.us=o,a))}function PA(n,e,t){let i=We(),o=We();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Ci();return t.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Is:u,Es:o}})}function AA(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kA(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,ne.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new gs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Yf(n,e,t){const i=Ve(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!xa(u))throw u;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Bv(n,e,t){const i=Ve(n);let o=Oe.min(),a=We();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,_){const T=Ve(f),x=T.cs.get(_);return x!==void 0?ne.resolve(T.us.get(x)):T.Gr.getTargetData(g,_)}(i,u,Kr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?a:We())).next(h=>(bA(i,vP(e),h),{documents:h,ds:a})))}function bA(n,e,t){let i=n.ls.get(e)||Oe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class $v{constructor(){this.activeTargetIds=IP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NA{constructor(){this._o=new $v,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new $v,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function vf(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class MA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const h=vf(),f=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,a,u),this.Bo(t,f,g,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw da("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_})}ko(t,i,o,a,u,h){return this.Oo(t,i,o,a,u)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=LA[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=vf();return new Promise((u,h)=>{const f=new V_;f.setWithCredentials(!0),f.listenOnce(j_.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _c.NO_ERROR:const _=f.getResponseJson();ge(mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case _c.TIMEOUT:ge(mn,`RPC '${e}' ${a} timed out`),h(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const T=f.getStatus();if(ge(mn,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const A=function(b){const D=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(D)>=0?D:se.UNKNOWN}(R.status);h(new Se(A,R.message))}else h(new Se(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(se.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ge(mn,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);ge(mn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",g,i,15)})}qo(e,t,i){const o=vf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=z_(),h=U_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");ge(mn,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=u.createWebChannel(_,f);let x=!1,R=!1;const A=new OA({Eo:b=>{R?ge(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(x||(ge(mn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),ge(mn,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},Ao:()=>T.close()}),M=(b,D,K)=>{b.listen(D,Q=>{try{K(Q)}catch(te){setTimeout(()=>{throw te},0)}})};return M(T,dl.EventType.OPEN,()=>{R||(ge(mn,`RPC '${e}' stream ${o} transport opened.`),A.So())}),M(T,dl.EventType.CLOSE,()=>{R||(R=!0,ge(mn,`RPC '${e}' stream ${o} transport closed`),A.Do())}),M(T,dl.EventType.ERROR,b=>{R||(R=!0,da(mn,`RPC '${e}' stream ${o} transport errored:`,b),A.Do(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),M(T,dl.EventType.MESSAGE,b=>{var D;if(!R){const K=b.data[0];lt(!!K);const Q=K,te=(Q==null?void 0:Q.error)||((D=Q[0])===null||D===void 0?void 0:D.error);if(te){ge(mn,`RPC '${e}' stream ${o} received error:`,te);const U=te.status;let oe=function(C){const O=Ot[C];if(O!==void 0)return h1(O)}(U),P=te.message;oe===void 0&&(oe=se.INTERNAL,P="Unknown error status: "+U+" with message "+te.message),R=!0,A.Do(new Se(oe,P)),T.close()}else ge(mn,`RPC '${e}' stream ${o} received:`,K),A.vo(K)}}),M(h,F_.STAT_EVENT,b=>{b.stat===Uf.PROXY?ge(mn,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Uf.NOPROXY&&ge(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){return new $P(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t,i,o,a,u,h,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new S1(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Se(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VA extends R1{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=qP(this.serializer,e),i=function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Qr(u.readTime):Oe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Qf(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Hf(f)?{documents:QP(a,f)}:{query:YP(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=m1(a,u.resumeToken);const g=qf(a,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Wc(a,u.snapshotVersion.toTimestamp());const g=qf(a,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const i=JP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Qf(this.serializer),t.removeTarget=e,this.c_(t)}}class jA extends R1{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=GP(e.writeResults,e.commitTime),i=Qr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Qf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>KP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Kf(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(se.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,Kf(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(se.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class UA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ri(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{yo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(f){const g=Ve(f);g.k_.add(4),await Wl(g),g.K_.set("Unknown"),g.k_.delete(4),await yd(g)}(this))})}),this.K_=new UA(i,o)}}async function yd(n){if(yo(n))for(const e of n.q_)await e(!0)}async function Wl(n){for(const e of n.q_)await e(!1)}function C1(n,e){const t=Ve(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),zp(t)?Up(t):Ia(t).s_()&&Fp(t,e))}function jp(n,e){const t=Ve(n),i=Ia(t);t.B_.delete(e),i.s_()&&P1(t,e),t.B_.size===0&&(i.s_()?i.a_():yo(t)&&t.K_.set("Unknown"))}function Fp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).V_(e)}function P1(n,e){n.U_.xe(e),Ia(n).m_(e)}function Up(n){n.U_=new FP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.K_.F_()}function zp(n){return yo(n)&&!Ia(n).i_()&&n.B_.size>0}function yo(n){return Ve(n).k_.size===0}function A1(n){n.U_=void 0}async function BA(n){n.K_.set("Online")}async function $A(n){n.B_.forEach((e,t)=>{Fp(n,e)})}async function HA(n,e){A1(n),zp(n)?(n.K_.O_(e),Up(n)):n.K_.set("Unknown")}async function WA(n,e,t){if(n.K_.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kc(n,i)}else if(e instanceof xc?n.U_.$e(e):e instanceof f1?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const i=await I1(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(g);_&&a.B_.set(g,_.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),P1(a,f);const T=new gs(_.target,f,g,_.sequenceNumber);Fp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Kc(n,i)}}async function Kc(n,e,t){if(!xa(e))throw e;n.k_.add(1),await Wl(n),n.K_.set("Offline"),t||(t=()=>I1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await yd(n)})}function k1(n,e){return e().catch(t=>Kc(n,t,e))}async function vd(n){const e=Ve(n),t=Cs(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;qA(e);)try{const o=await AA(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,KA(e,o)}catch(o){await Kc(e,o)}b1(e)&&N1(e)}function qA(n){return yo(n)&&n.L_.length<10}function KA(n,e){n.L_.push(e);const t=Cs(n);t.s_()&&t.f_&&t.g_(e.mutations)}function b1(n){return yo(n)&&!Cs(n).i_()&&n.L_.length>0}function N1(n){Cs(n).start()}async function GA(n){Cs(n).w_()}async function QA(n){const e=Cs(n);for(const t of n.L_)e.g_(t.mutations)}async function YA(n,e,t){const i=n.L_.shift(),o=Np.from(i,e,t);await k1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await vd(n)}async function XA(n,e){e&&Cs(n).f_&&await async function(i,o){if(function(u){return MP(u)&&u!==se.ABORTED}(o.code)){const a=i.L_.shift();Cs(i).__(),await k1(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await vd(i)}}(n,e),b1(n)&&N1(n)}async function Wv(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=yo(t);t.k_.add(3),await Wl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await yd(t)}async function JA(n,e){const t=Ve(n);e?(t.k_.delete(2),await yd(t)):e||(t.k_.add(2),await Wl(t),t.K_.set("Unknown"))}function Ia(n){return n.W_||(n.W_=function(t,i,o){const a=Ve(t);return a.b_(),new VA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:BA.bind(null,n),mo:$A.bind(null,n),po:HA.bind(null,n),R_:WA.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),zp(n)?Up(n):n.K_.set("Unknown")):(await n.W_.stop(),A1(n))})),n.W_}function Cs(n){return n.G_||(n.G_=function(t,i,o){const a=Ve(t);return a.b_(),new jA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:GA.bind(null,n),po:XA.bind(null,n),p_:QA.bind(null,n),y_:YA.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await vd(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new Bp(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),xa(n))return new Se(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static emptySet(e){return new la(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=hl(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new la;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.z_=new Rt(Ae.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ga{constructor(e,t,i,o,a,u,h,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ga(e,t,la.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ek{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ve(t),a=o.queries;o.queries=Kv(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(i)})})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function Kv(){return new go(n=>Z_(n),dd)}async function D1(n,e){const t=Ve(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new ZA,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=$p(u,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Hp(t)}async function L1(n,e){const t=Ve(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tk(n,e){const t=Ve(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(o)&&(i=!0);u.H_=o}}i&&Hp(t)}function nk(n,e,t){const i=Ve(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Hp(n){n.X_.forEach(e=>{e.next()})}var Xf,Gv;(Gv=Xf||(Xf={})).na="default",Gv.Cache="cache";class O1{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ga(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class V1{constructor(e){this.key=e}}class rk{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=e1(e),this.ma=new la(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new qv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const x=o.get(_),R=hd(this.query,T)?T:null,A=!!x&&this.mutatedKeys.has(x.key),M=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let b=!1;x&&R?x.data.isEqual(R.data)?A!==M&&(i.track({type:3,doc:R}),b=!0):this.ya(x,R)||(i.track({type:2,doc:R}),b=!0,(f&&this.Va(R,f)>0||g&&this.Va(R,g)<0)&&(h=!0)):!x&&R?(i.track({type:0,doc:R}),b=!0):x&&!R&&(i.track({type:1,doc:x}),b=!0,(f||g)&&(h=!0)),b&&(R?(u=u.add(R),a=M?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:u,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,T)=>function(R,A){const M=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return M(R)-M(A)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,g=f!==this.Aa;return this.Aa=f,u.length!==0||g?{snapshot:new ga(this.query,e.ma,a,u,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new qv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new V1(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new M1(i))}),t}va(e){this.da=e.ds,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ga.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ik{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sk{constructor(e){this.key=e,this.Fa=!1}}class ok{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new go(h=>Z_(h),dd),this.Oa=new Map,this.Na=new Set,this.La=new Rt(Ae.comparator),this.Ba=new Map,this.ka=new Op,this.qa={},this.Qa=new Map,this.Ka=ma.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ak(n,e,t=!0){const i=$1(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await j1(i,e,t,!0),o}async function lk(n,e){const t=$1(n);await j1(t,e,!0,!1)}async function j1(n,e,t,i){const o=await kA(n.localStore,Kr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await uk(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&C1(n.remoteStore,o),h}async function uk(n,e,t,i,o){n.Ua=(T,x,R)=>async function(M,b,D,K){let Q=b.view.ga(D);Q.ss&&(Q=await Bv(M.localStore,b.query,!1).then(({documents:P})=>b.view.ga(P,Q)));const te=K&&K.targetChanges.get(b.targetId),U=K&&K.targetMismatches.get(b.targetId)!=null,oe=b.view.applyChanges(Q,M.isPrimaryClient,te,U);return Yv(M,b.targetId,oe.ba),oe.snapshot}(n,T,x,R);const a=await Bv(n.localStore,e,!0),u=new rk(e,a.ds),h=u.ga(a.documents),f=Hl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=u.applyChanges(h,n.isPrimaryClient,f);Yv(n,t,g.ba);const _=new ik(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function ck(n,e,t){const i=Ve(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!dd(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Yf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&jp(i.remoteStore,o.targetId),Jf(i,o.targetId)}).catch(Ta)):(Jf(i,o.targetId),await Yf(i.localStore,o.targetId,!0))}async function dk(n,e){const t=Ve(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),jp(t.remoteStore,i.targetId))}async function hk(n,e,t){const i=_k(n);try{const o=await function(u,h){const f=Ve(u),g=zt.now(),_=h.reduce((R,A)=>R.add(A.key),We());let T,x;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let A=Ci(),M=We();return f.hs.getEntries(R,_).next(b=>{A=b,A.forEach((D,K)=>{K.isValidDocument()||(M=M.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,A)).next(b=>{T=b;const D=[];for(const K of h){const Q=bP(K,T.get(K.key).overlayedDocument);Q!=null&&D.push(new bs(K.key,Q,q_(Q.value.mapValue),Gr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,g,D,h)}).next(b=>{x=b;const D=b.applyToLocalDocumentSet(T,M);return f.documentOverlayCache.saveOverlays(R,b.batchId,D)})}).then(()=>({batchId:x.batchId,changes:n1(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let g=u.qa[u.currentUser.toKey()];g||(g=new Rt(Ge)),g=g.insert(h,f),u.qa[u.currentUser.toKey()]=g}(i,o.batchId,t),await ql(i,o.changes),await vd(i.remoteStore)}catch(o){const a=$p(o,"Failed to persist write");t.reject(a)}}async function F1(n,e){const t=Ve(n);try{const i=await CA(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?lt(u.Fa):o.removedDocuments.size>0&&(lt(u.Fa),u.Fa=!1))}),await ql(t,i,e)}catch(i){await Ta(i)}}function Qv(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ve(u);f.onlineState=h;let g=!1;f.queries.forEach((_,T)=>{for(const x of T.J_)x.ea(h)&&(g=!0)}),g&&Hp(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fk(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let u=new Rt(Ae.comparator);u=u.insert(a,yn.newNoDocument(a,Oe.min()));const h=We().add(a),f=new md(Oe.min(),new Map,new Rt(Ge),u,h);await F1(i,f),i.La=i.La.remove(a),i.Ba.delete(e),Wp(i)}else await Yf(i.localStore,e,!1).then(()=>Jf(i,e,t)).catch(Ta)}async function pk(n,e){const t=Ve(n),i=e.batch.batchId;try{const o=await RA(t.localStore,e);z1(t,i,null),U1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ql(t,o)}catch(o){await Ta(o)}}async function mk(n,e,t){const i=Ve(n);try{const o=await function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(T=>(lt(T!==null),_=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,e);z1(i,e,t),U1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ql(i,o)}catch(o){await Ta(o)}}function U1(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function z1(n,e,t){const i=Ve(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||B1(n,i)})}function B1(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(jp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Wp(n))}function Yv(n,e,t){for(const i of t)i instanceof M1?(n.ka.addReference(i.key,e),gk(n,i)):i instanceof V1?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||B1(n,i.key)):De()}function gk(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),Wp(n))}function Wp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(xt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new sk(t)),n.La=n.La.insert(t,i),C1(n.remoteStore,new gs(Kr(kp(t.path)),i,"TargetPurposeLimboResolution",ad.oe))}}async function ql(n,e,t){const i=Ve(n),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((h,f)=>{u.push(i.Ua(f,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Vp.zi(f.targetId,g);a.push(T)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(f,g){const _=Ve(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,x=>ne.forEach(x.Wi,R=>_.persistence.referenceDelegate.addReference(T,x.targetId,R)).next(()=>ne.forEach(x.Gi,R=>_.persistence.referenceDelegate.removeReference(T,x.targetId,R)))))}catch(T){if(!xa(T))throw T;ge("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const R=_.us.get(x),A=R.snapshotVersion,M=R.withLastLimboFreeSnapshotVersion(A);_.us=_.us.insert(x,M)}}}(i.localStore,a))}async function yk(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await x1(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new Se(se.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ql(t,i.Ts)}}function vk(n,e){const t=Ve(n),i=t.Ba.get(e);if(i&&i.Fa)return We().add(i.key);{let o=We();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const h=t.xa.get(u);o=o.unionWith(h.view.fa)}return o}}function $1(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.Ma.R_=tk.bind(null,e.eventManager),e.Ma.Wa=nk.bind(null,e.eventManager),e}function _k(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mk.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return SA(this.persistence,new xA,e.initialUser,this.serializer)}ja(e){return new T1(Mp.ei,this.serializer)}za(e){return new NA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class wk extends Gc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){lt(this.persistence.referenceDelegate instanceof qc);const i=this.persistence.referenceDelegate.garbageCollector;return new lA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new T1(i=>qc.ei(i,t),this.serializer)}}class Zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Qv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yk.bind(null,this.syncEngine),await JA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ek}()}createDatastore(e){const t=gd(e.databaseInfo.databaseId),i=function(a){return new MA(a)}(e.databaseInfo);return function(a,u,h,f){return new FA(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new zA(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Qv(this.syncEngine,t,0),function(){return Hv.p()?new Hv:new DA}())}createSyncEngine(e,t){return function(o,a,u,h,f,g,_){const T=new ok(o,a,u,h,f,g);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Wl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$p(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await x1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Xv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Tk(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Wv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Wv(e.remoteStore,o)),n._onlineComponents=e}async function Tk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await wf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await wf(n,new Gc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await wf(n,new wk(void 0));return n._offlineComponents}async function W1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Xv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Xv(n,new Zf))),n._onlineComponents}function xk(n){return W1(n).then(e=>e.syncEngine)}async function q1(n){const e=await W1(n),t=e.eventManager;return t.onListen=ak.bind(null,e.syncEngine),t.onUnlisten=ck.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dk.bind(null,e.syncEngine),t}function Ik(n,e,t={}){const i=new Ti;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,g){const _=new H1({next:x=>{_.eu(),u.enqueueAndForget(()=>L1(a,T));const R=x.docs.has(h);!R&&x.fromCache?g.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&f&&f.source==="server"?g.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new O1(kp(h.path),_,{includeMetadataChanges:!0,ua:!0});return D1(a,T)}(await q1(n),n.asyncQueue,e,t,i)),i.promise}function Sk(n,e,t={}){const i=new Ti;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,g){const _=new H1({next:x=>{_.eu(),u.enqueueAndForget(()=>L1(a,T)),x.fromCache&&f.source==="server"?g.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new O1(h,_,{includeMetadataChanges:!0,ua:!0});return D1(a,T)}(await q1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e,t){if(!t)throw new Se(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rk(n,e,t,i){if(e===!0&&i===!0)throw new Se(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zv(n){if(!Ae.isDocumentKey(n))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e0(n){if(Ae.isDocumentKey(n))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Pi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qp(n);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V2;switch(i.type){case"firstParty":return new z2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Jv.get(t);i&&(ge("ComponentProvider","Removing Datastore"),Jv.delete(t),i.terminate())}(this),Promise.resolve()}}function Ck(n,e,t,i={}){var o;const a=(n=Pi(n,_d))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=gn.MOCK_USER;else{h=NI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gn(g)}n._authCredentials=new j2(new B_(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class ws extends wd{constructor(e,t,i){super(e,t,kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ae(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Pk(n,e,...t){if(n=on(n),G1("collection","path",e),n instanceof _d){const i=xt.fromString(e,...t);return e0(i),new ws(n,null,i)}{if(!(n instanceof jn||n instanceof ws))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return e0(i),new ws(n.firestore,null,i)}}function Kl(n,e,...t){if(n=on(n),arguments.length===1&&(e=$_.newId()),G1("doc","path",e),n instanceof _d){const i=xt.fromString(e,...t);return Zv(i),new jn(n,null,new Ae(i))}{if(!(n instanceof jn||n instanceof ws))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return Zv(i),new jn(n.firestore,n instanceof ws?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new S1(this,"async_queue_retry"),this.fu=()=>{const i=_f();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=_f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=_f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!xa(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Ri("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Bp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Gl extends _d{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new n0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n0(e),this._firestoreClient=void 0,await e}}}function Ak(n,e){const t=typeof n=="object"?n:$0(),i=typeof n=="string"?n:"(default)",o=mp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=kI("firestore");a&&Ck(o,...a)}return o}function Kp(n){if(n._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kk(n),n._firestoreClient}function kk(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,g,_){return new nP(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,K1(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Ek(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(an.fromBase64String(e))}catch(t){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ya(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^__.*__$/;class Nk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new $l(e,this.data,t,this.fieldTransforms)}}class Q1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Y1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Xp{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Qc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Y1(this.Mu)&&bk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Dk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gd(e)}$u(e,t,i,o=!1){return new Xp({Mu:e,methodName:t,Ku:i,path:sn.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X1(n){const e=n._freezeSettings(),t=gd(n._databaseId);return new Dk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lk(n,e,t,i,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Jp("Data must be an object, but it was:",u,i);const h=J1(i,u);let f,g;if(a.merge)f=new Gn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const x=ep(e,T,t);if(!u.contains(x))throw new Se(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ew(_,x)||_.push(x)}f=new Gn(_),g=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=u.fieldTransforms;return new Nk(new Vn(h),f,g)}class Td extends Gp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function Ok(n,e,t,i){const o=n.$u(1,e,t);Jp("Data must be an object, but it was:",o,i);const a=[],u=Vn.empty();ks(i,(f,g)=>{const _=Zp(e,f,t);g=on(g);const T=o.Bu(_);if(g instanceof Td)a.push(_);else{const x=xd(g,T);x!=null&&(a.push(_),u.set(_,x))}});const h=new Gn(a);return new Q1(u,h,o.fieldTransforms)}function Mk(n,e,t,i,o,a){const u=n.$u(1,e,t),h=[ep(e,i,t)],f=[o];if(a.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)h.push(ep(e,a[x])),f.push(a[x+1]);const g=[],_=Vn.empty();for(let x=h.length-1;x>=0;--x)if(!ew(g,h[x])){const R=h[x];let A=f[x];A=on(A);const M=u.Bu(R);if(A instanceof Td)g.push(R);else{const b=xd(A,M);b!=null&&(g.push(R),_.set(R,b))}}const T=new Gn(g);return new Q1(_,T,u.fieldTransforms)}function xd(n,e){if(Z1(n=on(n)))return Jp("Unsupported field value:",e,n),J1(n,e);if(n instanceof Gp)return function(i,o){if(!Y1(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=xd(h,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=zt.fromDate(i);return{timestampValue:Wc(o.serializer,a)}}if(i instanceof zt){const a=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,a)}}if(i instanceof Qp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ya)return{bytesValue:m1(o.serializer,i._byteString)};if(i instanceof jn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Lp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yp)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return bp(h.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${qp(i)}`)}(n,e)}function J1(n,e){const t={};return H_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,(i,o)=>{const a=xd(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Z1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof Qp||n instanceof ya||n instanceof jn||n instanceof Gp||n instanceof Yp)}function Jp(n,e,t){if(!Z1(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=qp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function ep(n,e,t){if((e=on(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return Zp(n,e);throw Qc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Vk=new RegExp("[~\\*/\\[\\]]");function Zp(n,e,t){if(e.search(Vk)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qc(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new Se(se.INVALID_ARGUMENT,h+n+f)}function ew(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jk extends tw{data(){return super.data()}}function nw(n,e){return typeof e=="string"?Zp(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uk{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ks(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Nt(u.doubleValue));return new Yp(a)}convertGeoPoint(e){return new Qp(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ud(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const t=Is(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);lt(E1(i));const o=new Cl(i.get(1),i.get(3)),a=new Ae(i.popFirst(5));return o.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rw extends tw{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ic extends rw{data(e={}){return super.data(e)}}class Bk{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ic(this._firestore,this._userDataWriter,i.key,i,new pl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Ic(o._firestore,o._userDataWriter,h.doc.key,h.doc,new pl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ic(o._firestore,o._userDataWriter,h.doc.key,h.doc,new pl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:$k(h.type),doc:f,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $k(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){n=Pi(n,jn);const e=Pi(n.firestore,Gl);return Ik(Kp(e),n._key).then(t=>Wk(e,n,t))}class iw extends Uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Hk(n){n=Pi(n,wd);const e=Pi(n.firestore,Gl),t=Kp(e),i=new iw(e);return Fk(n._query),Sk(t,n._query).then(o=>new Bk(e,i,n,o))}function bl(n,e,t){n=Pi(n,jn);const i=Pi(n.firestore,Gl),o=zk(n.converter,e);return ow(i,[Lk(X1(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Gr.none())])}function sw(n,e,t,...i){n=Pi(n,jn);const o=Pi(n.firestore,Gl),a=X1(o);let u;return u=typeof(e=on(e))=="string"||e instanceof Ed?Mk(a,"updateDoc",n._key,e,t,i):Ok(a,"updateDoc",n._key,e),ow(o,[u.toMutation(n._key,Gr.exists(!0))])}function ow(n,e){return function(i,o){const a=new Ti;return i.asyncQueue.enqueueAndForget(async()=>hk(await xk(i),o,a)),a.promise}(Kp(n),e)}function Wk(n,e,t){const i=t.docs.get(e._key),o=new iw(n);return new rw(n,o,e._key,i,new pl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ea=o})(_a),ua(new lo("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Gl(new F2(i.getProvider("auth-internal")),new $2(i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(g.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),_s(_v,"4.7.5",e),_s(_v,"4.7.5","esm2017")})();const qk={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},Kk=rd(qk),Sa=Ak(Kk),Gk=n=>({name:n.name,seasons:n.seasons.map(e=>({name:e.name,episodes:e.episodes,image:e.image})),images:n.images,categories:n.categories,description:n.description}),Qk=async(n,e="series")=>{const t=Gk(n);try{const i=Kl(Sa,e,n.name);await bl(i,t)}catch(i){console.error("Error adding document: ",i)}},Yk=async(n,e,t,i)=>{let o=await Sd(i);return o!=null&&(o.seasons[e].episodes[t].comments!=null?(o.seasons[e].episodes[t].comments.unshift(n),Qk(o,"series")):console.log("estructura incorrecta.")),o.seasons[e].episodes[t].comments},Xk=async(n,e,t)=>{const i=await Sd(t);if(i!=null)return i.seasons[n].episodes[e-1].comments},Sd=async n=>{const e=Kl(Sa,"series",n),t=await Id(e);let i;return t.exists()?i=t.data():console.log("No such document!"),i};function Jk(n){const e=n.data();if(!e)throw new Error("Document data is undefined");return{name:e.name,seasons:e.seasons,categories:e.categories,description:e.description,images:e.images}}const Rd=async(n="series")=>{let e=[];return(await Hk(Pk(Sa,n))).forEach(i=>{try{e.push(Jk(i))}catch{console.log("error al convertir serie")}}),e},Cd=async n=>{const e=Kl(Sa,"users",n),t=await Id(e);if(t.exists()){const i=t.data(),o=i==null?void 0:i.favorites;return o.length<=0?null:o}else return null},Zk=async(n,e)=>{try{const t=Kl(Sa,"users",e),i=await Id(t),o=i.data();if(o!=null&&"favorites"in o){const a=o.favorites,u=a.includes(`${n}`);let h=a;u===!1&&h.push(`${n}`),i.exists()?(await sw(t,{favorites:h}),console.log("Favoritos actualizados correctamente.")):(await bl(t,{favorites:h}),console.log("documento creado"))}else{let a=[];a.push(`${n}`);const u=a;console.log(u),await bl(t,{favorites:u}),console.log("documento creado")}}catch(t){console.log("Error subiendo documento",t)}},eb=async(n,e)=>{const t=await Cd(e);if(t!=null&&t!=null){const i=t.filter(o=>o!==n);try{const o=Kl(Sa,"users",e),a=await Id(o),u=a.data();u!=null&&"favorites"in u?a.exists()?(await sw(o,{favorites:i}),console.log("Favoritos actualizados correctamente.")):(await bl(o,{favorites:i}),console.log("documento creado")):(await bl(o,{favorites:i}),console.log("documento creado"))}catch(o){console.log("Error subiendo documento",o)}}},tb=({images:n})=>{const[e,t]=L.useState(0),i=()=>{t(a=>a===0?n.length-1:a-1)},o=()=>{t(a=>a===n.length-1?0:a+1)};return L.useEffect(()=>{const a=setInterval(()=>{t(u=>u===n.length-1?0:u+1)},4e3);return()=>clearInterval(a)},[n.length]),w.jsx("section",{className:"size-full",children:w.jsxs("div",{className:"relative size-full overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((a,u)=>w.jsxs(Mt,{className:"w-full sm:h-[90%] flex sm:justify-center flex-shrink-0 group",to:a.url,children:[w.jsxs("picture",{className:"w-full flex relative",children:[w.jsx("img",{src:a.imgs[0],alt:`Slide ${u}`,loading:"lazy",className:"w-full h-full object-cover flex sm:hidden",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),w.jsx("img",{src:a.imgs[1],alt:`Slide ${u}`,loading:"lazy",className:"w-full h-full object-cover hidden sm:flex",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),w.jsx("span",{className:"absolute sm:hidden flex justify-center w-full bottom-6",children:w.jsx("h1",{className:"text-3xl text-white font-bold text-center truncate ",children:n[e].name})})]}),w.jsx("span",{className:"absolute hidden sm:flex justify-center w-full bottom-4",children:w.jsx("h1",{className:"text-3xl text-white font-bold text-center duration-300 truncate group-hover:text-rd group-hover:underline",children:n[e].name})})]},u))}),w.jsx("button",{onClick:i,className:"absolute flex  h-full items-center top-0 left-0 bg-gradient-to-r from-st/50 to-transparent text-white px-4",children:w.jsx(wI,{className:"text-5xl sm:text-transparent"})}),w.jsx("button",{onClick:o,className:"absolute flex h-full items-center top-0 right-0 bg-gradient-to-l from-st/50 to-transparent text-white px-4",children:w.jsx(EI,{className:"text-5xl sm:text-transparent"})}),w.jsx("div",{className:"absolute w-full  flex items-center justify-center bottom-0",children:w.jsx("ul",{className:" w-full max-w-[600px] flex items-center h-4 sm:h-[8px] p-1 justify-center sm:justify-evenly sm:px-10 gap-4",children:n.map((a,u)=>w.jsx("li",{onClick:()=>t(u),className:e===u?" w-4 h-4 sm:w-full sm:h-[8px] bg-gradient-to-br from-nd to-rd rounded-full sm:rounded-sm duration-300":"w-2 h-2 sm:w-full sm:h-[5px] bg-gradient-to-b from-zinc-300/75 to-transparent rounded-full sm:rounded-none cursor-pointer duration-300 hover:bg-yellow-500 hover:h-[8px]"},u))})})]})})},nb={display:"block",margin:"0 auto",borderColor:"red"},rb=({uid:n})=>{const[e,t]=L.useState(!0),[i,o]=L.useState([]),a={main:"flex items-center justify-center w-full h-[480px]"},u={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(L.useEffect(()=>{(async()=>{let f=[];(await Rd("lastUpdated")).map(_=>{f.push({name:_.name?_.name:null,imgs:_.images,url:`/details/${_.name}/${n===null?null:n}`})}),o(f),t(!1)})()},[]),e)return w.jsx("div",{className:a.main,children:w.jsx(Ni,{color:u.color,loading:e,cssOverride:nb,size:u.size,"aria-label":u.ariaLabel,"data-testid":u.dataTest,speedMultiplier:u.speed})});if(e===!1)return w.jsx("div",{className:a.main,children:w.jsx(tb,{images:i})})},Pd=()=>{const n={main:"flex w-full px-4 py-10 bg-st-200 z-10",content:"w-full flex flex-col sm:flex-row gap-2 sm:justify-between items-center justify-center",dataBox:"flex flex-col items-center",txt:"text-gray-500 text-sm text-center font-light",logoBox:"w-32 md:w-28 ",logo:"size-full object-contain",socialMedia:"flex gap-4",mediaIcons:"text-5xl text-gray-500 cursor-pointer"};return w.jsx("section",{className:n.main,children:w.jsxs("div",{className:n.content,children:[w.jsxs("div",{className:n.dataBox,children:[w.jsx("span",{className:n.logoBox,children:w.jsx("img",{className:n.logo,src:kf,alt:"logo"})}),w.jsx("p",{className:n.txt,children:"ningn video se encuentra alojado en nuestros servidores."}),w.jsx("h5",{className:n.txt,children:"Anderson Ollarves Web 2025"})]}),w.jsxs("div",{className:n.socialMedia,children:[w.jsx(pI,{className:n.mediaIcons}),w.jsx(hI,{className:n.mediaIcons}),w.jsx(mI,{className:n.mediaIcons})]})]})})},ib=()=>{const[n,e]=L.useState([{}]),[t,i]=L.useState(null),o={main:"flex flex-col size-full relative",content:"flex flex-col pt-[9vh] pb-20 gap-10 min-h-screen w-full bg-st-100"};return L.useEffect(()=>{(async()=>{const u=await Rd("series");await b_(i),e(u)})()},[]),w.jsxs("div",{className:o.main,children:[w.jsxs("div",{className:o.content,children:[w.jsx(rb,{uid:t===null?null:t.uid}),n.length>=2?w.jsxs("div",{className:"flex flex-col gap-4 px-4 justify-center items-center",children:[w.jsx("span",{className:"w-full max-w-[1024px] p-3 bg-gradient-to-b from-rd to-nd rounded-t-2xl",children:w.jsx("h1",{className:"font-bold text-white tracking-widest text-lg text-center",children:"Ultimos subidos"})}),w.jsx(M2,{data:n,uid:t!=null?t.uid:null})]}):""]}),w.jsx(Pd,{})]})};function r0(n){return Ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(n)}const sb=({type:n,DefaultValue:e,set:t})=>{const[i,o]=L.useState(0),[a,u]=L.useState(""),[h,f]=L.useState(""),[g,_]=L.useState(""),T=R=>{const A=R.target.value;o(A.length),t(A.length)},x={main:"relative h-16 flex items-end",title:"absolute top-0 text-gray-400 font-bold text-sm",input:"z-10 bg-transparent border-b-2 text-xl text-white outline-none w-full placeholder:text-red-400 placeholder:font-bold truncate ",inputNumber:`${i<8||i>50?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputEmail:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputName:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`};return L.useEffect(()=>{n==="name"&&(u("Nombre del usuario"),f("text"),_("Debe tener entre 6 y 50 caracteres.")),n==="phone"&&(u("Nmero de telefono"),f("number"),_("Debe tener entre 8 y 20 caracteres.")),n==="email"&&(u("Email"),f("email"),_("Debe tener entre 6 y 20 caracteres")),e!=null&&(o(e.length),e.length>6&&t(6))},[]),w.jsxs("div",{className:x.main,children:[w.jsx("h2",{className:x.title,children:a}),w.jsx("input",{className:n==="name"?`${x.input} ${x.inputName}`:n==="phone"?`${x.input} ${x.inputNumber}`:`${x.input} ${x.inputEmail}`,type:h,name:n,placeholder:g,defaultValue:e===null?"":e,onChange:R=>T(R)})]})},ob=["https://gif-avatars.com/img/150x150/solo-leveling.gif","https://media.tenor.com/lixfij0N8pUAAAAM/1235.gif","https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcW9xdmQyZm1hd2V4eDF0OHlsNzRmMGNiOTU0OW14bHZsZTd0MHowcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1lSSrYQUVY3WU/giphy.webp","https://c.tenor.com/33SEDySh9y4AAAAC/tenor.gif","https://media.tenor.com/Dad5rgWBv2cAAAAM/frieren-sousou.gif","https://media.tenor.com/OeH90hWmnL8AAAAM/frieren-frieren-beyond-journey's-end.gif"],ab=({setProfileImage:n,image:e})=>{const[t,i]=L.useState(e),o=u=>{n(u),i(u)},a={main:"w-full h-[240px] overflow-hidden",content:"relative flex size-full top-0 left-0 overflow-hidden",profile:"scroll p-4 flex size-full overflow-auto gap-10 duration-300",background:"absolute scroll flex size-full overflow-auto gap-10 duration-300",items:"w-[100%] flex flex-col items-center justify-center cursor-pointer",imageBox:"size-28 flex rounded-full overflow-hidden border-[3px] duration-300",image:"size-full object-cover rounded-full",imageSelected:" border-rd size-44 border-4"};return w.jsx("section",{className:a.main,children:w.jsx("div",{className:a.content,children:w.jsx("ul",{className:a.profile,children:ob.map((u,h)=>w.jsx("li",{className:a.items,onClick:()=>{o(u)},children:w.jsx("picture",{className:`${a.imageBox} ${t===u?a.imageSelected:""}`,children:w.jsx("img",{className:a.image,src:u,alt:`slide-${h}-image`})})},h))})})})},i0=({isShow:n,setShow:e,profileImage:t,setProfileImage:i,backgroundImage:o,setBackgroundImage:a})=>{const[u,h]=L.useState(""),[f,g]=L.useState(""),_=()=>{a(f),i(u),N_(e,null,u)},T={main:`size-full relative ${n?"flex":"hidden"} items-center justify-center`,content:{main:"relative w-[80%] h-auto flex flex-col bg-st-200 rounded",content:"flex flex-col gap-3 items-center px-4 py-8",title:"text-white font-bold mt-10",headerOptions:"flex gap-4 relative",bottomMain:"flex flex-col w-full overflow-auto "},buttonBox:{main:"mt-4 w-full max-w-60",saveBtn:"rounded-lg bg-rd active:bg-nd hover:bg-nd size-full h-[55px] font-bold text-white"},closeBtn:"absolute text-2xl rounded-full p-1 bg-white hover:bg-rd hover:border-rd hover:text-white border top-2 right-2"};return L.useEffect(()=>{g(o),h(t)},[]),w.jsx("section",{className:T.main,children:w.jsxs("div",{className:T.content.main,children:[w.jsx("button",{className:T.closeBtn,onClick:()=>e(!1),children:w.jsx(cI,{})}),w.jsxs("div",{className:T.content.content,children:[w.jsx("h1",{className:T.content.title,children:"EDITAR IMAGEN DE PERFIL"}),w.jsx("hr",{className:"my-2 w-[40%] h-[1px] bg-white"}),w.jsxs("div",{className:T.content.bottomMain,children:[w.jsx(ab,{image:t,setProfileImage:h}),w.jsx("input",{type:"text",className:"hidden",name:"profile-image",defaultValue:t}),w.jsx("input",{type:"text",className:"hidden",name:"profile-background",defaultValue:o})]}),w.jsx("div",{className:T.buttonBox.main,children:w.jsx("button",{className:T.buttonBox.saveBtn,onClick:_,children:"GUARDAR CAMBIOS"})})]})]})})},lb={display:"block",margin:"0 auto",borderColor:"red"},ub=()=>{const n=va(),[e,t]=L.useState(null),[i,o]=L.useState(!0),[a,u]=L.useState(!1),[h,f]=L.useState(""),[g,_]=L.useState(""),[T,x]=L.useState(0),[R,A]=L.useState(!0),[M,b]=L.useState(!1),D={main:"flex flex-col items-center justify-center w-full min-h-screen bg-st-100 z-50",content:"w-full mt-4 max-w-[400px] px-[36px] flex flex-col",title:"pb-6 sm:pb-6 text-white font-bold text-2xl text-center",contentBox:{main:"flex relative flex-col place-items-center w-full max-w-96 gap-2",topSide:"w-full flex items-center justify-center",imageBox:"relative size-[160px] rounded-full border-[3px] border-white",image:"size-full rounded-full object-cover",btnBox:"absolute -bottom-0 right-2 border-[4px] border-st-100 rounded-full p-2 bg-white text-2xl hover:text-rd hover:bg-gray-300",hr:"w-[15%] h-[1px] mt-10 mb-12 sm:mb-10 bg-gray-400",formMain:"flex flex-col gap-5 w-full ",dataBox:"flex flex-col w-full",titles:"text-gray-500 text-sm font-bold",data:"text-white text-lg sm:text-base",button:" w-full mt-6 sm:mt-8 h-[55px] sm:h-[45px] rounded-lg text-white font-bold text-lg bg-rd hover:bg-nd"},bottomSide:{main:"w-full flex gap-5 mt-4 font-bold",buttonSave:"w-full h-[55px] sm:h-[50px] text bg-rd hover:bg-nd text-white rounded-lg disabled:bg-gray-500",buttonCancel:"w-full h-[55px] sm:h-[50px] text bg-red-600  hover:bg-red-800  text-white  rounded-lg disabled:text-gray-400"},imageProfileEdit:`fixed top-0 left-0 bg-st-100/75 z-10 ${a?"w-full h-full":"w-0 h-0"} duration-300`},K={color:"#1e40af",size:120,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},Q=te=>{te.preventDefault();const oe=te.currentTarget.elements.name.value;N_(b,oe)};if(L.useEffect(()=>{E2(t,o,f)},[]),L.useEffect(()=>{T>=6?A(!0):A(!1)},[T]),i)return w.jsx("section",{className:D.main,children:w.jsx("div",{className:D.content+" items-center justify-center",children:w.jsx("div",{children:w.jsx(Ni,{color:K.color,loading:i,cssOverride:lb,size:K.size,"aria-label":K.ariaLabel,"data-testid":K.dataTest,speedMultiplier:K.speed})})})});if(e===null&&n("/"),e&&M===!0)return w.jsx("section",{className:D.main,children:w.jsxs("div",{className:D.content,children:[w.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),w.jsxs("div",{className:D.contentBox.main,children:[w.jsxs("div",{className:D.contentBox.imageBox,children:[w.jsx("img",{className:D.contentBox.image,src:h,alt:"user-profile-image"}),w.jsx("button",{className:D.contentBox.btnBox,onClick:()=>u(!0),children:w.jsx(r0,{})})]}),w.jsx("hr",{className:D.contentBox.hr}),w.jsxs(ao,{className:D.contentBox.formMain,onSubmit:Q,children:[w.jsx(sb,{type:"name",DefaultValue:e.displayName,set:x}),w.jsxs("div",{className:D.bottomSide.main,children:[w.jsx("button",{className:D.bottomSide.buttonSave,type:"submit",disabled:!R,children:"GUARDAR"}),w.jsx("button",{className:D.bottomSide.buttonCancel,onClick:()=>b(!1),children:"CANCELAR"})]})]})]}),w.jsx("div",{className:D.imageProfileEdit,children:w.jsx(i0,{setBackgroundImage:_,backgroundImage:g,profileImage:h,setProfileImage:f,isShow:a,setShow:u})})]})});if(e&&M===!1)return w.jsx("section",{className:D.main,children:w.jsxs("div",{className:D.content,children:[w.jsx("h1",{className:D.title,children:"EDITAR PERFIL"}),w.jsxs("div",{className:D.contentBox.main,children:[w.jsx("div",{className:D.contentBox.topSide,children:w.jsxs("picture",{className:D.contentBox.imageBox,children:[w.jsx("img",{className:D.contentBox.image,src:h,alt:"user-profile-image"}),w.jsx("button",{className:D.contentBox.btnBox,onClick:()=>u(!0),children:w.jsx(r0,{})})]})}),w.jsx("hr",{className:D.contentBox.hr}),w.jsxs("div",{className:D.contentBox.main,children:[w.jsxs("span",{className:D.contentBox.dataBox,children:[w.jsx("h2",{className:D.contentBox.titles,children:"Nombre de usuario"}),w.jsx("h4",{className:D.contentBox.data,children:e.displayName===null?"Sin nombre de usuario":e.displayName})]}),w.jsxs("span",{className:D.contentBox.dataBox,children:[w.jsx("h2",{className:D.contentBox.titles,children:"Email"}),w.jsx("h4",{className:D.contentBox.data,children:e.email===null?"Sin Email":e.email})]}),w.jsx("button",{className:D.contentBox.button,onClick:()=>b(!0),children:"EDITAR"})]})]}),w.jsx("div",{className:D.imageProfileEdit,children:w.jsx(i0,{setBackgroundImage:_,backgroundImage:g,profileImage:h,setProfileImage:f,isShow:a,setShow:u})})]})})},cb=({name:n,description:e,categories:t})=>{const i={main:"flex w-full h-auto bg-st-200/80 z-10 rounded-lg sm:col-span-2",content:"relative flex flex-col w-full gap-4 p-4 ",title:"text-3xl px-4 text-center text-white font-bold",description:"px-2 scroll font-light text-sm text-gray-400 overflow-auto max-h-32",categoriesList:{main:"flex flex-wrap px-2 gap-x-4 gap-y-2",items:"bg-rd px-1 leading-6 rounded text-sm"}};return w.jsx("section",{className:i.main,children:w.jsxs("div",{className:i.content,children:[w.jsx("h1",{className:i.title,children:n}),w.jsx("ul",{className:i.categoriesList.main,children:t.map((o,a)=>w.jsx("li",{className:i.categoriesList.items,children:o},a))}),w.jsx("p",{className:i.description,children:e})]})})},db=({image:n,name:e})=>{const{uid:t}=Ps(),[i,o]=L.useState(!1),a={main:"flex w-full h-auto justify-center z-10",imageBox:"relative flex size-full max-w-[300px] ",image:"size-full object-cover rounded-lg",favoriteBtn:`absolute z-40 bg-black/75 rounded-full size-10 ${t===null?"hidden":"flex items-center justify-center"} top-2 right-2 text-3xl ${i?"text-rd":"text-white"} duration-500`};async function u(){const h=e,f=t;f!=null&&f!=null&&(i?(o(!1),await eb(h,f)):(o(!0),await Zk(h,f)))}return L.useEffect(()=>{(async()=>{t!=null&&t!=null&&(await Cd(t)).includes(e)&&o(!0)})()},[t]),w.jsx("div",{className:a.main,children:w.jsxs("picture",{className:a.imageBox,children:[t!=null&&w.jsx("button",{className:a.favoriteBtn,onClick:u,children:i?w.jsx(kc,{}):w.jsx(Af,{})}),w.jsx("img",{className:a.image,src:n,alt:`${e}-poster`})]})})},hb=({episode:n,image:e,name:t,id:i,season:o})=>{const a={main:"w-full flex",content:"grid grid-cols-[20%_80%] w-full h-14 group",imageBox:"size-full overflow-hidden rounded-lg",image:"size-full object-cover",titleBox:"flex p-1 items-center",title:"text-gray-400 group-hover:text-rd"};return w.jsx(Mt,{className:a.main,to:`/media/${i}/${o}/${n}`,children:w.jsxs("div",{className:a.content,children:[w.jsx("picture",{className:a.imageBox,children:w.jsx("img",{className:a.image,src:e,alt:`${t}-poster`})}),w.jsx("span",{className:a.titleBox,children:w.jsxs("h1",{className:a.title,children:["Episodio ",n]})})]})})},aw=({data:n,index:e,id:t})=>{const[i,o]=L.useState(!1),a={main:"flex z-10 ",titleBox:{main:"flex w-full justify-between p-2",title:`${i?"text-rd":"text-white"} duration-300`,icon:`text-xl ${i?"text-rd -rotate-90":"text-white rotate-90"} duration-300`},list:{main:`w-full gap-2 ${i?"flex flex-col":"hidden"} scroll max-h-[200px] overflow-auto`}};return w.jsx("div",{className:a.main,children:w.jsxs("div",{className:"flex flex-col w-full",children:[w.jsxs("button",{className:a.titleBox.main,onClick:()=>o(!i),children:[w.jsx("h1",{className:a.titleBox.title,children:n.name?n.name:`Temporada ${e+1}`}),w.jsx("span",{className:a.titleBox.icon,children:w.jsx(L0,{})})]}),w.jsx("ul",{className:a.list.main,children:n.episodes.map((u,h)=>w.jsx("li",{children:w.jsx(hb,{name:n.name,episode:h+1,season:e,id:t,image:n.image})},h))})]})})},fb={display:"block",margin:"0 auto",borderColor:"red"},pb=()=>{const{id:n}=Ps(),[e,t]=L.useState(!0),[i,o]=L.useState(null),a={main:"w-full min-h-screen bg-st-100 flex flex-col items-center",content:"relative size-full max-w-[800px] z-10 grid sm:grid-cols-2 p-5 pb-20 mt-[9vh] gap-y-10 gap-x-5 sm:items-start",seasonBox:"scroll flex flex-col gap-2 md:h-full max-h-[450px] z-10 bg-st-200/80 p-2 rounded-lg overflow-auto",notFound:{main:"w-full min-h-screen p-10 gap-10 flex flex-col items-center justify-center",title1:"text-6xl text-white",title2:"text-xl text-center text-gray-400",button:"flex items-center justify-center bg-rd h-[55px] w-full rounded-lg text-white uppercase text-xl"},background:{main:"fixed flex top-[9vh] left-0 w-full min-h-screen z-0 opacity-50",image:"w-full min-h-screen object-cover z-0"},spinner:"size-full min-h-screen flex items-center justify-center"},u={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(L.useEffect(()=>{(async()=>{try{if(n!=null){const f=await Sd(n);o(f),t(!1)}}catch(f){console.log("error: "+f),t(!1)}})()},[n]),e)return w.jsx("section",{className:a.main,children:w.jsx("div",{className:a.spinner,children:w.jsx(Ni,{color:u.color,loading:e,cssOverride:fb,size:u.size,"aria-label":u.ariaLabel,"data-testid":u.dataTest,speedMultiplier:u.speed})})});if(i==null)return w.jsx("section",{className:a.main,children:w.jsxs("div",{className:a.notFound.main,children:[w.jsx("h3",{className:a.notFound.title1,children:"Opps..."}),w.jsx("h3",{className:a.notFound.title2,children:"Lo sentimos, no hemos conseguido la serie que buscas."}),w.jsx(Mt,{className:a.notFound.button,to:"/",children:"Volver al inicio"})]})});if(e===!1&&i!==null||i!==void 0)return w.jsxs("section",{className:a.main,children:[w.jsxs("div",{className:a.content,children:[w.jsx("div",{className:a.background.main,children:w.jsx("img",{loading:"lazy",className:a.background.image,src:i.images[2]?i.images[2]:"",alt:i.name?`${i.name}-background`:"background"})}),w.jsx(cb,{name:i.name,description:i.description,categories:i.categories}),w.jsx(db,{name:i.name,image:i.images[0]}),w.jsx("ul",{className:a.seasonBox,children:i.seasons.map((h,f)=>w.jsx("li",{children:w.jsx(aw,{data:h,index:f,id:i.name})},f))})]}),w.jsx(Pd,{})]})},mb=({url:n})=>{const[e,t]=L.useState(""),i={main:"size-full flex",mediaPlayer:"size-full min-h-[300px] md:h-full max-h-[340px]"};return L.useEffect(()=>{t(n)},[n]),w.jsx("div",{children:w.jsx("iframe",{className:i.mediaPlayer,src:e})})},gb={display:"block",margin:"0 auto",borderColor:"red"},s0=()=>{const{id:n,season:e,episode:t}=Ps(),[i,o]=L.useState(!0),[a,u]=L.useState(null),[h,f]=L.useState(""),g=A=>{f(A.target.value)},_=()=>{f("")},T={main:"w-full bg-st-100 rounded",form:"flex relative h-20 p-2",input:"bg-transparent size-full text-start text-lg text-white overflow-auto outline-none Scroll",submit:"absolute bottom-0 right-0 w-24 text-white uppercase rounded bg-rd",spinnerMain:"",spinner:"py-4 size-full"},x={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},R=async A=>{A.preventDefault(),o(!0);const b=new FormData(A.currentTarget).get("comment"),D=Number(e),K=Number(t)-1,Q=String(n);if(a!=null){const te={comment:b,userName:a.displayName,userImage:a.photoURL,date:new Date().toISOString()};Yk(te,D,K,Q),_(),o(!1)}};if(L.useEffect(()=>{},[n,e,t]),L.useEffect(()=>{(async()=>{k_(u),o(!1)})()},[a]),i)return w.jsx("section",{className:T.spinnerMain,children:w.jsx("div",{className:T.spinner,children:w.jsx(Ni,{color:x.color,loading:i,cssOverride:gb,size:x.size,"aria-label":x.ariaLabel,"data-testid":x.dataTest,speedMultiplier:x.speed})})});if(i===!1&&a!=null)return w.jsx("div",{className:T.main,children:w.jsxs(ao,{className:T.form,onSubmit:A=>R(A),children:[w.jsx("textarea",{name:"comment",placeholder:"Escribe tu comentario...",className:T.input,value:h,onChange:g}),w.jsx("button",{className:T.submit,type:"submit",children:"Enviar"})]})});if(i===!1&&a===null)return w.jsx("section",{className:T.main,children:w.jsxs("div",{className:"flex flex-col gap-4 p-2",children:[w.jsx("h1",{className:"text-lg text-white",children:"Para poder dejar comentarios debes iniciar sesion."}),w.jsx(Mt,{className:"flex bg-rd rounded text-white text-lg w-full justify-center font-bold",to:"/login",children:"Iniciar sesion"})]})})},yb=({data:n})=>{const{id:e,episode:t,season:i}=Ps(),[o,a]=L.useState(!0),[u,h]=L.useState(n),f={main:"w-full min-h-20 bg-st-200 rounded-lg",content:"flex flex-col p-2 gap-4",title:"text-xl font-bold text-white",list:"scroll flex flex-col w-full max-h-[200px] overflow-auto gap-2",notComments:"text-lg text-white text-center",comments:{main:"grid grid-cols-[15%_85%] w-full",imageBox:"size-full p-1 max-h-14 flex ",image:"size-full object-cover",dataBox:"flex flex-col px-2",titleBox:"flex w-full justify-between items-center border-b border-gray-400",userName:"text-lg md:text-base font-bold text-rd",date:"text-gray-400 md:text-sm",text:"p-1 leading-4 text-gray-400 md:text-sm"},loadingContent:"size-full flex flex-col items-center justify-center p-2 ",loadingTitle:"text-lg font-bold text-center text-white animate-pulse duration-300"},g=A=>{let M=new Date(A);const b=_(new Date),D=_(M),K=T(M);if(n!==null)return b===D?K:D},_=A=>{let M=String(A.getDate()).padStart(2,"0"),b=String(A.getMonth()+1).padStart(2,"0"),D=A.getFullYear();return`${M}:${b}:${D}`},T=A=>{let M=A.getHours(),b=String(A.getMinutes()).padStart(2,"0"),D=M>=12?"PM":"AM";return M=M%12,M=M||12,`${String(M).padStart(2,"0")}:${b} ${D}`};async function x(){const A=e!=null?e.toString():null,M=i!=null?Number(i):null,b=t!=null?Number(t):null;if(A!=null&&M!=null&&b!=null){const D=await Xk(M,b,A);D!=null&&D!=null&&h(D)}}if(L.useEffect(()=>{a(!0);const A=setInterval(()=>{x(),a(!1)},5e3);return()=>clearInterval(A)},[e,i,t]),o)return w.jsx("section",{className:f.main,children:w.jsx("div",{className:f.loadingContent,children:w.jsx("h1",{className:f.loadingTitle,children:"Cargando comentarios..."})})});if(o===!1)return w.jsx("section",{className:f.main,children:w.jsxs("div",{className:f.content,children:[w.jsx("div",{children:w.jsx(s0,{})}),w.jsx("h1",{className:f.title,children:"Comentarios"}),u!=null?w.jsx("ul",{className:f.list,children:u.length<=0?w.jsx(w.Fragment,{children:w.jsx("h1",{className:f.notComments,children:"Sin comentarios para mostrar."})}):w.jsx(w.Fragment,{children:u.map((A,M)=>w.jsxs("li",{className:f.comments.main,children:[w.jsx("picture",{className:f.comments.imageBox,children:A.userImage!=null?w.jsx("img",{className:f.comments.image,src:A.userImage,alt:`${A.userName}-image-profile`}):w.jsx(Pf,{})}),w.jsxs("div",{className:f.comments.dataBox,children:[w.jsxs("span",{className:f.comments.titleBox,children:[w.jsx("h1",{className:f.comments.userName,children:A.userName}),w.jsx("h4",{className:f.comments.date,children:g(A.date)})]}),w.jsx("p",{className:f.comments.text,children:A.comment})]})]},M))})}):w.jsxs("div",{className:"w-full p-2",children:[w.jsx("h1",{className:"text-gray-400 text-lg text-center",children:"Sin comentarios."}),w.jsx("h2",{className:"text-gray-400 text-lg text-center",children:"S el primero en comentar!"})]})]})});const R=L.useMemo(()=>!u||u.length===0?w.jsx("h1",{className:f.notComments,children:"Sin comentarios para mostrar."}):u.map((A,M)=>w.jsxs("li",{className:f.comments.main,children:[w.jsx("picture",{className:f.comments.imageBox,children:A.userImage?w.jsx("img",{className:f.comments.image,src:A.userImage,alt:`${A.userName}-image-profile`}):w.jsx(Pf,{})}),w.jsxs("div",{className:f.comments.dataBox,children:[w.jsxs("span",{className:f.comments.titleBox,children:[w.jsx("h1",{className:f.comments.userName,children:A.userName}),w.jsx("h4",{className:f.comments.date,children:g(A.date)})]}),w.jsx("p",{className:f.comments.text,children:A.comment})]})]},M)),[u]);return o?w.jsx("section",{className:f.main,children:w.jsx("div",{className:f.loadingContent,children:w.jsx("h1",{className:f.loadingTitle,children:"Cargando comentarios..."})})}):w.jsx("section",{className:f.main,children:w.jsxs("div",{className:f.content,children:[w.jsx("div",{children:w.jsx(s0,{})}),w.jsx("h1",{className:f.title,children:"Comentarios"}),w.jsx("ul",{className:f.list,children:R})]})})},vb={display:"block",margin:"0 auto",borderColor:"red"},_b=()=>{const{id:n,season:e,episode:t}=Ps(),i=va(),[o,a]=L.useState(null),[u,h]=L.useState(null),[f,g]=L.useState(""),[_,T]=L.useState(!0),[x,R]=L.useState(!1),[A,M]=L.useState(!1),b={main:"w-full min-h-screen bg-st-100 flex flex-col",content:"flex flex-col w-full min-h-screen mt-[9vh] pb-20",videoPlayer:{main:"flex flex-col w-full overflow-hidden",bottomBox:"flex w-full h-8 justify-between bg-st-200 px-2",buttons:"size-8 flex justify-center items-center",icons:"text-2xl text-white hover:text-rd active:text-yellow-500",Xbtn:"cursor-no-drop",XbtnIcon:"text-red-500 text-2xl"},bottomSide:{main:"flex w-full justify-center",content:"flex flex-col w-full p-4 gap-10 max-w-[1024px]",titleBox:"w-full flex flex-col",name:"font-bold text-center text-white text-xl",titleBottomBox:"flex justify-center text-gray-400 gap-1",season:"",episode:"",seasonBox:"Scroll flex flex-col gap-2 max-h-[600px] z-10 bg-st-200/80 p-2 rounded-lg overflow-auto"},spinner:"size-full min-h-screen flex items-center justify-center"},D={color:"#1e40af",size:140,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},K=()=>{const P=Number(e),I=Number(t);u!=null&&(u.seasons[P].episodes.length===I?R(!0):R(!1),I-1===0?M(!0):M(!1))},Q=()=>{const P=Number(e),I=Number(t)-1;if(u!=null){const C=u.seasons[P].episodes[I].comments;a(C),i(`/media/${n}/${e}/${t}`)}},te=P=>{const I=Number(e),C=Number(t)-1;return P.seasons[I].episodes[C].url},U=()=>{const P=Number(t)+1;u!=null&&i(`/media/${u.name}/${e}/${P}`)},oe=()=>{const P=Number(t)-1;u!=null&&i(`/media/${u.name}/${e}/${P}`)};if(L.useEffect(()=>{(async()=>{try{if(n!=null){const I=await Sd(n);h(I);const C=te(I);C!=null||C!=null?g(C):g(""),Q(),T(!1)}}catch(I){console.log("error: "+I),T(!1)}K()})()},[n,e,t]),L.useEffect(()=>{K()},[t]),_)return w.jsx("section",{className:b.main,children:w.jsx("div",{className:b.spinner,children:w.jsx(Ni,{color:D.color,loading:_,cssOverride:vb,size:D.size,"aria-label":D.ariaLabel,"data-testid":D.dataTest,speedMultiplier:D.speed})})});if(_===!1)return w.jsxs("section",{className:b.main,children:[w.jsxs("div",{className:b.content,children:[w.jsxs("div",{className:b.videoPlayer.main,children:[w.jsx(mb,{url:f}),w.jsxs("span",{className:b.videoPlayer.bottomBox,children:[A?w.jsx("button",{className:b.videoPlayer.Xbtn,disabled:!0,children:w.jsx(Uy,{className:b.videoPlayer.XbtnIcon})}):w.jsx("button",{className:b.videoPlayer.buttons,onClick:oe,children:w.jsx(vI,{className:b.videoPlayer.icons})}),x?w.jsx("button",{className:b.videoPlayer.Xbtn,disabled:!0,children:w.jsx(Uy,{className:b.videoPlayer.XbtnIcon})}):w.jsx("button",{className:b.videoPlayer.buttons,onClick:U,children:w.jsx(_I,{className:b.videoPlayer.icons})})]})]}),w.jsx("section",{className:b.bottomSide.main,children:w.jsxs("div",{className:b.bottomSide.content,children:[w.jsxs("span",{className:b.bottomSide.titleBox,children:[w.jsx("h1",{className:b.bottomSide.name,children:n}),w.jsxs("span",{className:b.bottomSide.titleBottomBox,children:[w.jsxs("h3",{className:b.bottomSide.season,children:["Temporada ",Number(e)+1," /"]}),w.jsxs("h3",{className:b.bottomSide.episode,children:["Episodio ",t]})]})]}),u!=null&&w.jsx(yb,{data:o}),u!=null&&w.jsx("ul",{className:b.bottomSide.seasonBox,children:u.seasons.map((P,I)=>w.jsx("li",{children:w.jsx(aw,{data:P,index:I,id:u.name})},I))})]})})]}),w.jsx(Pd,{})]})},lw=({data:n,isAList:e})=>{const{uid:t}=Ps(),[i,o]=L.useState(!1),a={main:"rounded bg-st-200 group shadow-[0px_0px_12px_0px] shadow-transparent hover:shadow-rd duration-300",content:"grid grid-cols-[30%_70%] h-[160px] w-full",imageBox:"flex size-full overflow-hidden rounded-l",image:"flex size-full object-cover",favoriteIcon:`absolute ${t!=null?"flex":"hidden"} right-2 top-2 text-3xl ${i?"text-rd":"text-white"} duration-300`,dataBox:"relative size-full grid grid-cols-2 grid-rows-[20%_30%_50%] p-2",title:"h-full w-full max-w-[85%] truncate text-lg col-span-2 font-bold text-white group-hover:text-rd duration-300",dataCategoriesList:"col-span-2 w-full h-16 flex flex-wrap justify-start items-start gap-x-1 gap-y-1",dataCategoriesItem:"px-1 leading-6 bg-rd text-sm rounded",dataSeasonsEpBox:"flex items-center gap-2 col-span-2",dataSeasonsEpTitle:"text-lg font-bold text-gray-500",dataSeasonsEpValue:"text-lg font-bold text-gray-400"},u={main:"group size-full",content:"relative h-[240px] flex items-end justify-end rounded overflow-hidden",favoriteIcon:`absolute ${t===null?"hidden":"flex"} z-30 top-2 right-2 text-3xl ${i?"text-rd":"text-white"} duration-300`,imageBox:"absolute z-0 size-full left-0 top-0",image:"size-full object-cover",titleBox:"w-full z-10 p-2",title:"font-bold text-center text-white group-hover:text-rd"};return L.useEffect(()=>{(async()=>{t!=null&&(await Cd(t)).map(g=>{n.name===g&&o(!0)})})()},[i]),e?w.jsx("div",{className:a.main,children:w.jsxs(Mt,{className:a.content,to:`/details/${n.name}/${t}`,children:[w.jsx("picture",{className:a.imageBox,children:w.jsx("img",{className:a.image,src:n.images[0],alt:"",loading:"lazy"})}),w.jsxs("div",{className:a.dataBox,children:[w.jsx("h1",{className:a.title,children:n.name}),w.jsx("button",{className:a.favoriteIcon,children:i?w.jsx(kc,{}):w.jsx(Af,{})}),w.jsxs("div",{className:a.dataSeasonsEpBox,children:[w.jsx("h2",{className:a.dataSeasonsEpTitle,children:"Temporadas:"}),w.jsx("h3",{className:a.dataSeasonsEpValue,children:n.seasons.length})]}),w.jsx("ul",{className:a.dataCategoriesList,children:n.categories.map(h=>w.jsx("li",{className:a.dataCategoriesItem,children:h},h))})]})]})}):w.jsx("div",{className:u.main,children:w.jsxs(Mt,{className:u.content,to:`/details/${n.name}/${t}`,children:[w.jsx("button",{className:u.favoriteIcon,children:i?w.jsx(kc,{}):w.jsx(Af,{})}),w.jsx("picture",{className:u.imageBox,children:w.jsx("img",{className:u.image,src:n.images[0],alt:"",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)"}})}),w.jsx("span",{className:u.titleBox,children:w.jsx("h1",{className:u.title,children:n.name})})]})})},wb={display:"block",margin:"0 auto",borderColor:"red"},Eb=()=>{const{value:n,uid:e}=Ps(),[t,i]=L.useState(!0),[o,a]=L.useState(null),[u,h]=L.useState(!0),f={main:"flex w-full min-h-screen",content:"flex flex-col size-full pt-24 sm:pt-20 px-4 pb-20 gap-5",titleBox:"flex flex-wrap gap-2 text-lg",title:"text-white",searchValue:"font-bold text-white",list:`grid ${u?"grid-auto-rows sm:grid-cols-2 gap-4 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4  gap-4"}`,spinner:"flex size-full h-screen size-full justify-center items-center",selecter:{main:"bg-st-200 w-20 flex rounded-full overflow-hidden text-xl",button:"w-full flex items-center justify-center text-gray-400 p-1",selected:"w-full flex items-center justify-center p-1 bg-rd text-white"}},g={color:"#1e40af",size:160,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function _(T,x){return T.filter(R=>R.name.toLowerCase().includes(x.toLowerCase())||R.categories.some(A=>A.toLowerCase().includes(x.toLowerCase())))}if(L.useEffect(()=>{(async()=>{i(!0);const x=await Rd();if(n!=null||n!=null){const R=_(x,n);a(R),i(!1)}})()},[n,e]),t)return w.jsx("section",{className:f.main,children:w.jsx("div",{className:f.spinner,children:w.jsx(Ni,{color:g.color,loading:t,cssOverride:wb,size:g.size,"aria-label":g.ariaLabel,"data-testid":g.dataTest,speedMultiplier:g.speed})})});if(t===!1)return w.jsx("section",{className:f.main,children:w.jsxs("div",{className:f.content,children:[w.jsxs("span",{className:f.titleBox,children:[w.jsx("h1",{className:f.title,children:"Resultados para la busqueda de:"}),w.jsx("h2",{className:f.searchValue,children:n})]}),o!=null&&o.length>0&&w.jsxs("span",{className:f.selecter.main,children:[w.jsx("button",{className:u?f.selecter.button:f.selecter.selected,onClick:()=>h(!1),children:w.jsx(hp,{})}),w.jsx("button",{className:u?f.selecter.selected:f.selecter.button,onClick:()=>h(!0),children:w.jsx(D0,{})})]}),w.jsx("ul",{className:f.list,children:o!=null&&o.length>0?w.jsx(w.Fragment,{children:o.map((T,x)=>w.jsx("li",{className:"size-full",children:w.jsx(lw,{data:T,isAList:u})},x))}):""})]})})},Tb=()=>{const n={main:"w-full min-h-screen bg-st-100",content:"flex flex-col size-full min-h-screen"};return w.jsx("section",{className:n.main,children:w.jsxs("div",{className:n.content,children:[w.jsx(Eb,{}),w.jsx(Pd,{})]})})},xb=()=>w.jsx("section",{className:"w-full bg-st-100 font-roboto",children:w.jsxs("div",{className:"flex flex-col min-h-screen w-full pt-24 md:pt-20 items-center justify-center",children:[w.jsx("h1",{className:"text-4xl font-bold text-white mb-16",children:"Ooops..."}),w.jsx("h1",{className:"text-xl text-gray-400",children:"Parece que ah ocurrido un error."}),w.jsx(Mt,{to:"/",children:"Volver al inicio"})]})}),Ib={display:"block",margin:"0 auto",borderColor:"red"},Sb=()=>{const{uid:n}=Ps(),[e,t]=L.useState(!0),[i,o]=L.useState([]),[a,u]=L.useState(!0),h={main:"flex w-full min-h-screen bg-st-100",content:"flex flex-col size-full pt-24 sm:pt-20 px-4 pb-20 gap-5",titleBox:"flex flex-wrap gap-2 text-lg",title:"text-white",titleNotFound:"text-lg text-white text-center",searchValue:"font-bold text-white",list:`grid ${a?"grid-auto-rows sm:grid-cols-2 gap-4 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4  gap-4"}`,spinner:"flex size-full h-screen size-full justify-center items-center",selecter:{main:"bg-st-200 w-20 flex rounded-full overflow-hidden text-xl",button:"w-full flex items-center justify-center text-gray-400 p-1",selected:"w-full flex items-center justify-center p-1 bg-rd text-white"}},f={color:"#1e40af",size:160,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(L.useEffect(()=>{(async()=>{if(n!=null){const _=await Cd(n),T=await Rd();let x=[];const R=(A,M)=>A.filter(b=>b.name===M);_.length!=null?(_.map(A=>{const M=R(T,A);x.push(M[0])}),o(x),t(!1)):(console.log(i),t(!1))}})()},[]),e)return w.jsx("section",{className:h.main,children:w.jsx("div",{className:h.spinner,children:w.jsx(Ni,{color:f.color,loading:e,cssOverride:Ib,size:f.size,"aria-label":f.ariaLabel,"data-testid":f.dataTest,speedMultiplier:f.speed})})});if(e===!1&&i.length<=0)return w.jsx("section",{className:h.main,children:w.jsx("div",{className:h.content,children:w.jsx("h1",{className:h.titleNotFound,children:"Parece que an no tienes ningn favorito."})})});if(e===!1&&i.length>=1)return w.jsx("section",{className:h.main,children:w.jsxs("div",{className:h.content,children:[w.jsx("span",{className:h.titleBox,children:w.jsx("h1",{className:h.title,children:"Lista de favoritos"})}),i!=null&&i.length>0&&w.jsxs("span",{className:h.selecter.main,children:[w.jsx("button",{className:a?h.selecter.button:h.selecter.selected,onClick:()=>u(!1),children:w.jsx(hp,{})}),w.jsx("button",{className:a?h.selecter.selected:h.selecter.button,onClick:()=>u(!0),children:w.jsx(D0,{})})]}),w.jsx("ul",{className:h.list,children:i!=null&&i.length>0&&w.jsx(w.Fragment,{children:i.map((g,_)=>w.jsx("li",{className:"size-full",children:w.jsx(lw,{data:g,isAList:a})},_))})})]})})},Rb=Hx([{path:"/",element:w.jsx(I2,{}),errorElement:w.jsx(xb,{}),children:[{index:!0,element:w.jsx(ib,{})},{path:"/login",element:w.jsx(b2,{})},{path:"/register",element:w.jsx(L2,{})},{path:"/edit-profile",element:w.jsx(ub,{})},{path:"/details/:id/:uid",element:w.jsx(pb,{})},{path:"/media/:id/:season/:episode",element:w.jsx(_b,{})},{path:"/search/:value/:uid",element:w.jsx(Tb,{})},{path:"/my-favorites/:uid",element:w.jsx(Sb,{})}]}]);_E.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(nI,{router:Rb})}));
