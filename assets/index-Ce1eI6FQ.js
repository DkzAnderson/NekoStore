(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Hw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sd={exports:{}},Wa={},Rd={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Ww(){if(_g)return je;_g=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=I&&B[I]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function M(B,Z,we){this.props=B,this.context=Z,this.refs=z,this.updater=we||P}M.prototype.isReactComponent={},M.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},M.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=M.prototype;function Q(B,Z,we){this.props=B,this.context=Z,this.refs=z,this.updater=we||P}var Y=Q.prototype=new N;Y.constructor=Q,O(Y,M.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray,F=Object.prototype.hasOwnProperty,oe={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(B,Z,we){var Le,De={},Be=null,Je=null;if(Z!=null)for(Le in Z.ref!==void 0&&(Je=Z.ref),Z.key!==void 0&&(Be=""+Z.key),Z)F.call(Z,Le)&&!C.hasOwnProperty(Le)&&(De[Le]=Z[Le]);var Ze=arguments.length-2;if(Ze===1)De.children=we;else if(1<Ze){for(var Me=Array(Ze),pt=0;pt<Ze;pt++)Me[pt]=arguments[pt+2];De.children=Me}if(B&&B.defaultProps)for(Le in Ze=B.defaultProps,Ze)De[Le]===void 0&&(De[Le]=Ze[Le]);return{$$typeof:n,type:B,key:Be,ref:Je,props:De,_owner:oe.current}}function R(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function A(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return Z[we]})}var j=/\/+/g;function k(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):Z.toString(36)}function ht(B,Z,we,Le,De){var Be=typeof B;(Be==="undefined"||Be==="boolean")&&(B=null);var Je=!1;if(B===null)Je=!0;else switch(Be){case"string":case"number":Je=!0;break;case"object":switch(B.$$typeof){case n:case e:Je=!0}}if(Je)return Je=B,De=De(Je),B=Le===""?"."+k(Je,0):Le,ne(De)?(we="",B!=null&&(we=B.replace(j,"$&/")+"/"),ht(De,Z,we,"",function(pt){return pt})):De!=null&&(A(De)&&(De=R(De,we+(!De.key||Je&&Je.key===De.key?"":(""+De.key).replace(j,"$&/")+"/")+B)),Z.push(De)),1;if(Je=0,Le=Le===""?".":Le+":",ne(B))for(var Ze=0;Ze<B.length;Ze++){Be=B[Ze];var Me=Le+k(Be,Ze);Je+=ht(Be,Z,we,Me,De)}else if(Me=S(B),typeof Me=="function")for(B=Me.call(B),Ze=0;!(Be=B.next()).done;)Be=Be.value,Me=Le+k(Be,Ze++),Je+=ht(Be,Z,we,Me,De);else if(Be==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Je}function ze(B,Z,we){if(B==null)return B;var Le=[],De=0;return ht(B,Le,"","",function(Be){return Z.call(we,Be,De++)}),Le}function _t(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var Ue={current:null},ae={transition:null},Te={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ae,ReactCurrentOwner:oe};function de(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ze,forEach:function(B,Z,we){ze(B,function(){Z.apply(this,arguments)},we)},count:function(B){var Z=0;return ze(B,function(){Z++}),Z},toArray:function(B){return ze(B,function(Z){return Z})||[]},only:function(B){if(!A(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=M,je.Fragment=t,je.Profiler=o,je.PureComponent=Q,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,je.act=de,je.cloneElement=function(B,Z,we){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Le=O({},B.props),De=B.key,Be=B.ref,Je=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Be=Z.ref,Je=oe.current),Z.key!==void 0&&(De=""+Z.key),B.type&&B.type.defaultProps)var Ze=B.type.defaultProps;for(Me in Z)F.call(Z,Me)&&!C.hasOwnProperty(Me)&&(Le[Me]=Z[Me]===void 0&&Ze!==void 0?Ze[Me]:Z[Me])}var Me=arguments.length-2;if(Me===1)Le.children=we;else if(1<Me){Ze=Array(Me);for(var pt=0;pt<Me;pt++)Ze[pt]=arguments[pt+2];Le.children=Ze}return{$$typeof:n,type:B.type,key:De,ref:Be,props:Le,_owner:Je}},je.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},je.createElement=T,je.createFactory=function(B){var Z=T.bind(null,B);return Z.type=B,Z},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:d,render:B}},je.isValidElement=A,je.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:_t}},je.memo=function(B,Z){return{$$typeof:y,type:B,compare:Z===void 0?null:Z}},je.startTransition=function(B){var Z=ae.transition;ae.transition={};try{B()}finally{ae.transition=Z}},je.unstable_act=de,je.useCallback=function(B,Z){return Ue.current.useCallback(B,Z)},je.useContext=function(B){return Ue.current.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B){return Ue.current.useDeferredValue(B)},je.useEffect=function(B,Z){return Ue.current.useEffect(B,Z)},je.useId=function(){return Ue.current.useId()},je.useImperativeHandle=function(B,Z,we){return Ue.current.useImperativeHandle(B,Z,we)},je.useInsertionEffect=function(B,Z){return Ue.current.useInsertionEffect(B,Z)},je.useLayoutEffect=function(B,Z){return Ue.current.useLayoutEffect(B,Z)},je.useMemo=function(B,Z){return Ue.current.useMemo(B,Z)},je.useReducer=function(B,Z,we){return Ue.current.useReducer(B,Z,we)},je.useRef=function(B){return Ue.current.useRef(B)},je.useState=function(B){return Ue.current.useState(B)},je.useSyncExternalStore=function(B,Z,we){return Ue.current.useSyncExternalStore(B,Z,we)},je.useTransition=function(){return Ue.current.useTransition()},je.version="18.3.1",je}var wg;function Rf(){return wg||(wg=1,Rd.exports=Ww()),Rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function qw(){if(Eg)return Wa;Eg=1;var n=Rf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,I={},S=null,P=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(P=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(I[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)I[_]===void 0&&(I[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:P,props:I,_owner:o.current}}return Wa.Fragment=t,Wa.jsx=c,Wa.jsxs=c,Wa}var Tg;function Kw(){return Tg||(Tg=1,Sd.exports=qw()),Sd.exports}var H=Kw(),U=Rf();const it=Hw(U);var ju={},Cd={exports:{}},bn={},xd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function Gw(){return Ig||(Ig=1,function(n){function e(ae,Te){var de=ae.length;ae.push(Te);e:for(;0<de;){var B=de-1>>>1,Z=ae[B];if(0<o(Z,Te))ae[B]=Te,ae[de]=Z,de=B;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Te=ae[0],de=ae.pop();if(de!==Te){ae[0]=de;e:for(var B=0,Z=ae.length,we=Z>>>1;B<we;){var Le=2*(B+1)-1,De=ae[Le],Be=Le+1,Je=ae[Be];if(0>o(De,de))Be<Z&&0>o(Je,De)?(ae[B]=Je,ae[Be]=de,B=Be):(ae[B]=De,ae[Le]=de,B=Le);else if(Be<Z&&0>o(Je,de))ae[B]=Je,ae[Be]=de,B=Be;else break e}}return Te}function o(ae,Te){var de=ae.sortIndex-Te.sortIndex;return de!==0?de:ae.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,I=null,S=3,P=!1,O=!1,z=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ae){for(var Te=t(y);Te!==null;){if(Te.callback===null)i(y);else if(Te.startTime<=ae)i(y),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(y)}}function ne(ae){if(z=!1,Y(ae),!O)if(t(p)!==null)O=!0,_t(F);else{var Te=t(y);Te!==null&&Ue(ne,Te.startTime-ae)}}function F(ae,Te){O=!1,z&&(z=!1,N(T),T=-1),P=!0;var de=S;try{for(Y(Te),I=t(p);I!==null&&(!(I.expirationTime>Te)||ae&&!L());){var B=I.callback;if(typeof B=="function"){I.callback=null,S=I.priorityLevel;var Z=B(I.expirationTime<=Te);Te=n.unstable_now(),typeof Z=="function"?I.callback=Z:I===t(p)&&i(p),Y(Te)}else i(p);I=t(p)}if(I!==null)var we=!0;else{var Le=t(y);Le!==null&&Ue(ne,Le.startTime-Te),we=!1}return we}finally{I=null,S=de,P=!1}}var oe=!1,C=null,T=-1,R=5,A=-1;function L(){return!(n.unstable_now()-A<R)}function j(){if(C!==null){var ae=n.unstable_now();A=ae;var Te=!0;try{Te=C(!0,ae)}finally{Te?k():(oe=!1,C=null)}}else oe=!1}var k;if(typeof Q=="function")k=function(){Q(j)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ze=ht.port2;ht.port1.onmessage=j,k=function(){ze.postMessage(null)}}else k=function(){M(j,0)};function _t(ae){C=ae,oe||(oe=!0,k())}function Ue(ae,Te){T=M(function(){ae(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||P||(O=!0,_t(F))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var Te=3;break;default:Te=S}var de=S;S=Te;try{return ae()}finally{S=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=S;S=ae;try{return Te()}finally{S=de}},n.unstable_scheduleCallback=function(ae,Te,de){var B=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?B+de:B):de=B,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=de+Z,ae={id:_++,callback:Te,priorityLevel:ae,startTime:de,expirationTime:Z,sortIndex:-1},de>B?(ae.sortIndex=de,e(y,ae),t(p)===null&&ae===t(y)&&(z?(N(T),T=-1):z=!0,Ue(ne,de-B))):(ae.sortIndex=Z,e(p,ae),O||P||(O=!0,_t(F))),ae},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ae){var Te=S;return function(){var de=S;S=Te;try{return ae.apply(this,arguments)}finally{S=de}}}}(kd)),kd}var Sg;function Qw(){return Sg||(Sg=1,xd.exports=Gw()),xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function Yw(){if(Rg)return bn;Rg=1;var n=Rf(),e=Qw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},I={};function S(r){return p.call(I,r)?!0:p.call(_,r)?!1:y.test(r)?I[r]=!0:(_[r]=!0,!1)}function P(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||P(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,Q);M[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,Q);M[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,Q);M[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,a,h){var f=M.hasOwnProperty(s)?M[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,h)&&(a=null),h||f===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),oe=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,B;function Z(r){if(B===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var we=!1;function Le(r,s){if(!r||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,x=g.length-1;1<=w&&0<=x&&f[w]!==g[x];)x--;for(;1<=w&&0<=x;w--,x--)if(f[w]!==g[x]){if(w!==1||x!==1)do if(w--,x--,0>x||f[w]!==g[x]){var b=`
`+f[w].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=w&&0<=x);break}}}finally{we=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Z(r):""}function De(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case oe:return"Portal";case R:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case _t:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function Je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pt(r){var s=Me(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $n(r){r._valueTracker||(r._valueTracker=pt(r))}function Si(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Me(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gr(r,s){var a=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ri(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ci(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function ws(r,s){Ci(r,s);var a=Ze(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?xi(r,s.type,a):s.hasOwnProperty("defaultValue")&&xi(r,s.type,Ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function so(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function xi(r,s,a){(s!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Zn=Array.isArray;function qt(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ze(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function er(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Zn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ze(a)}}function Tr(r,s){var a=Ze(s.value),h=Ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function En(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ln,Es=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ln.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(r){Sr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ir[s]=Ir[r]})});function ki(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ir.hasOwnProperty(r)&&Ir[r]?(""+s).trim():s+"px"}function Ts(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ki(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Pi=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(r,s){if(s){if(Pi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ai(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function bi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yr=null,Tn=null,On=null;function nr(r){if(r=Aa(r)){if(typeof Yr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=tu(s),Yr(r.stateNode,r.type,s))}}function pn(r){Tn?On?On.push(r):On=[r]:Tn=r}function Is(){if(Tn){var r=Tn,s=On;if(On=Tn=null,nr(r),s)for(r=0;r<s.length;r++)nr(s[r])}}function Xr(r,s){return r(s)}function D(){}var $=!1;function X(r,s,a){if($)return r(s,a);$=!0;try{return Xr(r,s,a)}finally{$=!1,(Tn!==null||On!==null)&&(D(),Is())}}function ee(r,s){var a=r.stateNode;if(a===null)return null;var h=tu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var fe=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Re(r,s,a,h,f,g,w,x,b){var G=Array.prototype.slice.call(arguments,3);try{s.apply(a,G)}catch(ie){this.onError(ie)}}var pe=!1,_e=null,ue=!1,Pe=null,Ve={onError:function(r){pe=!0,_e=r}};function st(r,s,a,h,f,g,w,x,b){pe=!1,_e=null,Re.apply(Ve,arguments)}function Ct(r,s,a,h,f,g,w,x,b){if(st.apply(this,arguments),pe){if(pe){var G=_e;pe=!1,_e=null}else throw Error(t(198));ue||(ue=!0,Pe=G)}}function He(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function et(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ot(r){if(He(r)!==r)throw Error(t(188))}function rr(r){var s=r.alternate;if(!s){if(s=He(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ot(f),r;if(g===h)return ot(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,x=f.child;x;){if(x===a){w=!0,a=f,h=g;break}if(x===h){w=!0,h=f,a=g;break}x=x.sibling}if(!w){for(x=g.child;x;){if(x===a){w=!0,a=g,h=f;break}if(x===h){w=!0,h=g,a=f;break}x=x.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ir(r){return r=rr(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Gt=e.unstable_scheduleCallback,Jr=e.unstable_cancelCallback,Cr=e.unstable_shouldYield,sr=e.unstable_requestPaint,at=e.unstable_now,Zr=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,or=e.unstable_LowPriority,gt=e.unstable_IdlePriority,In=null,sn=null;function oo(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(In,r,void 0,(r.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Dl,pa=Math.log,Nl=Math.LN2;function Dl(r){return r>>>=0,r===0?32:31-(pa(r)/Nl|0)|0}var ao=64,lo=4194304;function Ni(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ss(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var x=w&~f;x!==0?h=Ni(x):(g&=w,g!==0&&(h=Ni(g)))}else w=a&~f,w!==0?h=Ni(w):g!==0&&(h=Ni(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-mn(s),f=1<<a,h|=r[a],s&=~f;return h}function eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-mn(g),x=1<<w,b=f[w];b===-1?(!(x&a)||x&h)&&(f[w]=eh(x,s)):b<=s&&(r.expiredLanes|=x),g&=~x}}function Mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Rs(){var r=ao;return ao<<=1,!(ao&4194240)&&(ao=64),r}function Di(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Li(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-mn(s),r[s]=a}function dt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-mn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Oi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-mn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var We=0;function Mi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ll,uo,Ol,Ml,Vl,ma=!1,xr=[],Yt=null,ar=null,lr=null,Vi=new Map,Hn=new Map,kr=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(r,s){switch(r){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(s.pointerId)}}function Sn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Aa(s),s!==null&&uo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function nh(r,s,a,h,f){switch(s){case"focusin":return Yt=Sn(Yt,r,s,a,h,f),!0;case"dragenter":return ar=Sn(ar,r,s,a,h,f),!0;case"mouseover":return lr=Sn(lr,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Vi.set(g,Sn(Vi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Hn.set(g,Sn(Hn.get(g)||null,r,s,a,h,f)),!0}return!1}function Ul(r){var s=As(r.target);if(s!==null){var a=He(s);if(a!==null){if(s=a.tag,s===13){if(s=et(a),s!==null){r.blockedOn=s,Vl(r.priority,function(){Ol(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ti(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=co(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);tr=h,a.target.dispatchEvent(h),tr=null}else return s=Aa(a),s!==null&&uo(s),r.blockedOn=a,!1;s.shift()}return!0}function Cs(r,s,a){ti(r)&&a.delete(s)}function jl(){ma=!1,Yt!==null&&ti(Yt)&&(Yt=null),ar!==null&&ti(ar)&&(ar=null),lr!==null&&ti(lr)&&(lr=null),Vi.forEach(Cs),Hn.forEach(Cs)}function ur(r,s){r.blockedOn===s&&(r.blockedOn=null,ma||(ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function cr(r){function s(f){return ur(f,r)}if(0<xr.length){ur(xr[0],r);for(var a=1;a<xr.length;a++){var h=xr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Yt!==null&&ur(Yt,r),ar!==null&&ur(ar,r),lr!==null&&ur(lr,r),Vi.forEach(s),Hn.forEach(s),a=0;a<kr.length;a++)h=kr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Ul(a),a.blockedOn===null&&kr.shift()}var ni=ne.ReactCurrentBatchConfig,Fi=!0;function wt(r,s,a,h){var f=We,g=ni.transition;ni.transition=null;try{We=1,ga(r,s,a,h)}finally{We=f,ni.transition=g}}function rh(r,s,a,h){var f=We,g=ni.transition;ni.transition=null;try{We=4,ga(r,s,a,h)}finally{We=f,ni.transition=g}}function ga(r,s,a,h){if(Fi){var f=co(r,s,a,h);if(f===null)ph(r,s,h,xs,a),Fl(r,h);else if(nh(f,r,s,a,h))h.stopPropagation();else if(Fl(r,h),s&4&&-1<th.indexOf(r)){for(;f!==null;){var g=Aa(f);if(g!==null&&Ll(g),g=co(r,s,a,h),g===null&&ph(r,s,h,xs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else ph(r,s,h,null,a)}}var xs=null;function co(r,s,a,h){if(xs=null,r=bi(h),r=As(r),r!==null)if(s=He(r),s===null)r=null;else if(a=s.tag,a===13){if(r=et(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xs=r,null}function ya(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zr()){case Ke:return 1;case mt:return 4;case Qt:case or:return 16;case gt:return 536870912;default:return 16}default:return 16}}var Vn=null,ho=null,Rn=null;function va(){if(Rn)return Rn;var r,s=ho,a=s.length,h,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return Rn=f.slice(r,1<h?1-h:void 0)}function fo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function _a(){return!1}function Xt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(a=r[x],this[x]=a?a(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pr:_a,this.isPropagationStopped=_a,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Xt(hr),Ar=de({},hr,{view:0,detail:0}),ih=Xt(Ar),mo,ri,Ui,ks=de({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(mo=r.screenX-Ui.screenX,ri=r.screenY-Ui.screenY):ri=mo=0,Ui=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:ri}}),go=Xt(ks),wa=de({},ks,{dataTransfer:0}),zl=Xt(wa),yo=de({},Ar,{relatedTarget:0}),vo=Xt(yo),Bl=de({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ii=Xt(Bl),$l=de({},hr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hl=Xt($l),Wl=de({},hr,{data:0}),Ea=Xt(Wl),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ql[r])?!!s[r]:!1}function br(){return Kl}var u=de({},Ar,{key:function(r){if(r.key){var s=_o[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=fo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(r){return r.type==="keypress"?fo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Xt(u),v=de({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Xt(v),W=de({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),J=Xt(W),ce=de({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Xt(ce),Ot=de({},ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Xt(Ot),jt=[9,13,27,32],Nt=d&&"CompositionEvent"in window,Wn=null;d&&"documentMode"in document&&(Wn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Wn,Ps=d&&(!Nt||Wn&&8<Wn&&11>=Wn),wo=" ",fp=!1;function pp(r,s){switch(r){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Eo=!1;function B_(r,s){switch(r){case"compositionend":return mp(s);case"keypress":return s.which!==32?null:(fp=!0,wo);case"textInput":return r=s.data,r===wo&&fp?null:r;default:return null}}function $_(r,s){if(Eo)return r==="compositionend"||!Nt&&pp(r,s)?(r=va(),Rn=ho=Vn=null,Eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ps&&s.locale!=="ko"?null:s.data;default:return null}}var H_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!H_[r.type]:s==="textarea"}function yp(r,s,a,h){pn(h),s=Jl(s,"onChange"),0<s.length&&(a=new po("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ta=null,Ia=null;function W_(r){Op(r,0)}function Gl(r){var s=Co(r);if(Si(s))return r}function q_(r,s){if(r==="change")return s}var vp=!1;if(d){var sh;if(d){var oh="oninput"in document;if(!oh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),oh=typeof _p.oninput=="function"}sh=oh}else sh=!1;vp=sh&&(!document.documentMode||9<document.documentMode)}function wp(){Ta&&(Ta.detachEvent("onpropertychange",Ep),Ia=Ta=null)}function Ep(r){if(r.propertyName==="value"&&Gl(Ia)){var s=[];yp(s,Ia,r,bi(r)),X(W_,s)}}function K_(r,s,a){r==="focusin"?(wp(),Ta=s,Ia=a,Ta.attachEvent("onpropertychange",Ep)):r==="focusout"&&wp()}function G_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gl(Ia)}function Q_(r,s){if(r==="click")return Gl(s)}function Y_(r,s){if(r==="input"||r==="change")return Gl(s)}function X_(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:X_;function Sa(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!dr(r[f],s[f]))return!1}return!0}function Tp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ip(r,s){var a=Tp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tp(a)}}function Sp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Sp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Rp(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=nn(r.document)}return s}function ah(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function J_(r){var s=Rp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Sp(a.ownerDocument.documentElement,a)){if(h!==null&&ah(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Ip(a,g);var w=Ip(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Z_=d&&"documentMode"in document&&11>=document.documentMode,To=null,lh=null,Ra=null,uh=!1;function Cp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||To==null||To!==nn(h)||(h=To,"selectionStart"in h&&ah(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ra&&Sa(Ra,h)||(Ra=h,h=Jl(lh,"onSelect"),0<h.length&&(s=new po("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=To)))}function Ql(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Io={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},ch={},xp={};d&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Yl(r){if(ch[r])return ch[r];if(!Io[r])return r;var s=Io[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in xp)return ch[r]=s[a];return r}var kp=Yl("animationend"),Pp=Yl("animationiteration"),Ap=Yl("animationstart"),bp=Yl("transitionend"),Np=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(r,s){Np.set(r,s),l(s,[r])}for(var hh=0;hh<Dp.length;hh++){var dh=Dp[hh],ew=dh.toLowerCase(),tw=dh[0].toUpperCase()+dh.slice(1);ji(ew,"on"+tw)}ji(kp,"onAnimationEnd"),ji(Pp,"onAnimationIteration"),ji(Ap,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(bp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Lp(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ct(h,s,void 0,r),r.currentTarget=null}function Op(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var x=h[w],b=x.instance,G=x.currentTarget;if(x=x.listener,b!==g&&f.isPropagationStopped())break e;Lp(f,x,G),g=b}else for(w=0;w<h.length;w++){if(x=h[w],b=x.instance,G=x.currentTarget,x=x.listener,b!==g&&f.isPropagationStopped())break e;Lp(f,x,G),g=b}}}if(ue)throw r=Pe,ue=!1,Pe=null,r}function yt(r,s){var a=s[wh];a===void 0&&(a=s[wh]=new Set);var h=r+"__bubble";a.has(h)||(Mp(s,r,2,!1),a.add(h))}function fh(r,s,a){var h=0;s&&(h|=4),Mp(a,r,h,s)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function xa(r){if(!r[Xl]){r[Xl]=!0,i.forEach(function(a){a!=="selectionchange"&&(nw.has(a)||fh(a,!1,r),fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xl]||(s[Xl]=!0,fh("selectionchange",!1,s))}}function Mp(r,s,a,h){switch(ya(s)){case 1:var f=wt;break;case 4:f=rh;break;default:f=ga}a=f.bind(null,s,a,r),f=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function ph(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var x=h.stateNode.containerInfo;if(x===f||x.nodeType===8&&x.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;w=w.return}for(;x!==null;){if(w=As(x),w===null)return;if(b=w.tag,b===5||b===6){h=g=w;continue e}x=x.parentNode}}h=h.return}X(function(){var G=g,ie=bi(a),se=[];e:{var re=Np.get(r);if(re!==void 0){var me=po,Ee=r;switch(r){case"keypress":if(fo(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Ee="focus",me=vo;break;case"focusout":Ee="blur",me=vo;break;case"beforeblur":case"afterblur":me=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case kp:case Pp:case Ap:me=ii;break;case bp:me=ct;break;case"scroll":me=ih;break;case"wheel":me=Ge;break;case"copy":case"cut":case"paste":me=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=E}var Ie=(s&4)!==0,Pt=!Ie&&r==="scroll",q=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var V=G,K;V!==null;){K=V;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,q!==null&&(le=ee(V,q),le!=null&&Ie.push(ka(V,le,K)))),Pt)break;V=V.return}0<Ie.length&&(re=new me(re,Ee,null,a,ie),se.push({event:re,listeners:Ie}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",re&&a!==tr&&(Ee=a.relatedTarget||a.fromElement)&&(As(Ee)||Ee[si]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(Ee=a.relatedTarget||a.toElement,me=G,Ee=Ee?As(Ee):null,Ee!==null&&(Pt=He(Ee),Ee!==Pt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=G),me!==Ee)){if(Ie=go,le="onMouseLeave",q="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=E,le="onPointerLeave",q="onPointerEnter",V="pointer"),Pt=me==null?re:Co(me),K=Ee==null?re:Co(Ee),re=new Ie(le,V+"leave",me,a,ie),re.target=Pt,re.relatedTarget=K,le=null,As(ie)===G&&(Ie=new Ie(q,V+"enter",Ee,a,ie),Ie.target=K,Ie.relatedTarget=Pt,le=Ie),Pt=le,me&&Ee)t:{for(Ie=me,q=Ee,V=0,K=Ie;K;K=So(K))V++;for(K=0,le=q;le;le=So(le))K++;for(;0<V-K;)Ie=So(Ie),V--;for(;0<K-V;)q=So(q),K--;for(;V--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=So(Ie),q=So(q)}Ie=null}else Ie=null;me!==null&&Vp(se,re,me,Ie,!1),Ee!==null&&Pt!==null&&Vp(se,Pt,Ee,Ie,!0)}}e:{if(re=G?Co(G):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Se=q_;else if(gp(re))if(vp)Se=Y_;else{Se=G_;var Ce=K_}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Se=Q_);if(Se&&(Se=Se(r,G))){yp(se,Se,a,ie);break e}Ce&&Ce(r,re,G),r==="focusout"&&(Ce=re._wrapperState)&&Ce.controlled&&re.type==="number"&&xi(re,"number",re.value)}switch(Ce=G?Co(G):window,r){case"focusin":(gp(Ce)||Ce.contentEditable==="true")&&(To=Ce,lh=G,Ra=null);break;case"focusout":Ra=lh=To=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Cp(se,a,ie);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Cp(se,a,ie)}var xe;if(Nt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Eo?pp(r,a)&&(Ne="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ps&&a.locale!=="ko"&&(Eo||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Eo&&(xe=va()):(Vn=ie,ho="value"in Vn?Vn.value:Vn.textContent,Eo=!0)),Ce=Jl(G,Ne),0<Ce.length&&(Ne=new Ea(Ne,r,null,a,ie),se.push({event:Ne,listeners:Ce}),xe?Ne.data=xe:(xe=mp(a),xe!==null&&(Ne.data=xe)))),(xe=Fn?B_(r,a):$_(r,a))&&(G=Jl(G,"onBeforeInput"),0<G.length&&(ie=new Ea("onBeforeInput","beforeinput",null,a,ie),se.push({event:ie,listeners:G}),ie.data=xe))}Op(se,s)})}function ka(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Jl(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ee(r,a),g!=null&&h.unshift(ka(r,g,f)),g=ee(r,s),g!=null&&h.push(ka(r,g,f))),r=r.return}return h}function So(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vp(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var x=a,b=x.alternate,G=x.stateNode;if(b!==null&&b===h)break;x.tag===5&&G!==null&&(x=G,f?(b=ee(a,g),b!=null&&w.unshift(ka(a,b,x))):f||(b=ee(a,g),b!=null&&w.push(ka(a,b,x)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var rw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function Fp(r){return(typeof r=="string"?r:""+r).replace(rw,`
`).replace(iw,"")}function Zl(r,s,a){if(s=Fp(s),Fp(r)!==s&&a)throw Error(t(425))}function eu(){}var mh=null,gh=null;function yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(r){return Up.resolve(null).then(r).catch(aw)}:vh;function aw(r){setTimeout(function(){throw r})}function _h(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),cr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);cr(s)}function zi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function jp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Ro,Pa="__reactProps$"+Ro,si="__reactContainer$"+Ro,wh="__reactEvents$"+Ro,lw="__reactListeners$"+Ro,uw="__reactHandles$"+Ro;function As(r){var s=r[Nr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[si]||a[Nr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=jp(r);r!==null;){if(a=r[Nr])return a;r=jp(r)}return s}r=a,a=r.parentNode}return null}function Aa(r){return r=r[Nr]||r[si],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function tu(r){return r[Pa]||null}var Eh=[],xo=-1;function Bi(r){return{current:r}}function vt(r){0>xo||(r.current=Eh[xo],Eh[xo]=null,xo--)}function ft(r,s){xo++,Eh[xo]=r.current,r.current=s}var $i={},on=Bi($i),Cn=Bi(!1),bs=$i;function ko(r,s){var a=r.type.contextTypes;if(!a)return $i;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function xn(r){return r=r.childContextTypes,r!=null}function nu(){vt(Cn),vt(on)}function zp(r,s,a){if(on.current!==$i)throw Error(t(168));ft(on,s),ft(Cn,a)}function Bp(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Je(r)||"Unknown",f));return de({},a,h)}function ru(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||$i,bs=on.current,ft(on,r),ft(Cn,Cn.current),!0}function $p(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Bp(r,s,bs),h.__reactInternalMemoizedMergedChildContext=r,vt(Cn),vt(on),ft(on,r)):vt(Cn),ft(Cn,a)}var oi=null,iu=!1,Th=!1;function Hp(r){oi===null?oi=[r]:oi.push(r)}function cw(r){iu=!0,Hp(r)}function Hi(){if(!Th&&oi!==null){Th=!0;var r=0,s=We;try{var a=oi;for(We=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}oi=null,iu=!1}catch(f){throw oi!==null&&(oi=oi.slice(r+1)),Gt(Ke,Hi),f}finally{We=s,Th=!1}}return null}var Po=[],Ao=0,su=null,ou=0,qn=[],Kn=0,Ns=null,ai=1,li="";function Ds(r,s){Po[Ao++]=ou,Po[Ao++]=su,su=r,ou=s}function Wp(r,s,a){qn[Kn++]=ai,qn[Kn++]=li,qn[Kn++]=Ns,Ns=r;var h=ai;r=li;var f=32-mn(h)-1;h&=~(1<<f),a+=1;var g=32-mn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,ai=1<<32-mn(s)+f|a<<f|h,li=g+r}else ai=1<<g|a<<f|h,li=r}function Ih(r){r.return!==null&&(Ds(r,1),Wp(r,1,0))}function Sh(r){for(;r===su;)su=Po[--Ao],Po[Ao]=null,ou=Po[--Ao],Po[Ao]=null;for(;r===Ns;)Ns=qn[--Kn],qn[Kn]=null,li=qn[--Kn],qn[Kn]=null,ai=qn[--Kn],qn[Kn]=null}var Un=null,jn=null,Et=!1,fr=null;function qp(r,s){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Kp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Un=r,jn=zi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Un=r,jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ns!==null?{id:ai,overflow:li}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Un=r,jn=null,!0):!1;default:return!1}}function Rh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ch(r){if(Et){var s=jn;if(s){var a=s;if(!Kp(r,s)){if(Rh(r))throw Error(t(418));s=zi(a.nextSibling);var h=Un;s&&Kp(r,s)?qp(h,a):(r.flags=r.flags&-4097|2,Et=!1,Un=r)}}else{if(Rh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Et=!1,Un=r}}}function Gp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Un=r}function au(r){if(r!==Un)return!1;if(!Et)return Gp(r),Et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yh(r.type,r.memoizedProps)),s&&(s=jn)){if(Rh(r))throw Qp(),Error(t(418));for(;s;)qp(r,s),s=zi(s.nextSibling)}if(Gp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){jn=zi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}jn=null}}else jn=Un?zi(r.stateNode.nextSibling):null;return!0}function Qp(){for(var r=jn;r;)r=zi(r.nextSibling)}function bo(){jn=Un=null,Et=!1}function xh(r){fr===null?fr=[r]:fr.push(r)}var hw=ne.ReactCurrentBatchConfig;function ba(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var x=f.refs;w===null?delete x[g]:x[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function lu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Yp(r){var s=r._init;return s(r._payload)}function Xp(r){function s(q,V){if(r){var K=q.deletions;K===null?(q.deletions=[V],q.flags|=16):K.push(V)}}function a(q,V){if(!r)return null;for(;V!==null;)s(q,V),V=V.sibling;return null}function h(q,V){for(q=new Map;V!==null;)V.key!==null?q.set(V.key,V):q.set(V.index,V),V=V.sibling;return q}function f(q,V){return q=Ji(q,V),q.index=0,q.sibling=null,q}function g(q,V,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<V?(q.flags|=2,V):K):(q.flags|=2,V)):(q.flags|=1048576,V)}function w(q){return r&&q.alternate===null&&(q.flags|=2),q}function x(q,V,K,le){return V===null||V.tag!==6?(V=vd(K,q.mode,le),V.return=q,V):(V=f(V,K),V.return=q,V)}function b(q,V,K,le){var Se=K.type;return Se===C?ie(q,V,K.props.children,le,K.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===_t&&Yp(Se)===V.type)?(le=f(V,K.props),le.ref=ba(q,V,K),le.return=q,le):(le=Nu(K.type,K.key,K.props,null,q.mode,le),le.ref=ba(q,V,K),le.return=q,le)}function G(q,V,K,le){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=_d(K,q.mode,le),V.return=q,V):(V=f(V,K.children||[]),V.return=q,V)}function ie(q,V,K,le,Se){return V===null||V.tag!==7?(V=zs(K,q.mode,le,Se),V.return=q,V):(V=f(V,K),V.return=q,V)}function se(q,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return V=vd(""+V,q.mode,K),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return K=Nu(V.type,V.key,V.props,null,q.mode,K),K.ref=ba(q,null,V),K.return=q,K;case oe:return V=_d(V,q.mode,K),V.return=q,V;case _t:var le=V._init;return se(q,le(V._payload),K)}if(Zn(V)||Te(V))return V=zs(V,q.mode,K,null),V.return=q,V;lu(q,V)}return null}function re(q,V,K,le){var Se=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Se!==null?null:x(q,V,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return K.key===Se?b(q,V,K,le):null;case oe:return K.key===Se?G(q,V,K,le):null;case _t:return Se=K._init,re(q,V,Se(K._payload),le)}if(Zn(K)||Te(K))return Se!==null?null:ie(q,V,K,le,null);lu(q,K)}return null}function me(q,V,K,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(K)||null,x(V,q,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case F:return q=q.get(le.key===null?K:le.key)||null,b(V,q,le,Se);case oe:return q=q.get(le.key===null?K:le.key)||null,G(V,q,le,Se);case _t:var Ce=le._init;return me(q,V,K,Ce(le._payload),Se)}if(Zn(le)||Te(le))return q=q.get(K)||null,ie(V,q,le,Se,null);lu(V,le)}return null}function Ee(q,V,K,le){for(var Se=null,Ce=null,xe=V,Ne=V=0,$t=null;xe!==null&&Ne<K.length;Ne++){xe.index>Ne?($t=xe,xe=null):$t=xe.sibling;var rt=re(q,xe,K[Ne],le);if(rt===null){xe===null&&(xe=$t);break}r&&xe&&rt.alternate===null&&s(q,xe),V=g(rt,V,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt,xe=$t}if(Ne===K.length)return a(q,xe),Et&&Ds(q,Ne),Se;if(xe===null){for(;Ne<K.length;Ne++)xe=se(q,K[Ne],le),xe!==null&&(V=g(xe,V,Ne),Ce===null?Se=xe:Ce.sibling=xe,Ce=xe);return Et&&Ds(q,Ne),Se}for(xe=h(q,xe);Ne<K.length;Ne++)$t=me(xe,q,Ne,K[Ne],le),$t!==null&&(r&&$t.alternate!==null&&xe.delete($t.key===null?Ne:$t.key),V=g($t,V,Ne),Ce===null?Se=$t:Ce.sibling=$t,Ce=$t);return r&&xe.forEach(function(Zi){return s(q,Zi)}),Et&&Ds(q,Ne),Se}function Ie(q,V,K,le){var Se=Te(K);if(typeof Se!="function")throw Error(t(150));if(K=Se.call(K),K==null)throw Error(t(151));for(var Ce=Se=null,xe=V,Ne=V=0,$t=null,rt=K.next();xe!==null&&!rt.done;Ne++,rt=K.next()){xe.index>Ne?($t=xe,xe=null):$t=xe.sibling;var Zi=re(q,xe,rt.value,le);if(Zi===null){xe===null&&(xe=$t);break}r&&xe&&Zi.alternate===null&&s(q,xe),V=g(Zi,V,Ne),Ce===null?Se=Zi:Ce.sibling=Zi,Ce=Zi,xe=$t}if(rt.done)return a(q,xe),Et&&Ds(q,Ne),Se;if(xe===null){for(;!rt.done;Ne++,rt=K.next())rt=se(q,rt.value,le),rt!==null&&(V=g(rt,V,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt);return Et&&Ds(q,Ne),Se}for(xe=h(q,xe);!rt.done;Ne++,rt=K.next())rt=me(xe,q,Ne,rt.value,le),rt!==null&&(r&&rt.alternate!==null&&xe.delete(rt.key===null?Ne:rt.key),V=g(rt,V,Ne),Ce===null?Se=rt:Ce.sibling=rt,Ce=rt);return r&&xe.forEach(function($w){return s(q,$w)}),Et&&Ds(q,Ne),Se}function Pt(q,V,K,le){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case F:e:{for(var Se=K.key,Ce=V;Ce!==null;){if(Ce.key===Se){if(Se=K.type,Se===C){if(Ce.tag===7){a(q,Ce.sibling),V=f(Ce,K.props.children),V.return=q,q=V;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===_t&&Yp(Se)===Ce.type){a(q,Ce.sibling),V=f(Ce,K.props),V.ref=ba(q,Ce,K),V.return=q,q=V;break e}a(q,Ce);break}else s(q,Ce);Ce=Ce.sibling}K.type===C?(V=zs(K.props.children,q.mode,le,K.key),V.return=q,q=V):(le=Nu(K.type,K.key,K.props,null,q.mode,le),le.ref=ba(q,V,K),le.return=q,q=le)}return w(q);case oe:e:{for(Ce=K.key;V!==null;){if(V.key===Ce)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){a(q,V.sibling),V=f(V,K.children||[]),V.return=q,q=V;break e}else{a(q,V);break}else s(q,V);V=V.sibling}V=_d(K,q.mode,le),V.return=q,q=V}return w(q);case _t:return Ce=K._init,Pt(q,V,Ce(K._payload),le)}if(Zn(K))return Ee(q,V,K,le);if(Te(K))return Ie(q,V,K,le);lu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,V!==null&&V.tag===6?(a(q,V.sibling),V=f(V,K),V.return=q,q=V):(a(q,V),V=vd(K,q.mode,le),V.return=q,q=V),w(q)):a(q,V)}return Pt}var No=Xp(!0),Jp=Xp(!1),uu=Bi(null),cu=null,Do=null,kh=null;function Ph(){kh=Do=cu=null}function Ah(r){var s=uu.current;vt(uu),r._currentValue=s}function bh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Lo(r,s){cu=r,kh=Do=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(kn=!0),r.firstContext=null)}function Gn(r){var s=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:s,next:null},Do===null){if(cu===null)throw Error(t(308));Do=r,cu.dependencies={lanes:0,firstContext:r}}else Do=Do.next=r;return s}var Ls=null;function Nh(r){Ls===null?Ls=[r]:Ls.push(r)}function Zp(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,Nh(s)):(a.next=f.next,f.next=a),s.interleaved=a,ui(r,h)}function ui(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Wi=!1;function Dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ci(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function qi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,tt&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,ui(r,a)}return f=h.interleaved,f===null?(s.next=s,Nh(h)):(s.next=f.next,f.next=s),h.interleaved=s,ui(r,a)}function hu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Oi(r,a)}}function tm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function du(r,s,a,h){var f=r.updateQueue;Wi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var b=x,G=b.next;b.next=null,w===null?g=G:w.next=G,w=b;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==w&&(x===null?ie.firstBaseUpdate=G:x.next=G,ie.lastBaseUpdate=b))}if(g!==null){var se=f.baseState;w=0,ie=G=b=null,x=g;do{var re=x.lane,me=x.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Ee=r,Ie=x;switch(re=s,me=a,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){se=Ee.call(me,se,re);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,re=typeof Ee=="function"?Ee.call(me,se,re):Ee,re==null)break e;se=de({},se,re);break e;case 2:Wi=!0}}x.callback!==null&&x.lane!==0&&(r.flags|=64,re=f.effects,re===null?f.effects=[x]:re.push(x))}else me={eventTime:me,lane:re,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(G=ie=me,b=se):ie=ie.next=me,w|=re;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;re=x,x=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);if(ie===null&&(b=se),f.baseState=b,f.firstBaseUpdate=G,f.lastBaseUpdate=ie,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Vs|=w,r.lanes=w,r.memoizedState=se}}function nm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Na={},Dr=Bi(Na),Da=Bi(Na),La=Bi(Na);function Os(r){if(r===Na)throw Error(t(174));return r}function Lh(r,s){switch(ft(La,s),ft(Da,r),ft(Dr,Na),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Rt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Rt(s,r)}vt(Dr),ft(Dr,s)}function Oo(){vt(Dr),vt(Da),vt(La)}function rm(r){Os(La.current);var s=Os(Dr.current),a=Rt(s,r.type);s!==a&&(ft(Da,r),ft(Dr,a))}function Oh(r){Da.current===r&&(vt(Dr),vt(Da))}var Tt=Bi(0);function fu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mh=[];function Vh(){for(var r=0;r<Mh.length;r++)Mh[r]._workInProgressVersionPrimary=null;Mh.length=0}var pu=ne.ReactCurrentDispatcher,Fh=ne.ReactCurrentBatchConfig,Ms=0,It=null,Mt=null,zt=null,mu=!1,Oa=!1,Ma=0,dw=0;function an(){throw Error(t(321))}function Uh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!dr(r[a],s[a]))return!1;return!0}function jh(r,s,a,h,f,g){if(Ms=g,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,pu.current=r===null||r.memoizedState===null?gw:yw,r=a(h,f),Oa){g=0;do{if(Oa=!1,Ma=0,25<=g)throw Error(t(301));g+=1,zt=Mt=null,s.updateQueue=null,pu.current=vw,r=a(h,f)}while(Oa)}if(pu.current=vu,s=Mt!==null&&Mt.next!==null,Ms=0,zt=Mt=It=null,mu=!1,s)throw Error(t(300));return r}function zh(){var r=Ma!==0;return Ma=0,r}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?It.memoizedState=zt=r:zt=zt.next=r,zt}function Qn(){if(Mt===null){var r=It.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var s=zt===null?It.memoizedState:zt.next;if(s!==null)zt=s,Mt=r;else{if(r===null)throw Error(t(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?It.memoizedState=zt=r:zt=zt.next=r}return zt}function Va(r,s){return typeof s=="function"?s(r):s}function Bh(r){var s=Qn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Mt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var x=w=null,b=null,G=g;do{var ie=G.lane;if((Ms&ie)===ie)b!==null&&(b=b.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var se={lane:ie,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};b===null?(x=b=se,w=h):b=b.next=se,It.lanes|=ie,Vs|=ie}G=G.next}while(G!==null&&G!==g);b===null?w=h:b.next=x,dr(h,s.memoizedState)||(kn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=b,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,It.lanes|=g,Vs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function $h(r){var s=Qn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);dr(g,s.memoizedState)||(kn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function im(){}function sm(r,s){var a=It,h=Qn(),f=s(),g=!dr(h.memoizedState,f);if(g&&(h.memoizedState=f,kn=!0),h=h.queue,Hh(lm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,Fa(9,am.bind(null,a,h,f,s),void 0,null),Bt===null)throw Error(t(349));Ms&30||om(a,s,f)}return f}function om(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function am(r,s,a,h){s.value=a,s.getSnapshot=h,um(s)&&cm(r)}function lm(r,s,a){return a(function(){um(s)&&cm(r)})}function um(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!dr(r,a)}catch{return!0}}function cm(r){var s=ui(r,1);s!==null&&yr(s,r,1,-1)}function hm(r){var s=Lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:r},s.queue=r,r=r.dispatch=mw.bind(null,It,r),[s.memoizedState,r]}function Fa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function dm(){return Qn().memoizedState}function gu(r,s,a,h){var f=Lr();It.flags|=r,f.memoizedState=Fa(1|s,a,void 0,h===void 0?null:h)}function yu(r,s,a,h){var f=Qn();h=h===void 0?null:h;var g=void 0;if(Mt!==null){var w=Mt.memoizedState;if(g=w.destroy,h!==null&&Uh(h,w.deps)){f.memoizedState=Fa(s,a,g,h);return}}It.flags|=r,f.memoizedState=Fa(1|s,a,g,h)}function fm(r,s){return gu(8390656,8,r,s)}function Hh(r,s){return yu(2048,8,r,s)}function pm(r,s){return yu(4,2,r,s)}function mm(r,s){return yu(4,4,r,s)}function gm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ym(r,s,a){return a=a!=null?a.concat([r]):null,yu(4,4,gm.bind(null,s,r),a)}function Wh(){}function vm(r,s){var a=Qn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function _m(r,s){var a=Qn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function wm(r,s,a){return Ms&21?(dr(a,s)||(a=Rs(),It.lanes|=a,Vs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,kn=!0),r.memoizedState=a)}function fw(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var h=Fh.transition;Fh.transition={};try{r(!1),s()}finally{We=a,Fh.transition=h}}function Em(){return Qn().memoizedState}function pw(r,s,a){var h=Yi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Tm(r))Im(s,a);else if(a=Zp(r,s,a,h),a!==null){var f=vn();yr(a,r,h,f),Sm(a,s,h)}}function mw(r,s,a){var h=Yi(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tm(r))Im(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,x=g(w,a);if(f.hasEagerState=!0,f.eagerState=x,dr(x,w)){var b=s.interleaved;b===null?(f.next=f,Nh(s)):(f.next=b.next,b.next=f),s.interleaved=f;return}}catch{}finally{}a=Zp(r,s,f,h),a!==null&&(f=vn(),yr(a,r,h,f),Sm(a,s,h))}}function Tm(r){var s=r.alternate;return r===It||s!==null&&s===It}function Im(r,s){Oa=mu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Sm(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Oi(r,a)}}var vu={readContext:Gn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},gw={readContext:Gn,useCallback:function(r,s){return Lr().memoizedState=[r,s===void 0?null:s],r},useContext:Gn,useEffect:fm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,gu(4194308,4,gm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return gu(4194308,4,r,s)},useInsertionEffect:function(r,s){return gu(4,2,r,s)},useMemo:function(r,s){var a=Lr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Lr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=pw.bind(null,It,r),[h.memoizedState,r]},useRef:function(r){var s=Lr();return r={current:r},s.memoizedState=r},useState:hm,useDebugValue:Wh,useDeferredValue:function(r){return Lr().memoizedState=r},useTransition:function(){var r=hm(!1),s=r[0];return r=fw.bind(null,r[1]),Lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=It,f=Lr();if(Et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Bt===null)throw Error(t(349));Ms&30||om(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,fm(lm.bind(null,h,g,r),[r]),h.flags|=2048,Fa(9,am.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Lr(),s=Bt.identifierPrefix;if(Et){var a=li,h=ai;a=(h&~(1<<32-mn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ma++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=dw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},yw={readContext:Gn,useCallback:vm,useContext:Gn,useEffect:Hh,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:Bh,useRef:dm,useState:function(){return Bh(Va)},useDebugValue:Wh,useDeferredValue:function(r){var s=Qn();return wm(s,Mt.memoizedState,r)},useTransition:function(){var r=Bh(Va)[0],s=Qn().memoizedState;return[r,s]},useMutableSource:im,useSyncExternalStore:sm,useId:Em,unstable_isNewReconciler:!1},vw={readContext:Gn,useCallback:vm,useContext:Gn,useEffect:Hh,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:$h,useRef:dm,useState:function(){return $h(Va)},useDebugValue:Wh,useDeferredValue:function(r){var s=Qn();return Mt===null?s.memoizedState=r:wm(s,Mt.memoizedState,r)},useTransition:function(){var r=$h(Va)[0],s=Qn().memoizedState;return[r,s]},useMutableSource:im,useSyncExternalStore:sm,useId:Em,unstable_isNewReconciler:!1};function pr(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function qh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:de({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var _u={isMounted:function(r){return(r=r._reactInternals)?He(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=vn(),f=Yi(r),g=ci(h,f);g.payload=s,a!=null&&(g.callback=a),s=qi(r,g,f),s!==null&&(yr(s,r,f,h),hu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=vn(),f=Yi(r),g=ci(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=qi(r,g,f),s!==null&&(yr(s,r,f,h),hu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vn(),h=Yi(r),f=ci(a,h);f.tag=2,s!=null&&(f.callback=s),s=qi(r,f,h),s!==null&&(yr(s,r,h,a),hu(s,r,h))}};function Rm(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,h)||!Sa(f,g):!0}function Cm(r,s,a){var h=!1,f=$i,g=s.contextType;return typeof g=="object"&&g!==null?g=Gn(g):(f=xn(s)?bs:on.current,h=s.contextTypes,g=(h=h!=null)?ko(r,f):$i),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_u,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function xm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&_u.enqueueReplaceState(s,s.state,null)}function Kh(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Dh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Gn(g):(g=xn(s)?bs:on.current,f.context=ko(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(qh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&_u.enqueueReplaceState(f,f.state,null),du(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Mo(r,s){try{var a="",h=s;do a+=De(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Gh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Qh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var _w=typeof WeakMap=="function"?WeakMap:Map;function km(r,s,a){a=ci(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Cu||(Cu=!0,cd=h),Qh(r,s)},a}function Pm(r,s,a){a=ci(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Qh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Qh(r,s),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Am(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new _w;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=Dw.bind(null,r,s,a),s.then(r,r))}function bm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Nm(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ci(-1,1),s.tag=2,qi(a,s,1))),a.lanes|=1),r)}var ww=ne.ReactCurrentOwner,kn=!1;function yn(r,s,a,h){s.child=r===null?Jp(s,null,a,h):No(s,r.child,a,h)}function Dm(r,s,a,h,f){a=a.render;var g=s.ref;return Lo(s,f),h=jh(r,s,a,h,g,f),a=zh(),r!==null&&!kn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,hi(r,s,f)):(Et&&a&&Ih(s),s.flags|=1,yn(r,s,h,f),s.child)}function Lm(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!yd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Om(r,s,g,h,f)):(r=Nu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(w,h)&&r.ref===s.ref)return hi(r,s,f)}return s.flags|=1,r=Ji(g,h),r.ref=s.ref,r.return=s,s.child=r}function Om(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Sa(g,h)&&r.ref===s.ref)if(kn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(kn=!0);else return s.lanes=r.lanes,hi(r,s,f)}return Yh(r,s,a,h,f)}function Mm(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Fo,zn),zn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ft(Fo,zn),zn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,ft(Fo,zn),zn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,ft(Fo,zn),zn|=h;return yn(r,s,f,a),s.child}function Vm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Yh(r,s,a,h,f){var g=xn(a)?bs:on.current;return g=ko(s,g),Lo(s,f),a=jh(r,s,a,h,g,f),h=zh(),r!==null&&!kn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,hi(r,s,f)):(Et&&h&&Ih(s),s.flags|=1,yn(r,s,a,f),s.child)}function Fm(r,s,a,h,f){if(xn(a)){var g=!0;ru(s)}else g=!1;if(Lo(s,f),s.stateNode===null)Eu(r,s),Cm(s,a,h),Kh(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,x=s.memoizedProps;w.props=x;var b=w.context,G=a.contextType;typeof G=="object"&&G!==null?G=Gn(G):(G=xn(a)?bs:on.current,G=ko(s,G));var ie=a.getDerivedStateFromProps,se=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(x!==h||b!==G)&&xm(s,w,h,G),Wi=!1;var re=s.memoizedState;w.state=re,du(s,h,w,f),b=s.memoizedState,x!==h||re!==b||Cn.current||Wi?(typeof ie=="function"&&(qh(s,a,ie,h),b=s.memoizedState),(x=Wi||Rm(s,a,x,h,re,b,G))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),w.props=h,w.state=b,w.context=G,h=x):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,em(r,s),x=s.memoizedProps,G=s.type===s.elementType?x:pr(s.type,x),w.props=G,se=s.pendingProps,re=w.context,b=a.contextType,typeof b=="object"&&b!==null?b=Gn(b):(b=xn(a)?bs:on.current,b=ko(s,b));var me=a.getDerivedStateFromProps;(ie=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(x!==se||re!==b)&&xm(s,w,h,b),Wi=!1,re=s.memoizedState,w.state=re,du(s,h,w,f);var Ee=s.memoizedState;x!==se||re!==Ee||Cn.current||Wi?(typeof me=="function"&&(qh(s,a,me,h),Ee=s.memoizedState),(G=Wi||Rm(s,a,G,h,re,Ee,b)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ee,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ee,b)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||x===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ee),w.props=h,w.state=Ee,w.context=b,h=G):(typeof w.componentDidUpdate!="function"||x===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return Xh(r,s,a,h,g,f)}function Xh(r,s,a,h,f,g){Vm(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&$p(s,a,!1),hi(r,s,g);h=s.stateNode,ww.current=s;var x=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=No(s,r.child,null,g),s.child=No(s,null,x,g)):yn(r,s,x,g),s.memoizedState=h.state,f&&$p(s,a,!0),s.child}function Um(r){var s=r.stateNode;s.pendingContext?zp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&zp(r,s.context,!1),Lh(r,s.containerInfo)}function jm(r,s,a,h,f){return bo(),xh(f),s.flags|=256,yn(r,s,a,h),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function zm(r,s,a){var h=s.pendingProps,f=Tt.current,g=!1,w=(s.flags&128)!==0,x;if((x=w)||(x=r!==null&&r.memoizedState===null?!1:(f&2)!==0),x?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ft(Tt,f&1),r===null)return Ch(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Du(w,h,0,null),r=zs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Zh(a),s.memoizedState=Jh,r):ed(s,w));if(f=r.memoizedState,f!==null&&(x=f.dehydrated,x!==null))return Ew(r,s,w,h,x,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,x=f.sibling;var b={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=Ji(f,b),h.subtreeFlags=f.subtreeFlags&14680064),x!==null?g=Ji(x,g):(g=zs(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Zh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Jh,h}return g=r.child,r=g.sibling,h=Ji(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function ed(r,s){return s=Du({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function wu(r,s,a,h){return h!==null&&xh(h),No(s,r.child,null,a),r=ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ew(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Gh(Error(t(422))),wu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Du({mode:"visible",children:h.children},f,0,null),g=zs(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&No(s,r.child,null,w),s.child.memoizedState=Zh(w),s.memoizedState=Jh,g);if(!(s.mode&1))return wu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var x=h.dgst;return h=x,g=Error(t(419)),h=Gh(g,h,void 0),wu(r,s,w,h)}if(x=(w&r.childLanes)!==0,kn||x){if(h=Bt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ui(r,f),yr(h,r,f,-1))}return gd(),h=Gh(Error(t(421))),wu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Lw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,jn=zi(f.nextSibling),Un=s,Et=!0,fr=null,r!==null&&(qn[Kn++]=ai,qn[Kn++]=li,qn[Kn++]=Ns,ai=r.id,li=r.overflow,Ns=s),s=ed(s,h.children),s.flags|=4096,s)}function Bm(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),bh(r.return,s,a)}function td(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function $m(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(yn(r,s,h.children,a),h=Tt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bm(r,a,s);else if(r.tag===19)Bm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(ft(Tt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&fu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),td(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&fu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}td(s,!0,a,null,g);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function hi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Vs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ji(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ji(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Tw(r,s,a){switch(s.tag){case 3:Um(s),bo();break;case 5:rm(s);break;case 1:xn(s.type)&&ru(s);break;case 4:Lh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;ft(uu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(ft(Tt,Tt.current&1),s.flags|=128,null):a&s.child.childLanes?zm(r,s,a):(ft(Tt,Tt.current&1),r=hi(r,s,a),r!==null?r.sibling:null);ft(Tt,Tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return $m(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ft(Tt,Tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Mm(r,s,a)}return hi(r,s,a)}var Hm,nd,Wm,qm;Hm=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nd=function(){},Wm=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Os(Dr.current);var g=null;switch(a){case"input":f=Gr(r,f),h=Gr(r,h),g=[];break;case"select":f=de({},f,{value:void 0}),h=de({},h,{value:void 0}),g=[];break;case"textarea":f=er(r,f),h=er(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=eu)}Rr(a,h);var w;a=null;for(G in f)if(!h.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var x=f[G];for(w in x)x.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in h){var b=h[G];if(x=f!=null?f[G]:void 0,h.hasOwnProperty(G)&&b!==x&&(b!=null||x!=null))if(G==="style")if(x){for(w in x)!x.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in b)b.hasOwnProperty(w)&&x[w]!==b[w]&&(a||(a={}),a[w]=b[w])}else a||(g||(g=[]),g.push(G,a)),a=b;else G==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(g=g||[]).push(G,b)):G==="children"?typeof b!="string"&&typeof b!="number"||(g=g||[]).push(G,""+b):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(b!=null&&G==="onScroll"&&yt("scroll",r),g||x===b||(g=[])):(g=g||[]).push(G,b))}a&&(g=g||[]).push("style",a);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},qm=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ua(r,s){if(!Et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function Iw(r,s,a){var h=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return xn(s.type)&&nu(),ln(s),null;case 3:return h=s.stateNode,Oo(),vt(Cn),vt(on),Vh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(au(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fr!==null&&(fd(fr),fr=null))),nd(r,s),ln(s),null;case 5:Oh(s);var f=Os(La.current);if(a=s.type,r!==null&&s.stateNode!=null)Wm(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(r=Os(Dr.current),au(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Nr]=s,h[Pa]=g,r=(s.mode&1)!==0,a){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(f=0;f<Ca.length;f++)yt(Ca[f],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":Ri(h,g),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},yt("invalid",h);break;case"textarea":Qr(h,g),yt("invalid",h)}Rr(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var x=g[w];w==="children"?typeof x=="string"?h.textContent!==x&&(g.suppressHydrationWarning!==!0&&Zl(h.textContent,x,r),f=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(g.suppressHydrationWarning!==!0&&Zl(h.textContent,x,r),f=["children",""+x]):o.hasOwnProperty(w)&&x!=null&&w==="onScroll"&&yt("scroll",h)}switch(a){case"input":$n(h),so(h,g,!0);break;case"textarea":$n(h),En(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=eu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[Nr]=s,r[Pa]=h,Hm(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ai(a,h),a){case"dialog":yt("cancel",r),yt("close",r),f=h;break;case"iframe":case"object":case"embed":yt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ca.length;f++)yt(Ca[f],r);f=h;break;case"source":yt("error",r),f=h;break;case"img":case"image":case"link":yt("error",r),yt("load",r),f=h;break;case"details":yt("toggle",r),f=h;break;case"input":Ri(r,h),f=Gr(r,h),yt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=de({},h,{value:void 0}),yt("invalid",r);break;case"textarea":Qr(r,h),f=er(r,h),yt("invalid",r);break;default:f=h}Rr(a,f),x=f;for(g in x)if(x.hasOwnProperty(g)){var b=x[g];g==="style"?Ts(r,b):g==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Es(r,b)):g==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&Kt(r,b):typeof b=="number"&&Kt(r,""+b):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?b!=null&&g==="onScroll"&&yt("scroll",r):b!=null&&Y(r,g,b,w))}switch(a){case"input":$n(r),so(r,h,!1);break;case"textarea":$n(r),En(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ze(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?qt(r,!!h.multiple,g,!1):h.defaultValue!=null&&qt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=eu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)qm(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Os(La.current),Os(Dr.current),au(s)){if(h=s.stateNode,a=s.memoizedProps,h[Nr]=s,(g=h.nodeValue!==a)&&(r=Un,r!==null))switch(r.tag){case 3:Zl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zl(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Nr]=s,s.stateNode=h}return ln(s),null;case 13:if(vt(Tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Et&&jn!==null&&s.mode&1&&!(s.flags&128))Qp(),bo(),s.flags|=98560,g=!1;else if(g=au(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Nr]=s}else bo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),g=!1}else fr!==null&&(fd(fr),fr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Tt.current&1?Vt===0&&(Vt=3):gd())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return Oo(),nd(r,s),r===null&&xa(s.stateNode.containerInfo),ln(s),null;case 10:return Ah(s.type._context),ln(s),null;case 17:return xn(s.type)&&nu(),ln(s),null;case 19:if(vt(Tt),g=s.memoizedState,g===null)return ln(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ua(g,!1);else{if(Vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=fu(r),w!==null){for(s.flags|=128,Ua(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ft(Tt,Tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&at()>Uo&&(s.flags|=128,h=!0,Ua(g,!1),s.lanes=4194304)}else{if(!h)if(r=fu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ua(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Et)return ln(s),null}else 2*at()-g.renderingStartTime>Uo&&a!==1073741824&&(s.flags|=128,h=!0,Ua(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=at(),s.sibling=null,a=Tt.current,ft(Tt,h?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return md(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?zn&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Sw(r,s){switch(Sh(s),s.tag){case 1:return xn(s.type)&&nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Oo(),vt(Cn),vt(on),Vh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Oh(s),null;case 13:if(vt(Tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));bo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return vt(Tt),null;case 4:return Oo(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var Tu=!1,un=!1,Rw=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Vo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){xt(r,s,h)}else a.current=null}function rd(r,s,a){try{a()}catch(h){xt(r,s,h)}}var Km=!1;function Cw(r,s){if(mh=Fi,r=Rp(),ah(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,x=-1,b=-1,G=0,ie=0,se=r,re=null;t:for(;;){for(var me;se!==a||f!==0&&se.nodeType!==3||(x=w+f),se!==g||h!==0&&se.nodeType!==3||(b=w+h),se.nodeType===3&&(w+=se.nodeValue.length),(me=se.firstChild)!==null;)re=se,se=me;for(;;){if(se===r)break t;if(re===a&&++G===f&&(x=w),re===g&&++ie===h&&(b=w),(me=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=me}a=x===-1||b===-1?null:{start:x,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:r,selectionRange:a},Fi=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Ee=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,Pt=Ee.memoizedState,q=s.stateNode,V=q.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:pr(s.type,Ie),Pt);q.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){xt(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Ee=Km,Km=!1,Ee}function ja(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&rd(s,a,g)}f=f.next}while(f!==h)}}function Iu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function id(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Gm(r){var s=r.alternate;s!==null&&(r.alternate=null,Gm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Nr],delete s[Pa],delete s[wh],delete s[lw],delete s[uw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Qm(r){return r.tag===5||r.tag===3||r.tag===4}function Ym(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Qm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=eu));else if(h!==4&&(r=r.child,r!==null))for(sd(r,s,a),r=r.sibling;r!==null;)sd(r,s,a),r=r.sibling}function od(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(od(r,s,a),r=r.sibling;r!==null;)od(r,s,a),r=r.sibling}var Jt=null,mr=!1;function Ki(r,s,a){for(a=a.child;a!==null;)Xm(r,s,a),a=a.sibling}function Xm(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 5:un||Vo(a,s);case 6:var h=Jt,f=mr;Jt=null,Ki(r,s,a),Jt=h,mr=f,Jt!==null&&(mr?(r=Jt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Jt.removeChild(a.stateNode));break;case 18:Jt!==null&&(mr?(r=Jt,a=a.stateNode,r.nodeType===8?_h(r.parentNode,a):r.nodeType===1&&_h(r,a),cr(r)):_h(Jt,a.stateNode));break;case 4:h=Jt,f=mr,Jt=a.stateNode.containerInfo,mr=!0,Ki(r,s,a),Jt=h,mr=f;break;case 0:case 11:case 14:case 15:if(!un&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&rd(a,s,w),f=f.next}while(f!==h)}Ki(r,s,a);break;case 1:if(!un&&(Vo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(x){xt(a,s,x)}Ki(r,s,a);break;case 21:Ki(r,s,a);break;case 22:a.mode&1?(un=(h=un)||a.memoizedState!==null,Ki(r,s,a),un=h):Ki(r,s,a);break;default:Ki(r,s,a)}}function Jm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Rw),s.forEach(function(h){var f=Ow.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function gr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,x=w;e:for(;x!==null;){switch(x.tag){case 5:Jt=x.stateNode,mr=!1;break e;case 3:Jt=x.stateNode.containerInfo,mr=!0;break e;case 4:Jt=x.stateNode.containerInfo,mr=!0;break e}x=x.return}if(Jt===null)throw Error(t(160));Xm(g,w,f),Jt=null,mr=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(G){xt(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Zm(s,r),s=s.sibling}function Zm(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gr(s,r),Or(r),h&4){try{ja(3,r,r.return),Iu(3,r)}catch(Ie){xt(r,r.return,Ie)}try{ja(5,r,r.return)}catch(Ie){xt(r,r.return,Ie)}}break;case 1:gr(s,r),Or(r),h&512&&a!==null&&Vo(a,a.return);break;case 5:if(gr(s,r),Or(r),h&512&&a!==null&&Vo(a,a.return),r.flags&32){var f=r.stateNode;try{Kt(f,"")}catch(Ie){xt(r,r.return,Ie)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,x=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{x==="input"&&g.type==="radio"&&g.name!=null&&Ci(f,g),Ai(x,w);var G=Ai(x,g);for(w=0;w<b.length;w+=2){var ie=b[w],se=b[w+1];ie==="style"?Ts(f,se):ie==="dangerouslySetInnerHTML"?Es(f,se):ie==="children"?Kt(f,se):Y(f,ie,se,G)}switch(x){case"input":ws(f,g);break;case"textarea":Tr(f,g);break;case"select":var re=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?qt(f,!!g.multiple,me,!1):re!==!!g.multiple&&(g.defaultValue!=null?qt(f,!!g.multiple,g.defaultValue,!0):qt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Pa]=g}catch(Ie){xt(r,r.return,Ie)}}break;case 6:if(gr(s,r),Or(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ie){xt(r,r.return,Ie)}}break;case 3:if(gr(s,r),Or(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(s.containerInfo)}catch(Ie){xt(r,r.return,Ie)}break;case 4:gr(s,r),Or(r);break;case 13:gr(s,r),Or(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ud=at())),h&4&&Jm(r);break;case 22:if(ie=a!==null&&a.memoizedState!==null,r.mode&1?(un=(G=un)||ie,gr(s,r),un=G):gr(s,r),Or(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ie&&r.mode&1)for(ve=r,ie=r.child;ie!==null;){for(se=ve=ie;ve!==null;){switch(re=ve,me=re.child,re.tag){case 0:case 11:case 14:case 15:ja(4,re,re.return);break;case 1:Vo(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=re,a=re.return;try{s=h,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(Ie){xt(h,a,Ie)}}break;case 5:Vo(re,re.return);break;case 22:if(re.memoizedState!==null){ng(se);continue}}me!==null?(me.return=re,ve=me):ng(se)}ie=ie.sibling}e:for(ie=null,se=r;;){if(se.tag===5){if(ie===null){ie=se;try{f=se.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(x=se.stateNode,b=se.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=ki("display",w))}catch(Ie){xt(r,r.return,Ie)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(Ie){xt(r,r.return,Ie)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:gr(s,r),Or(r),h&4&&Jm(r);break;case 21:break;default:gr(s,r),Or(r)}}function Or(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Qm(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Kt(f,""),h.flags&=-33);var g=Ym(r);od(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,x=Ym(r);sd(r,x,w);break;default:throw Error(t(161))}}catch(b){xt(r,r.return,b)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function xw(r,s,a){ve=r,eg(r)}function eg(r,s,a){for(var h=(r.mode&1)!==0;ve!==null;){var f=ve,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Tu;if(!w){var x=f.alternate,b=x!==null&&x.memoizedState!==null||un;x=Tu;var G=un;if(Tu=w,(un=b)&&!G)for(ve=f;ve!==null;)w=ve,b=w.child,w.tag===22&&w.memoizedState!==null?rg(f):b!==null?(b.return=w,ve=b):rg(f);for(;g!==null;)ve=g,eg(g),g=g.sibling;ve=f,Tu=x,un=G}tg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ve=g):tg(r)}}function tg(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||Iu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!un)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:pr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&nm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}nm(s,w,a)}break;case 5:var x=s.stateNode;if(a===null&&s.flags&4){a=x;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ie=G.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&cr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&id(s)}catch(re){xt(s,s.return,re)}}if(s===r){ve=null;break}if(a=s.sibling,a!==null){a.return=s.return,ve=a;break}ve=s.return}}function ng(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ve=a;break}ve=s.return}}function rg(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Iu(4,s)}catch(b){xt(s,a,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(b){xt(s,f,b)}}var g=s.return;try{id(s)}catch(b){xt(s,g,b)}break;case 5:var w=s.return;try{id(s)}catch(b){xt(s,w,b)}}}catch(b){xt(s,s.return,b)}if(s===r){ve=null;break}var x=s.sibling;if(x!==null){x.return=s.return,ve=x;break}ve=s.return}}var kw=Math.ceil,Su=ne.ReactCurrentDispatcher,ad=ne.ReactCurrentOwner,Yn=ne.ReactCurrentBatchConfig,tt=0,Bt=null,Dt=null,Zt=0,zn=0,Fo=Bi(0),Vt=0,za=null,Vs=0,Ru=0,ld=0,Ba=null,Pn=null,ud=0,Uo=1/0,di=null,Cu=!1,cd=null,Gi=null,xu=!1,Qi=null,ku=0,$a=0,hd=null,Pu=-1,Au=0;function vn(){return tt&6?at():Pu!==-1?Pu:Pu=at()}function Yi(r){return r.mode&1?tt&2&&Zt!==0?Zt&-Zt:hw.transition!==null?(Au===0&&(Au=Rs()),Au):(r=We,r!==0||(r=window.event,r=r===void 0?16:ya(r.type)),r):1}function yr(r,s,a,h){if(50<$a)throw $a=0,hd=null,Error(t(185));Li(r,a,h),(!(tt&2)||r!==Bt)&&(r===Bt&&(!(tt&2)&&(Ru|=a),Vt===4&&Xi(r,Zt)),An(r,h),a===1&&tt===0&&!(s.mode&1)&&(Uo=at()+500,iu&&Hi()))}function An(r,s){var a=r.callbackNode;ei(r,s);var h=Ss(r,r===Bt?Zt:0);if(h===0)a!==null&&Jr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Jr(a),s===1)r.tag===0?cw(sg.bind(null,r)):Hp(sg.bind(null,r)),ow(function(){!(tt&6)&&Hi()}),a=null;else{switch(Mi(h)){case 1:a=Ke;break;case 4:a=mt;break;case 16:a=Qt;break;case 536870912:a=gt;break;default:a=Qt}a=fg(a,ig.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ig(r,s){if(Pu=-1,Au=0,tt&6)throw Error(t(327));var a=r.callbackNode;if(jo()&&r.callbackNode!==a)return null;var h=Ss(r,r===Bt?Zt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=bu(r,h);else{s=h;var f=tt;tt|=2;var g=ag();(Bt!==r||Zt!==s)&&(di=null,Uo=at()+500,Us(r,s));do try{bw();break}catch(x){og(r,x)}while(!0);Ph(),Su.current=g,tt=f,Dt!==null?s=0:(Bt=null,Zt=0,s=Vt)}if(s!==0){if(s===2&&(f=Mn(r),f!==0&&(h=f,s=dd(r,f))),s===1)throw a=za,Us(r,0),Xi(r,h),An(r,at()),a;if(s===6)Xi(r,h);else{if(f=r.current.alternate,!(h&30)&&!Pw(f)&&(s=bu(r,h),s===2&&(g=Mn(r),g!==0&&(h=g,s=dd(r,g))),s===1))throw a=za,Us(r,0),Xi(r,h),An(r,at()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:js(r,Pn,di);break;case 3:if(Xi(r,h),(h&130023424)===h&&(s=ud+500-at(),10<s)){if(Ss(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=vh(js.bind(null,r,Pn,di),s);break}js(r,Pn,di);break;case 4:if(Xi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-mn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kw(h/1960))-h,10<h){r.timeoutHandle=vh(js.bind(null,r,Pn,di),h);break}js(r,Pn,di);break;case 5:js(r,Pn,di);break;default:throw Error(t(329))}}}return An(r,at()),r.callbackNode===a?ig.bind(null,r):null}function dd(r,s){var a=Ba;return r.current.memoizedState.isDehydrated&&(Us(r,s).flags|=256),r=bu(r,s),r!==2&&(s=Pn,Pn=a,s!==null&&fd(s)),r}function fd(r){Pn===null?Pn=r:Pn.push.apply(Pn,r)}function Pw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!dr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xi(r,s){for(s&=~ld,s&=~Ru,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-mn(s),h=1<<a;r[a]=-1,s&=~h}}function sg(r){if(tt&6)throw Error(t(327));jo();var s=Ss(r,0);if(!(s&1))return An(r,at()),null;var a=bu(r,s);if(r.tag!==0&&a===2){var h=Mn(r);h!==0&&(s=h,a=dd(r,h))}if(a===1)throw a=za,Us(r,0),Xi(r,s),An(r,at()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,js(r,Pn,di),An(r,at()),null}function pd(r,s){var a=tt;tt|=1;try{return r(s)}finally{tt=a,tt===0&&(Uo=at()+500,iu&&Hi())}}function Fs(r){Qi!==null&&Qi.tag===0&&!(tt&6)&&jo();var s=tt;tt|=1;var a=Yn.transition,h=We;try{if(Yn.transition=null,We=1,r)return r()}finally{We=h,Yn.transition=a,tt=s,!(tt&6)&&Hi()}}function md(){zn=Fo.current,vt(Fo)}function Us(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,sw(a)),Dt!==null)for(a=Dt.return;a!==null;){var h=a;switch(Sh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&nu();break;case 3:Oo(),vt(Cn),vt(on),Vh();break;case 5:Oh(h);break;case 4:Oo();break;case 13:vt(Tt);break;case 19:vt(Tt);break;case 10:Ah(h.type._context);break;case 22:case 23:md()}a=a.return}if(Bt=r,Dt=r=Ji(r.current,null),Zt=zn=s,Vt=0,za=null,ld=Ru=Vs=0,Pn=Ba=null,Ls!==null){for(s=0;s<Ls.length;s++)if(a=Ls[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}Ls=null}return r}function og(r,s){do{var a=Dt;try{if(Ph(),pu.current=vu,mu){for(var h=It.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}mu=!1}if(Ms=0,zt=Mt=It=null,Oa=!1,Ma=0,ad.current=null,a===null||a.return===null){Vt=1,za=s,Dt=null;break}e:{var g=r,w=a.return,x=a,b=s;if(s=Zt,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=b,ie=x,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=bm(w);if(me!==null){me.flags&=-257,Nm(me,w,x,g,s),me.mode&1&&Am(g,G,s),s=me,b=G;var Ee=s.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(b),s.updateQueue=Ie}else Ee.add(b);break e}else{if(!(s&1)){Am(g,G,s),gd();break e}b=Error(t(426))}}else if(Et&&x.mode&1){var Pt=bm(w);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),Nm(Pt,w,x,g,s),xh(Mo(b,x));break e}}g=b=Mo(b,x),Vt!==4&&(Vt=2),Ba===null?Ba=[g]:Ba.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=km(g,b,s);tm(g,q);break e;case 1:x=b;var V=g.type,K=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Gi===null||!Gi.has(K)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=Pm(g,x,s);tm(g,le);break e}}g=g.return}while(g!==null)}ug(a)}catch(Se){s=Se,Dt===a&&a!==null&&(Dt=a=a.return);continue}break}while(!0)}function ag(){var r=Su.current;return Su.current=vu,r===null?vu:r}function gd(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||!(Vs&268435455)&&!(Ru&268435455)||Xi(Bt,Zt)}function bu(r,s){var a=tt;tt|=2;var h=ag();(Bt!==r||Zt!==s)&&(di=null,Us(r,s));do try{Aw();break}catch(f){og(r,f)}while(!0);if(Ph(),tt=a,Su.current=h,Dt!==null)throw Error(t(261));return Bt=null,Zt=0,Vt}function Aw(){for(;Dt!==null;)lg(Dt)}function bw(){for(;Dt!==null&&!Cr();)lg(Dt)}function lg(r){var s=dg(r.alternate,r,zn);r.memoizedProps=r.pendingProps,s===null?ug(r):Dt=s,ad.current=null}function ug(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=Sw(a,s),a!==null){a.flags&=32767,Dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Vt=6,Dt=null;return}}else if(a=Iw(a,s,zn),a!==null){Dt=a;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=r}while(s!==null);Vt===0&&(Vt=5)}function js(r,s,a){var h=We,f=Yn.transition;try{Yn.transition=null,We=1,Nw(r,s,a,h)}finally{Yn.transition=f,We=h}return null}function Nw(r,s,a,h){do jo();while(Qi!==null);if(tt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(dt(r,g),r===Bt&&(Dt=Bt=null,Zt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||xu||(xu=!0,fg(Qt,function(){return jo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Yn.transition,Yn.transition=null;var w=We;We=1;var x=tt;tt|=4,ad.current=null,Cw(r,a),Zm(a,r),J_(gh),Fi=!!mh,gh=mh=null,r.current=a,xw(a),sr(),tt=x,We=w,Yn.transition=g}else r.current=a;if(xu&&(xu=!1,Qi=r,ku=f),g=r.pendingLanes,g===0&&(Gi=null),oo(a.stateNode),An(r,at()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Cu)throw Cu=!1,r=cd,cd=null,r;return ku&1&&r.tag!==0&&jo(),g=r.pendingLanes,g&1?r===hd?$a++:($a=0,hd=r):$a=0,Hi(),null}function jo(){if(Qi!==null){var r=Mi(ku),s=Yn.transition,a=We;try{if(Yn.transition=null,We=16>r?16:r,Qi===null)var h=!1;else{if(r=Qi,Qi=null,ku=0,tt&6)throw Error(t(331));var f=tt;for(tt|=4,ve=r.current;ve!==null;){var g=ve,w=g.child;if(ve.flags&16){var x=g.deletions;if(x!==null){for(var b=0;b<x.length;b++){var G=x[b];for(ve=G;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:ja(8,ie,g)}var se=ie.child;if(se!==null)se.return=ie,ve=se;else for(;ve!==null;){ie=ve;var re=ie.sibling,me=ie.return;if(Gm(ie),ie===G){ve=null;break}if(re!==null){re.return=me,ve=re;break}ve=me}}}var Ee=g.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var Pt=Ie.sibling;Ie.sibling=null,Ie=Pt}while(Ie!==null)}}ve=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ve=w;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ja(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,ve=q;break e}ve=g.return}}var V=r.current;for(ve=V;ve!==null;){w=ve;var K=w.child;if(w.subtreeFlags&2064&&K!==null)K.return=w,ve=K;else e:for(w=V;ve!==null;){if(x=ve,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Iu(9,x)}}catch(Se){xt(x,x.return,Se)}if(x===w){ve=null;break e}var le=x.sibling;if(le!==null){le.return=x.return,ve=le;break e}ve=x.return}}if(tt=f,Hi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(In,r)}catch{}h=!0}return h}finally{We=a,Yn.transition=s}}return!1}function cg(r,s,a){s=Mo(a,s),s=km(r,s,1),r=qi(r,s,1),s=vn(),r!==null&&(Li(r,1,s),An(r,s))}function xt(r,s,a){if(r.tag===3)cg(r,r,a);else for(;s!==null;){if(s.tag===3){cg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gi===null||!Gi.has(h))){r=Mo(a,r),r=Pm(s,r,1),s=qi(s,r,1),r=vn(),s!==null&&(Li(s,1,r),An(s,r));break}}s=s.return}}function Dw(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=vn(),r.pingedLanes|=r.suspendedLanes&a,Bt===r&&(Zt&a)===a&&(Vt===4||Vt===3&&(Zt&130023424)===Zt&&500>at()-ud?Us(r,0):ld|=a),An(r,s)}function hg(r,s){s===0&&(r.mode&1?(s=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):s=1);var a=vn();r=ui(r,s),r!==null&&(Li(r,s,a),An(r,a))}function Lw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),hg(r,a)}function Ow(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),hg(r,a)}var dg;dg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Cn.current)kn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return kn=!1,Tw(r,s,a);kn=!!(r.flags&131072)}else kn=!1,Et&&s.flags&1048576&&Wp(s,ou,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Eu(r,s),r=s.pendingProps;var f=ko(s,on.current);Lo(s,a),f=jh(null,s,h,r,f,a);var g=zh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,xn(h)?(g=!0,ru(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Dh(s),f.updater=_u,s.stateNode=f,f._reactInternals=s,Kh(s,h,r,a),s=Xh(null,s,h,!0,g,a)):(s.tag=0,Et&&g&&Ih(s),yn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Eu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=Vw(h),r=pr(h,r),f){case 0:s=Yh(null,s,h,r,a);break e;case 1:s=Fm(null,s,h,r,a);break e;case 11:s=Dm(null,s,h,r,a);break e;case 14:s=Lm(null,s,h,pr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:pr(h,f),Yh(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:pr(h,f),Fm(r,s,h,f,a);case 3:e:{if(Um(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,em(r,s),du(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Mo(Error(t(423)),s),s=jm(r,s,h,a,f);break e}else if(h!==f){f=Mo(Error(t(424)),s),s=jm(r,s,h,a,f);break e}else for(jn=zi(s.stateNode.containerInfo.firstChild),Un=s,Et=!0,fr=null,a=Jp(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bo(),h===f){s=hi(r,s,a);break e}yn(r,s,h,a)}s=s.child}return s;case 5:return rm(s),r===null&&Ch(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,yh(h,f)?w=null:g!==null&&yh(h,g)&&(s.flags|=32),Vm(r,s),yn(r,s,w,a),s.child;case 6:return r===null&&Ch(s),null;case 13:return zm(r,s,a);case 4:return Lh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=No(s,null,h,a):yn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:pr(h,f),Dm(r,s,h,f,a);case 7:return yn(r,s,s.pendingProps,a),s.child;case 8:return yn(r,s,s.pendingProps.children,a),s.child;case 12:return yn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,ft(uu,h._currentValue),h._currentValue=w,g!==null)if(dr(g.value,w)){if(g.children===f.children&&!Cn.current){s=hi(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){w=g.child;for(var b=x.firstContext;b!==null;){if(b.context===h){if(g.tag===1){b=ci(-1,a&-a),b.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var ie=G.pending;ie===null?b.next=b:(b.next=ie.next,ie.next=b),G.pending=b}}g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),bh(g.return,a,s),x.lanes|=a;break}b=b.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,x=w.alternate,x!==null&&(x.lanes|=a),bh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}yn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Lo(s,a),f=Gn(f),h=h(f),s.flags|=1,yn(r,s,h,a),s.child;case 14:return h=s.type,f=pr(h,s.pendingProps),f=pr(h.type,f),Lm(r,s,h,f,a);case 15:return Om(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:pr(h,f),Eu(r,s),s.tag=1,xn(h)?(r=!0,ru(s)):r=!1,Lo(s,a),Cm(s,h,f),Kh(s,h,f,a),Xh(null,s,h,!0,r,a);case 19:return $m(r,s,a);case 22:return Mm(r,s,a)}throw Error(t(156,s.tag))};function fg(r,s){return Gt(r,s)}function Mw(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,s,a,h){return new Mw(r,s,a,h)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Vw(r){if(typeof r=="function")return yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===ze)return 14}return 2}function Ji(r,s){var a=r.alternate;return a===null?(a=Xn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Nu(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")yd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case C:return zs(a.children,f,g,s);case T:w=8,f|=8;break;case R:return r=Xn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case k:return r=Xn(13,a,s,f),r.elementType=k,r.lanes=g,r;case ht:return r=Xn(19,a,s,f),r.elementType=ht,r.lanes=g,r;case Ue:return Du(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:w=10;break e;case L:w=9;break e;case j:w=11;break e;case ze:w=14;break e;case _t:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Xn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function zs(r,s,a,h){return r=Xn(7,r,h,s),r.lanes=a,r}function Du(r,s,a,h){return r=Xn(22,r,h,s),r.elementType=Ue,r.lanes=a,r.stateNode={isHidden:!1},r}function vd(r,s,a){return r=Xn(6,r,null,s),r.lanes=a,r}function _d(r,s,a){return s=Xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Fw(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function wd(r,s,a,h,f,g,w,x,b){return r=new Fw(r,s,a,x,b),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Xn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(g),r}function Uw(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function pg(r){if(!r)return $i;r=r._reactInternals;e:{if(He(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(xn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(xn(a))return Bp(r,a,s)}return s}function mg(r,s,a,h,f,g,w,x,b){return r=wd(a,h,!0,r,f,g,w,x,b),r.context=pg(null),a=r.current,h=vn(),f=Yi(a),g=ci(h,f),g.callback=s??null,qi(a,g,f),r.current.lanes=f,Li(r,f,h),An(r,h),r}function Lu(r,s,a,h){var f=s.current,g=vn(),w=Yi(f);return a=pg(a),s.context===null?s.context=a:s.pendingContext=a,s=ci(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=qi(f,s,w),r!==null&&(yr(r,f,w,g),hu(r,f,w)),w}function Ou(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function gg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ed(r,s){gg(r,s),(r=r.alternate)&&gg(r,s)}var yg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}Mu.prototype.render=Td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Lu(r,s,null,null)},Mu.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fs(function(){Lu(null,r,null,null)}),s[si]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ml();r={blockedOn:null,target:r,priority:s};for(var a=0;a<kr.length&&s!==0&&s<kr[a].priority;a++);kr.splice(a,0,r),a===0&&Ul(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Vu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vg(){}function jw(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var G=Ou(w);g.call(G)}}var w=mg(s,h,r,0,null,!1,!1,"",vg);return r._reactRootContainer=w,r[si]=w.current,xa(r.nodeType===8?r.parentNode:r),Fs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var x=h;h=function(){var G=Ou(b);x.call(G)}}var b=wd(r,0,!1,null,null,!1,!1,"",vg);return r._reactRootContainer=b,r[si]=b.current,xa(r.nodeType===8?r.parentNode:r),Fs(function(){Lu(s,b,a,h)}),b}function Fu(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var x=f;f=function(){var b=Ou(w);x.call(b)}}Lu(s,w,r,f)}else w=jw(a,s,r,f,h);return Ou(w)}Ll=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ni(s.pendingLanes);a!==0&&(Oi(s,a|1),An(s,at()),!(tt&6)&&(Uo=at()+500,Hi()))}break;case 13:Fs(function(){var h=ui(r,1);if(h!==null){var f=vn();yr(h,r,1,f)}}),Ed(r,1)}},uo=function(r){if(r.tag===13){var s=ui(r,134217728);if(s!==null){var a=vn();yr(s,r,134217728,a)}Ed(r,134217728)}},Ol=function(r){if(r.tag===13){var s=Yi(r),a=ui(r,s);if(a!==null){var h=vn();yr(a,r,s,h)}Ed(r,s)}},Ml=function(){return We},Vl=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},Yr=function(r,s,a){switch(s){case"input":if(ws(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=tu(h);if(!f)throw Error(t(90));Si(h),ws(h,f)}}}break;case"textarea":Tr(r,a);break;case"select":s=a.value,s!=null&&qt(r,!!a.multiple,s,!1)}},Xr=pd,D=Fs;var zw={usingClientEntryPoint:!1,Events:[Aa,Co,tu,pn,Is,pd]},Ha={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bw={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ir(r),r===null?null:r.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{In=Uu.inject(Bw),sn=Uu}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zw,bn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return Uw(r,s,null,a)},bn.createRoot=function(r,s){if(!Id(r))throw Error(t(299));var a=!1,h="",f=yg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=wd(r,1,!1,null,null,a,!1,h,f),r[si]=s.current,xa(r.nodeType===8?r.parentNode:r),new Td(s)},bn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ir(s),r=r===null?null:r.stateNode,r},bn.flushSync=function(r){return Fs(r)},bn.hydrate=function(r,s,a){if(!Vu(s))throw Error(t(200));return Fu(null,r,s,!0,a)},bn.hydrateRoot=function(r,s,a){if(!Id(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=yg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=mg(s,null,r,1,a??null,f,!1,g,w),r[si]=s.current,xa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Mu(s)},bn.render=function(r,s,a){if(!Vu(s))throw Error(t(200));return Fu(null,r,s,!1,a)},bn.unmountComponentAtNode=function(r){if(!Vu(r))throw Error(t(40));return r._reactRootContainer?(Fs(function(){Fu(null,null,r,!1,function(){r._reactRootContainer=null,r[si]=null})}),!0):!1},bn.unstable_batchedUpdates=pd,bn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Vu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Fu(r,s,a,!1,h)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var Cg;function gv(){if(Cg)return Cd.exports;Cg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cd.exports=Yw(),Cd.exports}var xg;function Xw(){if(xg)return ju;xg=1;var n=gv();return ju.createRoot=n.createRoot,ju.hydrateRoot=n.hydrateRoot,ju}var Jw=Xw();function yv(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=yv(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function qs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=yv(n))&&(i&&(i+=" "),i+=e);return i}function Zw(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Zw(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gl=n=>typeof n=="number"&&!isNaN(n),Ys=n=>typeof n=="string",yi=n=>typeof n=="function",eE=n=>Ys(n)||gl(n),qd=n=>Ys(n)||yi(n)?n:null,tE=(n,e)=>n===!1||gl(n)&&n>0?n:e,Kd=n=>U.isValidElement(n)||Ys(n)||yi(n)||gl(n);function nE(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function rE({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:y,isIn:_,playToast:I}){let S=t?`${n}--${c}`:n,P=t?`${e}--${c}`:e,O=U.useRef(0);return U.useLayoutEffect(()=>{let z=y.current,M=S.split(" "),N=Q=>{Q.target===y.current&&(I(),z.removeEventListener("animationend",N),z.removeEventListener("animationcancel",N),O.current===0&&Q.type!=="animationcancel"&&z.classList.remove(...M))};z.classList.add(...M),z.addEventListener("animationend",N),z.addEventListener("animationcancel",N)},[]),U.useEffect(()=>{let z=y.current,M=()=>{z.removeEventListener("animationend",M),i?nE(z,p,o):p()};_||(d?M():(O.current=1,z.className+=` ${P}`,z.addEventListener("animationend",M)))},[_]),it.createElement(it.Fragment,null,l)}}function kg(n,e){return{content:vv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function vv(n,e,t=!1){return U.isValidElement(n)&&!Ys(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):yi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function iE({closeToast:n,theme:e,ariaLabel:t="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function sE({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:c,progress:d,rtl:p,isIn:y,theme:_}){let I=o||c&&d===0,S={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(S.transform=`scaleX(${d})`);let P=qs("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),O=yi(l)?l({rtl:p,type:i,defaultClassName:P}):qs(P,l),z={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{y&&t()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),it.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:O,style:S,...z}))}var oE=1,_v=()=>`${oE++}`;function aE(n,e,t){let i=1,o=0,l=[],c=[],d=e,p=new Map,y=new Set,_=Q=>(y.add(Q),()=>y.delete(Q)),I=()=>{c=Array.from(p.values()),y.forEach(Q=>Q())},S=({containerId:Q,toastId:Y,updateId:ne})=>{let F=Q?Q!==n:n!==1,oe=p.has(Y)&&ne==null;return F||oe},P=(Q,Y)=>{p.forEach(ne=>{var F;(Y==null||Y===ne.props.toastId)&&((F=ne.toggle)==null||F.call(ne,Q))})},O=Q=>{var Y,ne;(ne=(Y=Q.props)==null?void 0:Y.onClose)==null||ne.call(Y,Q.removalReason),Q.isActive=!1},z=Q=>{if(Q==null)p.forEach(O);else{let Y=p.get(Q);Y&&O(Y)}I()},M=()=>{o-=l.length,l=[]},N=Q=>{var Y,ne;let{toastId:F,updateId:oe}=Q.props,C=oe==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(F,Q),I(),t(kg(Q,C?"added":"updated")),C&&((ne=(Y=Q.props).onOpen)==null||ne.call(Y))};return{id:n,props:d,observe:_,toggle:P,removeToast:z,toasts:p,clearQueue:M,buildToast:(Q,Y)=>{if(S(Y))return;let{toastId:ne,updateId:F,data:oe,staleId:C,delay:T}=Y,R=F==null;R&&o++;let A={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(Y).filter(([j,k])=>k!=null)),toastId:ne,updateId:F,data:oe,isIn:!1,className:qd(Y.className||d.toastClassName),progressClassName:qd(Y.progressClassName||d.progressClassName),autoClose:Y.isLoading?!1:tE(Y.autoClose,d.autoClose),closeToast(j){p.get(ne).removalReason=j,z(ne)},deleteToast(){let j=p.get(ne);if(j!=null){if(t(kg(j,"removed")),p.delete(ne),o--,o<0&&(o=0),l.length>0){N(l.shift());return}I()}}};A.closeButton=d.closeButton,Y.closeButton===!1||Kd(Y.closeButton)?A.closeButton=Y.closeButton:Y.closeButton===!0&&(A.closeButton=Kd(d.closeButton)?d.closeButton:!0);let L={content:Q,props:A,staleId:C};d.limit&&d.limit>0&&o>d.limit&&R?l.push(L):gl(T)?setTimeout(()=>{N(L)},T):N(L)},setProps(Q){d=Q},setToggle:(Q,Y)=>{let ne=p.get(Q);ne&&(ne.toggle=Y)},isToastActive:Q=>{var Y;return(Y=p.get(Q))==null?void 0:Y.isActive},getSnapshot:()=>c}}var wn=new Map,ll=[],Gd=new Set,lE=n=>Gd.forEach(e=>e(n)),wv=()=>wn.size>0;function uE(){ll.forEach(n=>Tv(n.content,n.options)),ll=[]}var cE=(n,{containerId:e})=>{var t;return(t=wn.get(e||1))==null?void 0:t.toasts.get(n)};function Ev(n,e){var t;if(e)return!!((t=wn.get(e))!=null&&t.isToastActive(n));let i=!1;return wn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function hE(n){if(!wv()){ll=ll.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||eE(n))wn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=wn.get(n.containerId);e?e.removeToast(n.id):wn.forEach(t=>{t.removeToast(n.id)})}}var dE=(n={})=>{wn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Tv(n,e){Kd(n)&&(wv()||ll.push({content:n,options:e}),wn.forEach(t=>{t.buildToast(n,e)}))}function fE(n){var e;(e=wn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Iv(n,e){wn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function pE(n){let e=n.containerId||1;return{subscribe(t){let i=aE(e,n,lE);wn.set(e,i);let o=i.observe(t);return uE(),()=>{o(),wn.delete(e)}},setProps(t){var i;(i=wn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=wn.get(e))==null?void 0:t.getSnapshot()}}}function mE(n){return Gd.add(n),()=>{Gd.delete(n)}}function gE(n){return n&&(Ys(n.toastId)||gl(n.toastId))?n.toastId:_v()}function yl(n,e){return Tv(n,e),e.toastId}function Pc(n,e){return{...e,type:e&&e.type||n,toastId:gE(e)}}function Ac(n){return(e,t)=>yl(e,Pc(n,t))}function lt(n,e){return yl(n,Pc("default",e))}lt.loading=(n,e)=>yl(n,Pc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function yE(n,{pending:e,error:t,success:i},o){let l;e&&(l=Ys(e)?lt.loading(e,o):lt.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,_,I)=>{if(_==null){lt.dismiss(l);return}let S={type:y,...c,...o,data:I},P=Ys(_)?{render:_}:_;return l?lt.update(l,{...S,...P}):lt(P.render,{...S,...P}),I},p=yi(n)?n():n;return p.then(y=>d("success",i,y)).catch(y=>d("error",t,y)),p}lt.promise=yE;lt.success=Ac("success");lt.info=Ac("info");lt.error=Ac("error");lt.warning=Ac("warning");lt.warn=lt.warning;lt.dark=(n,e)=>yl(n,Pc("default",{theme:"dark",...e}));function vE(n){hE(n)}lt.dismiss=vE;lt.clearWaitingQueue=dE;lt.isActive=Ev;lt.update=(n,e={})=>{let t=cE(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:_v()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,yl(c,l)}};lt.done=n=>{lt.update(n,{progress:1})};lt.onChange=mE;lt.play=n=>Iv(!0,n);lt.pause=n=>Iv(!1,n);function _E(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=U.useRef(pE(n)).current;o(n);let l=(e=U.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:_}=y.props;p.has(_)||p.set(_,[]),p.get(_).push(y)}),Array.from(p,y=>d(y[0],y[1]))}return{getToastToRender:c,isToastActive:Ev,count:l==null?void 0:l.length}}function wE(n){let[e,t]=U.useState(!1),[i,o]=U.useState(!1),l=U.useRef(null),c=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:y,onClick:_,closeOnClick:I}=n;fE({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return S(),()=>{P()}},[n.pauseOnFocusLoss]);function S(){document.hasFocus()||N(),window.addEventListener("focus",M),window.addEventListener("blur",N)}function P(){window.removeEventListener("focus",M),window.removeEventListener("blur",N)}function O(C){if(n.draggable===!0||n.draggable===C.pointerType){Q();let T=l.current;c.canCloseOnClick=!0,c.canDrag=!0,T.style.transition="none",n.draggableDirection==="x"?(c.start=C.clientX,c.removalDistance=T.offsetWidth*(n.draggablePercent/100)):(c.start=C.clientY,c.removalDistance=T.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(C){let{top:T,bottom:R,left:A,right:L}=l.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=A&&C.clientX<=L&&C.clientY>=T&&C.clientY<=R?N():M()}function M(){t(!0)}function N(){t(!1)}function Q(){c.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",F)}function Y(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",F)}function ne(C){let T=l.current;if(c.canDrag&&T){c.didMove=!0,e&&N(),n.draggableDirection==="x"?c.delta=C.clientX-c.start:c.delta=C.clientY-c.start,c.start!==C.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;T.style.transform=`translate3d(${R},0)`,T.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function F(){Y();let C=l.current;if(c.canDrag&&c.didMove&&C){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let oe={onPointerDown:O,onPointerUp:z};return d&&p&&(oe.onMouseEnter=N,n.stacked||(oe.onMouseLeave=M)),I&&(oe.onClick=C=>{_&&_(C),c.canCloseOnClick&&y(!0)}),{playToast:M,pauseToast:N,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:oe}}var EE=typeof window<"u"?U.useLayoutEffect:U.useEffect,bc=({theme:n,type:e,isLoading:t,...i})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function TE(n){return it.createElement(bc,{...n},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function IE(n){return it.createElement(bc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function SE(n){return it.createElement(bc,{...n},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function RE(n){return it.createElement(bc,{...n},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function CE(){return it.createElement("div",{className:"Toastify__spinner"})}var Qd={info:IE,warning:TE,success:SE,error:RE,spinner:CE},xE=n=>n in Qd;function kE({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(yi(i)?o=i({...l,isLoading:t}):U.isValidElement(i)?o=U.cloneElement(i,l):t?o=Qd.spinner():xE(e)&&(o=Qd[e](l))),o}var PE=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=wE(n),{closeButton:c,children:d,autoClose:p,onClick:y,type:_,hideProgressBar:I,closeToast:S,transition:P,position:O,className:z,style:M,progressClassName:N,updateId:Q,role:Y,progress:ne,rtl:F,toastId:oe,deleteToast:C,isIn:T,isLoading:R,closeOnClick:A,theme:L,ariaLabel:j}=n,k=qs("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":A}),ht=yi(z)?z({rtl:F,position:O,type:_,defaultClassName:k}):qs(k,z),ze=kE(n),_t=!!ne||!p,Ue={closeToast:S,type:_,theme:L},ae=null;return c===!1||(yi(c)?ae=c(Ue):U.isValidElement(c)?ae=U.cloneElement(c,Ue):ae=iE(Ue)),it.createElement(P,{isIn:T,done:C,position:O,preventExitTransition:t,nodeRef:i,playToast:l},it.createElement("div",{id:oe,tabIndex:0,onClick:y,"data-in":T,className:ht,...o,style:M,ref:i,...T&&{role:Y,"aria-label":j}},ze!=null&&it.createElement("div",{className:qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ze),vv(d,n,!e),ae,!n.customProgressBar&&it.createElement(sE,{...Q&&!_t?{key:`p-${Q}`}:{},rtl:F,theme:L,delay:p,isRunning:e,isIn:T,closeToast:S,hide:I,type:_,className:N,controlledProgress:_t,progress:ne||0})))},AE=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),bE=rE(AE("bounce",!0)),NE={position:"top-right",transition:bE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function DE(n){let e={...NE,...n},t=n.stacked,[i,o]=U.useState(!0),l=U.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=_E(e),{className:y,style:_,rtl:I,containerId:S,hotKeys:P}=e;function O(M){let N=qs("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":I});return yi(y)?y({position:M,rtl:I,defaultClassName:N}):qs(N,qd(y))}function z(){t&&(o(!0),lt.play())}return EE(()=>{var M;if(t){let N=l.current.querySelectorAll('[data-in="true"]'),Q=12,Y=(M=e.position)==null?void 0:M.includes("top"),ne=0,F=0;Array.from(N).reverse().forEach((oe,C)=>{let T=oe;T.classList.add("Toastify__toast--stacked"),C>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=Y?"top":"bot");let R=ne*(i?.2:1)+(i?0:Q*C);T.style.setProperty("--y",`${Y?R:R*-1}px`),T.style.setProperty("--g",`${Q}`),T.style.setProperty("--s",`${1-(i?F:0)}`),ne+=T.offsetHeight,F+=.025})}},[i,p,t]),U.useEffect(()=>{function M(N){var Q;let Y=l.current;P(N)&&((Q=Y.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),lt.pause()),N.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),lt.play())}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[P]),it.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),lt.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((M,N)=>{let Q=N.length?{..._}:{..._,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:O(M),"data-stacked":t,style:Q,key:`c-${M}`},N.map(({content:Y,props:ne})=>it.createElement(PE,{...ne,stacked:t,collapseAll:z,isIn:d(ne.toastId,ne.containerId),key:`t-${ne.key}`},Y)))}))}var qa={},Pg;function LE(){if(Pg)return qa;Pg=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.parse=c,qa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,P){const O=new l,z=S.length;if(z<2)return O;const M=(P==null?void 0:P.decode)||_;let N=0;do{const Q=S.indexOf("=",N);if(Q===-1)break;const Y=S.indexOf(";",N),ne=Y===-1?z:Y;if(Q>ne){N=S.lastIndexOf(";",Q-1)+1;continue}const F=d(S,N,Q),oe=p(S,Q,F),C=S.slice(F,oe);if(O[C]===void 0){let T=d(S,Q+1,ne),R=p(S,ne,T);const A=M(S.slice(T,R));O[C]=A}N=ne+1}while(N<z);return O}function d(S,P,O){do{const z=S.charCodeAt(P);if(z!==32&&z!==9)return P}while(++P<O);return O}function p(S,P,O){for(;P>O;){const z=S.charCodeAt(--P);if(z!==32&&z!==9)return P+1}return O}function y(S,P,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const M=z(P);if(!e.test(M))throw new TypeError(`argument val is invalid: ${P}`);let N=S+"="+M;if(!O)return N;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);N+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);N+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);N+="; Path="+O.path}if(O.expires){if(!I(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);N+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(N+="; HttpOnly"),O.secure&&(N+="; Secure"),O.partitioned&&(N+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return N}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return qa}LE();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ag="popstate";function OE(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ei(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ul("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof l=="string"?l:ds(l))}function i(o,l){Wt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return VE(e,t,i,n)}function qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ME(){return Math.random().toString(36).substring(2,10)}function bg(n,e){return{usr:n.state,key:n.key,idx:e}}function ul(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ei(e):e,state:t,key:e&&e.key||i||ME()}}function ds({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ei(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function VE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function I(){d="POP";let M=_(),N=M==null?null:M-y;y=M,p&&p({action:d,location:z.location,delta:N})}function S(M,N){d="PUSH";let Q=ul(z.location,M,N);t(Q,M),y=_()+1;let Y=bg(Q,y),ne=z.createHref(Q);try{c.pushState(Y,"",ne)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(ne)}l&&p&&p({action:d,location:z.location,delta:1})}function P(M,N){d="REPLACE";let Q=ul(z.location,M,N);t(Q,M),y=_();let Y=bg(Q,y),ne=z.createHref(Q);c.replaceState(Y,"",ne),l&&p&&p({action:d,location:z.location,delta:0})}function O(M){let N=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof M=="string"?M:ds(M);return Q=Q.replace(/ $/,"%20"),qe(N,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,N)}let z={get action(){return d},get location(){return n(o,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ag,I),p=M,()=>{o.removeEventListener(Ag,I),p=null}},createHref(M){return e(o,M)},createURL:O,encodeLocation(M){let N=O(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:S,replace:P,go(M){return c.go(M)}};return z}var FE=new Set(["lazy","caseSensitive","path","id","index","children"]);function UE(n){return n.index===!0}function lc(n,e,t=[],i={}){return n.map((o,l)=>{let c=[...t,String(l)],d=typeof o.id=="string"?o.id:c.join("-");if(qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),qe(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),UE(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=lc(o.children,e,c,i)),p}})}function ns(n,e,t="/"){return Yu(n,e,t,!1)}function Yu(n,e,t,i){let o=typeof e=="string"?Ei(e):e,l=_r(o.pathname||"/",t);if(l==null)return null;let c=Sv(n);zE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=JE(l);d=YE(c[p],y,i)}return d}function jE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Sv(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Fr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Sv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:GE(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of Rv(l.path))o(l,c,p)}),e}function Rv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Rv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function zE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var BE=/^:[\w-]+$/,$E=3,HE=2,WE=1,qE=10,KE=-2,Ng=n=>n==="*";function GE(n,e){let t=n.split("/"),i=t.length;return t.some(Ng)&&(i+=KE),e&&(i+=HE),t.filter(o=>!Ng(o)).reduce((o,l)=>o+(BE.test(l)?$E:l===""?WE:qE),i)}function QE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function YE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",I=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!I)return null;Object.assign(o,I.params),c.push({params:o,pathname:Fr([l,I.pathname]),pathnameBase:t1(Fr([l,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(l=Fr([l,I.pathnameBase]))}return c}function uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=XE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:I},S)=>{if(_==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const P=d[S];return I&&!P?y[_]=void 0:y[_]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function XE(n,e=!1,t=!0){Wt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function JE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _r(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ZE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ei(n):n;return{pathname:t?t.startsWith("/")?t:e1(t,e):e,search:n1(i),hash:r1(o)}}function e1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Pd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cf(n){let e=Cv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function xf(n,e,t,i=!1){let o;typeof n=="string"?o=Ei(n):(o={...n},qe(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let I=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}d=I>=0?e[I]:"/"}let p=ZE(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Fr=n=>n.join("/").replace(/\/\/+/g,"/"),t1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,r1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,cc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Nc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xv=["POST","PUT","PATCH","DELETE"],i1=new Set(xv),s1=["GET",...xv],o1=new Set(s1),a1=new Set([301,302,303,307,308]),l1=new Set([307,308]),Ad={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},u1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ka={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),kv="remix-router-transitions",Pv=Symbol("ResetLoaderData");function h1(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||c1,o={},l=lc(n.routes,i,void 0,o),c,d=n.basename||"/",p=n.dataStrategy||g1,y=n.patchRoutesOnNavigation,_={...n.future},I=null,S=new Set,P=null,O=null,z=null,M=n.hydrationData!=null,N=ns(l,n.history.location,d),Q=null;if(N==null&&!y){let D=Jn(404,{pathname:n.history.location.pathname}),{matches:$,route:X}=$g(l);N=$,Q={[X.id]:D}}N&&!n.hydrationData&&nr(N,l,n.history.location.pathname).active&&(N=null);let Y;if(N)if(N.some(D=>D.route.lazy))Y=!1;else if(!N.some(D=>D.route.loader))Y=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let X=N.findIndex(ee=>$[ee.route.id]!==void 0);Y=N.slice(0,X+1).every(ee=>!Xd(ee.route,D,$))}else Y=N.every(X=>!Xd(X.route,D,$))}else{Y=!1,N=[];let D=nr(null,l,n.history.location.pathname);D.active&&D.matches&&(N=D.matches)}let ne,F={historyAction:n.history.action,location:n.history.location,matches:N,initialized:Y,navigation:Ad,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},oe="POP",C=!1,T,R=!1,A=new Map,L=null,j=!1,k=!1,ht=new Set,ze=new Map,_t=0,Ue=-1,ae=new Map,Te=new Set,de=new Map,B=new Map,Z=new Set,we=new Map,Le,De=null;function Be(){if(I=n.history.listen(({action:D,location:$,delta:X})=>{if(Le){Le(),Le=void 0;return}Wt(we.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Ai({currentLocation:F.location,nextLocation:$,historyAction:D});if(ee&&X!=null){let fe=new Promise(ye=>{Le=ye});n.history.go(X*-1),Rr(ee,{state:"blocked",location:$,proceed(){Rr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),fe.then(()=>n.history.go(X))},reset(){let ye=new Map(F.blockers);ye.set(ee,Ka),Me({blockers:ye})}});return}return nn(D,$)}),t){x1(e,A);let D=()=>k1(e,A);e.addEventListener("pagehide",D),L=()=>e.removeEventListener("pagehide",D)}return F.initialized||nn("POP",F.location,{initialHydration:!0}),ne}function Je(){I&&I(),L&&L(),S.clear(),T&&T.abort(),F.fetchers.forEach((D,$)=>Ln($)),F.blockers.forEach((D,$)=>Pi($))}function Ze(D){return S.add(D),()=>S.delete(D)}function Me(D,$={}){F={...F,...D};let X=[],ee=[];F.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(Z.has(ye)?X.push(ye):ee.push(ye))}),[...S].forEach(fe=>fe(F,{deletedFetchers:X,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),X.forEach(fe=>Ln(fe)),ee.forEach(fe=>F.fetchers.delete(fe))}function pt(D,$,{flushSync:X}={}){var ue,Pe;let ee=F.actionData!=null&&F.navigation.formMethod!=null&&vr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ue=D.state)==null?void 0:ue._isRedirect)!==!0,fe;$.actionData?Object.keys($.actionData).length>0?fe=$.actionData:fe=null:ee?fe=F.actionData:fe=null;let ye=$.loaderData?zg(F.loaderData,$.loaderData,$.matches||[],$.errors):F.loaderData,Re=F.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ve,st)=>Re.set(st,Ka)));let pe=C===!0||F.navigation.formMethod!=null&&vr(F.navigation.formMethod)&&((Pe=D.state)==null?void 0:Pe._isRedirect)!==!0;c&&(l=c,c=void 0),j||oe==="POP"||(oe==="PUSH"?n.history.push(D,D.state):oe==="REPLACE"&&n.history.replace(D,D.state));let _e;if(oe==="POP"){let Ve=A.get(F.location.pathname);Ve&&Ve.has(D.pathname)?_e={currentLocation:F.location,nextLocation:D}:A.has(D.pathname)&&(_e={currentLocation:D,nextLocation:F.location})}else if(R){let Ve=A.get(F.location.pathname);Ve?Ve.add(D.pathname):(Ve=new Set([D.pathname]),A.set(F.location.pathname,Ve)),_e={currentLocation:F.location,nextLocation:D}}Me({...$,actionData:fe,loaderData:ye,historyAction:oe,location:D,initialized:!0,navigation:Ad,revalidation:"idle",restoreScrollPosition:On(D,$.matches||F.matches),preventScrollReset:pe,blockers:Re},{viewTransitionOpts:_e,flushSync:X===!0}),oe="POP",C=!1,R=!1,j=!1,k=!1,De==null||De.resolve(),De=null}async function $n(D,$){if(typeof D=="number"){n.history.go(D);return}let X=Yd(F.location,F.matches,d,D,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:ee,submission:fe,error:ye}=Dg(!1,X,$),Re=F.location,pe=ul(F.location,ee,$&&$.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=$&&$.replace!=null?$.replace:void 0,ue="PUSH";_e===!0?ue="REPLACE":_e===!1||fe!=null&&vr(fe.formMethod)&&fe.formAction===F.location.pathname+F.location.search&&(ue="REPLACE");let Pe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ve=($&&$.flushSync)===!0,st=Ai({currentLocation:Re,nextLocation:pe,historyAction:ue});if(st){Rr(st,{state:"blocked",location:pe,proceed(){Rr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),$n(D,$)},reset(){let Ct=new Map(F.blockers);Ct.set(st,Ka),Me({blockers:Ct})}});return}await nn(ue,pe,{submission:fe,pendingError:ye,preventScrollReset:Pe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ve})}function Si(){De||(De=P1()),Tr(),Me({revalidation:"loading"});let D=De.promise;return F.navigation.state==="submitting"?D:F.navigation.state==="idle"?(nn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),D):(nn(oe||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:R===!0}),D)}async function nn(D,$,X){T&&T.abort(),T=null,oe=D,j=(X&&X.startUninterruptedRevalidation)===!0,Tn(F.location,F.matches),C=(X&&X.preventScrollReset)===!0,R=(X&&X.enableViewTransition)===!0;let ee=c||l,fe=X&&X.overrideNavigation,ye=ns(ee,$,d),Re=(X&&X.flushSync)===!0,pe=nr(ye,ee,$.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:He,notFoundMatches:et,route:ot}=tr($.pathname);pt($,{matches:et,loaderData:{},errors:{[ot.id]:He}},{flushSync:Re});return}if(F.initialized&&!k&&T1(F.location,$)&&!(X&&X.submission&&vr(X.submission.formMethod))){pt($,{matches:ye},{flushSync:Re});return}T=new AbortController;let _e=zo(n.history,$,T.signal,X&&X.submission),ue;if(X&&X.pendingError)ue=[$s(ye).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&vr(X.submission.formMethod)){let He=await Gr(_e,$,X.submission,ye,pe.active,{replace:X.replace,flushSync:Re});if(He.shortCircuited)return;if(He.pendingActionResult){let[et,ot]=He.pendingActionResult;if(Bn(ot)&&Nc(ot.error)&&ot.error.status===404){T=null,pt($,{matches:He.matches,loaderData:{},errors:{[et]:ot.error}});return}}ye=He.matches||ye,ue=He.pendingActionResult,fe=bd($,X.submission),Re=!1,pe.active=!1,_e=zo(n.history,_e.url,_e.signal)}let{shortCircuited:Pe,matches:Ve,loaderData:st,errors:Ct}=await Ri(_e,$,ye,pe.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Re,ue);Pe||(T=null,pt($,{matches:Ve||ye,...Bg(ue),loaderData:st,errors:Ct}))}async function Gr(D,$,X,ee,fe,ye={}){Tr();let Re=R1($,X);if(Me({navigation:Re},{flushSync:ye.flushSync===!0}),fe){let ue=await pn(ee,$.pathname,D.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let Pe=$s(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[Pe,{type:"error",error:ue.error}]}}else if(ue.matches)ee=ue.matches;else{let{notFoundMatches:Pe,error:Ve,route:st}=tr($.pathname);return{matches:Pe,pendingActionResult:[st.id,{type:"error",error:Ve}]}}}let pe,_e=Ya(ee,$);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:Jn(405,{method:D.method,pathname:$.pathname,routeId:_e.route.id})};else if(pe=(await er("action",F,D,[_e],ee,null))[_e.route.id],D.signal.aborted)return{shortCircuited:!0};if(Hs(pe)){let ue;return ye&&ye.replace!=null?ue=ye.replace:ue=Fg(pe.response.headers.get("Location"),new URL(D.url),d)===F.location.pathname+F.location.search,await qt(D,pe,!0,{submission:X,replace:ue}),{shortCircuited:!0}}if(Bn(pe)){let ue=$s(ee,_e.route.id);return(ye&&ye.replace)!==!0&&(oe="PUSH"),{matches:ee,pendingActionResult:[ue.route.id,pe]}}return{matches:ee,pendingActionResult:[_e.route.id,pe]}}async function Ri(D,$,X,ee,fe,ye,Re,pe,_e,ue,Pe){let Ve=fe||bd($,ye),st=ye||Re||Wg(Ve),Ct=!j&&!_e;if(ee){if(Ct){let mt=Ci(Pe);Me({navigation:Ve,...mt!==void 0?{actionData:mt}:{}},{flushSync:ue})}let Ke=await pn(X,$.pathname,D.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let mt=$s(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[mt]:Ke.error}}}else if(Ke.matches)X=Ke.matches;else{let{error:mt,notFoundMatches:Qt,route:or}=tr($.pathname);return{matches:Qt,loaderData:{},errors:{[or.id]:mt}}}}let He=c||l,[et,ot]=Og(n.history,F,X,st,$,_e===!0,k,ht,Z,de,Te,He,d,Pe);if(Ue=++_t,et.length===0&&ot.length===0){let Ke=Sr();return pt($,{matches:X,loaderData:{},errors:Pe&&Bn(Pe[1])?{[Pe[0]]:Pe[1].error}:null,...Bg(Pe),...Ke?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ue}),{shortCircuited:!0}}if(Ct){let Ke={};if(!ee){Ke.navigation=Ve;let mt=Ci(Pe);mt!==void 0&&(Ke.actionData=mt)}ot.length>0&&(Ke.fetchers=ws(ot)),Me(Ke,{flushSync:ue})}ot.forEach(Ke=>{Kt(Ke.key),Ke.controller&&ze.set(Ke.key,Ke.controller)});let rr=()=>ot.forEach(Ke=>Kt(Ke.key));T&&T.signal.addEventListener("abort",rr);let{loaderResults:ir,fetcherResults:rn}=await Qr(F,X,et,ot,D);if(D.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",rr),ot.forEach(Ke=>ze.delete(Ke.key));let Gt=zu(ir);if(Gt)return await qt(D,Gt.result,!0,{replace:pe}),{shortCircuited:!0};if(Gt=zu(rn),Gt)return Te.add(Gt.key),await qt(D,Gt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Jr,errors:Cr}=jg(F,X,ir,Pe,ot,rn);_e&&F.errors&&(Cr={...F.errors,...Cr});let sr=Sr(),at=ki(Ue),Zr=sr||at||ot.length>0;return{matches:X,loaderData:Jr,errors:Cr,...Zr?{fetchers:new Map(F.fetchers)}:{}}}function Ci(D){if(D&&!Bn(D[1]))return{[D[0]]:D[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function ws(D){return D.forEach($=>{let X=F.fetchers.get($.key),ee=Ga(void 0,X?X.data:void 0);F.fetchers.set($.key,ee)}),new Map(F.fetchers)}async function so(D,$,X,ee){Kt(D);let fe=(ee&&ee.flushSync)===!0,ye=c||l,Re=Yd(F.location,F.matches,d,X,$,ee==null?void 0:ee.relative),pe=ns(ye,Re,d),_e=nr(pe,ye,Re);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){ut(D,$,Jn(404,{pathname:Re}),{flushSync:fe});return}let{path:ue,submission:Pe,error:Ve}=Dg(!0,Re,ee);if(Ve){ut(D,$,Ve,{flushSync:fe});return}let st=Ya(pe,ue),Ct=(ee&&ee.preventScrollReset)===!0;if(Pe&&vr(Pe.formMethod)){await xi(D,$,ue,st,pe,_e.active,fe,Ct,Pe);return}de.set(D,{routeId:$,path:ue}),await Zn(D,$,ue,st,pe,_e.active,fe,Ct,Pe)}async function xi(D,$,X,ee,fe,ye,Re,pe,_e){Tr(),de.delete(D);function ue(gt){if(!gt.route.action&&!gt.route.lazy){let In=Jn(405,{method:_e.formMethod,pathname:X,routeId:$});return ut(D,$,In,{flushSync:Re}),!0}return!1}if(!ye&&ue(ee))return;let Pe=F.fetchers.get(D);En(D,C1(_e,Pe),{flushSync:Re});let Ve=new AbortController,st=zo(n.history,X,Ve.signal,_e);if(ye){let gt=await pn(fe,X,st.signal);if(gt.type==="aborted")return;if(gt.type==="error"){ut(D,$,gt.error,{flushSync:Re});return}else if(gt.matches){if(fe=gt.matches,ee=Ya(fe,X),ue(ee))return}else{ut(D,$,Jn(404,{pathname:X}),{flushSync:Re});return}}ze.set(D,Ve);let Ct=_t,et=(await er("action",F,st,[ee],fe,D))[ee.route.id];if(st.signal.aborted){ze.get(D)===Ve&&ze.delete(D);return}if(Z.has(D)){if(Hs(et)||Bn(et)){En(D,ts(void 0));return}}else{if(Hs(et))if(ze.delete(D),Ue>Ct){En(D,ts(void 0));return}else return Te.add(D),En(D,Ga(_e)),qt(st,et,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(Bn(et)){ut(D,$,et.error);return}}let ot=F.navigation.location||F.location,rr=zo(n.history,ot,Ve.signal),ir=c||l,rn=F.navigation.state!=="idle"?ns(ir,F.navigation.location,d):F.matches;qe(rn,"Didn't find any matches after fetcher action");let Gt=++_t;ae.set(D,Gt);let Jr=Ga(_e,et.data);F.fetchers.set(D,Jr);let[Cr,sr]=Og(n.history,F,rn,_e,ot,!1,k,ht,Z,de,Te,ir,d,[ee.route.id,et]);sr.filter(gt=>gt.key!==D).forEach(gt=>{let In=gt.key,sn=F.fetchers.get(In),oo=Ga(void 0,sn?sn.data:void 0);F.fetchers.set(In,oo),Kt(In),gt.controller&&ze.set(In,gt.controller)}),Me({fetchers:new Map(F.fetchers)});let at=()=>sr.forEach(gt=>Kt(gt.key));Ve.signal.addEventListener("abort",at);let{loaderResults:Zr,fetcherResults:Ke}=await Qr(F,rn,Cr,sr,rr);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",at),ae.delete(D),ze.delete(D),sr.forEach(gt=>ze.delete(gt.key));let mt=zu(Zr);if(mt)return qt(rr,mt.result,!1,{preventScrollReset:pe});if(mt=zu(Ke),mt)return Te.add(mt.key),qt(rr,mt.result,!1,{preventScrollReset:pe});let{loaderData:Qt,errors:or}=jg(F,rn,Zr,void 0,sr,Ke);if(F.fetchers.has(D)){let gt=ts(et.data);F.fetchers.set(D,gt)}ki(Gt),F.navigation.state==="loading"&&Gt>Ue?(qe(oe,"Expected pending action"),T&&T.abort(),pt(F.navigation.location,{matches:rn,loaderData:Qt,errors:or,fetchers:new Map(F.fetchers)})):(Me({errors:or,loaderData:zg(F.loaderData,Qt,rn,or),fetchers:new Map(F.fetchers)}),k=!1)}async function Zn(D,$,X,ee,fe,ye,Re,pe,_e){let ue=F.fetchers.get(D);En(D,Ga(_e,ue?ue.data:void 0),{flushSync:Re});let Pe=new AbortController,Ve=zo(n.history,X,Pe.signal);if(ye){let et=await pn(fe,X,Ve.signal);if(et.type==="aborted")return;if(et.type==="error"){ut(D,$,et.error,{flushSync:Re});return}else if(et.matches)fe=et.matches,ee=Ya(fe,X);else{ut(D,$,Jn(404,{pathname:X}),{flushSync:Re});return}}ze.set(D,Pe);let st=_t,He=(await er("loader",F,Ve,[ee],fe,D))[ee.route.id];if(ze.get(D)===Pe&&ze.delete(D),!Ve.signal.aborted){if(Z.has(D)){En(D,ts(void 0));return}if(Hs(He))if(Ue>st){En(D,ts(void 0));return}else{Te.add(D),await qt(Ve,He,!1,{preventScrollReset:pe});return}if(Bn(He)){ut(D,$,He.error);return}En(D,ts(He.data))}}async function qt(D,$,X,{submission:ee,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){$.response.headers.has("X-Remix-Revalidate")&&(k=!0);let pe=$.response.headers.get("Location");qe(pe,"Expected a Location header on the redirect Response"),pe=Fg(pe,new URL(D.url),d);let _e=ul(F.location,pe,{_isRedirect:!0});if(t){let He=!1;if($.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(kf.test(pe)){const et=n.history.createURL(pe);He=et.origin!==e.location.origin||_r(et.pathname,d)==null}if(He){Re?e.location.replace(pe):e.location.assign(pe);return}}T=null;let ue=Re===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Ve,formEncType:st}=F.navigation;!ee&&!fe&&Pe&&Ve&&st&&(ee=Wg(F.navigation));let Ct=ee||fe;if(l1.has($.response.status)&&Ct&&vr(Ct.formMethod))await nn(ue,_e,{submission:{...Ct,formAction:pe},preventScrollReset:ye||C,enableViewTransition:X?R:void 0});else{let He=bd(_e,ee);await nn(ue,_e,{overrideNavigation:He,fetcherSubmission:fe,preventScrollReset:ye||C,enableViewTransition:X?R:void 0})}}async function er(D,$,X,ee,fe,ye){let Re,pe={};try{Re=await y1(p,D,$,X,ee,fe,ye,o,i)}catch(_e){return ee.forEach(ue=>{pe[ue.route.id]={type:"error",error:_e}}),pe}for(let[_e,ue]of Object.entries(Re))if(I1(ue)){let Pe=ue.result;pe[_e]={type:"redirect",response:w1(Pe,X,_e,fe,d)}}else pe[_e]=await _1(ue);return pe}async function Qr(D,$,X,ee,fe){let ye=er("loader",D,fe,X,$,null),Re=Promise.all(ee.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Ve=(await er("loader",D,zo(n.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Ve}}else return Promise.resolve({[ue.key]:{type:"error",error:Jn(404,{pathname:ue.path})}})})),pe=await ye,_e=(await Re).reduce((ue,Pe)=>Object.assign(ue,Pe),{});return{loaderResults:pe,fetcherResults:_e}}function Tr(){k=!0,de.forEach((D,$)=>{ze.has($)&&ht.add($),Kt($)})}function En(D,$,X={}){F.fetchers.set(D,$),Me({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ut(D,$,X,ee={}){let fe=$s(F.matches,$);Ln(D),Me({errors:{[fe.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Rt(D){return B.set(D,(B.get(D)||0)+1),Z.has(D)&&Z.delete(D),F.fetchers.get(D)||u1}function Ln(D){let $=F.fetchers.get(D);ze.has(D)&&!($&&$.state==="loading"&&ae.has(D))&&Kt(D),de.delete(D),ae.delete(D),Te.delete(D),Z.delete(D),ht.delete(D),F.fetchers.delete(D)}function Es(D){let $=(B.get(D)||0)-1;$<=0?(B.delete(D),Z.add(D)):B.set(D,$),Me({fetchers:new Map(F.fetchers)})}function Kt(D){let $=ze.get(D);$&&($.abort(),ze.delete(D))}function Ir(D){for(let $ of D){let X=Rt($),ee=ts(X.data);F.fetchers.set($,ee)}}function Sr(){let D=[],$=!1;for(let X of Te){let ee=F.fetchers.get(X);qe(ee,`Expected fetcher: ${X}`),ee.state==="loading"&&(Te.delete(X),D.push(X),$=!0)}return Ir(D),$}function ki(D){let $=[];for(let[X,ee]of ae)if(ee<D){let fe=F.fetchers.get(X);qe(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(Kt(X),ae.delete(X),$.push(X))}return Ir($),$.length>0}function Ts(D,$){let X=F.blockers.get(D)||Ka;return we.get(D)!==$&&we.set(D,$),X}function Pi(D){F.blockers.delete(D),we.delete(D)}function Rr(D,$){let X=F.blockers.get(D)||Ka;qe(X.state==="unblocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="proceeding"||X.state==="blocked"&&$.state==="unblocked"||X.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${$.state}`);let ee=new Map(F.blockers);ee.set(D,$),Me({blockers:ee})}function Ai({currentLocation:D,nextLocation:$,historyAction:X}){if(we.size===0)return;we.size>1&&Wt(!1,"A router only supports one blocker at a time");let ee=Array.from(we.entries()),[fe,ye]=ee[ee.length-1],Re=F.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:D,nextLocation:$,historyAction:X}))return fe}function tr(D){let $=Jn(404,{pathname:D}),X=c||l,{matches:ee,route:fe}=$g(X);return{notFoundMatches:ee,route:fe,error:$}}function bi(D,$,X){if(P=D,z=$,O=X||null,!M&&F.navigation===Ad){M=!0;let ee=On(F.location,F.matches);ee!=null&&Me({restoreScrollPosition:ee})}return()=>{P=null,z=null,O=null}}function Yr(D,$){return O&&O(D,$.map(ee=>jE(ee,F.loaderData)))||D.key}function Tn(D,$){if(P&&z){let X=Yr(D,$);P[X]=z()}}function On(D,$){if(P){let X=Yr(D,$),ee=P[X];if(typeof ee=="number")return ee}return null}function nr(D,$,X){if(y)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Yu($,X,d,!0)}}else return{active:!0,matches:Yu($,X,d,!0)||[]};return{active:!1,matches:null}}async function pn(D,$,X){if(!y)return{type:"success",matches:D};let ee=D;for(;;){let fe=c==null,ye=c||l,Re=o;try{await y({path:$,matches:ee,patch:(ue,Pe)=>{X.aborted||Vg(ue,Pe,ye,Re,i)}})}catch(ue){return{type:"error",error:ue,partialMatches:ee}}finally{fe&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let pe=ns(ye,$,d);if(pe)return{type:"success",matches:pe};let _e=Yu(ye,$,d,!0);if(!_e||ee.length===_e.length&&ee.every((ue,Pe)=>ue.route.id===_e[Pe].route.id))return{type:"success",matches:null};ee=_e}}function Is(D){o={},c=lc(D,i,void 0,o)}function Xr(D,$){let X=c==null;Vg(D,$,c||l,o,i),X&&(l=[...l],Me({}))}return ne={get basename(){return d},get future(){return _},get state(){return F},get routes(){return l},get window(){return e},initialize:Be,subscribe:Ze,enableScrollRestoration:bi,navigate:$n,fetch:so,revalidate:Si,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Rt,deleteFetcher:Es,dispose:Je,getBlocker:Ts,deleteBlocker:Pi,patchRoutes:Xr,_internalFetchControllers:ze,_internalSetRoutes:Is},ne}function d1(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Yd(n,e,t,i,o,l){let c,d;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){d=y;break}}else c=e,d=e[e.length-1];let p=xf(i||".",Cf(c),_r(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=Pf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let _=new URLSearchParams(p.search),I=_.getAll("index");_.delete("index"),I.filter(P=>P).forEach(P=>_.append("index",P));let S=_.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Fr([t,p.pathname])),ds(p)}function Dg(n,e,t){if(!t||!d1(t))return{path:e};if(t.formMethod&&!S1(t.formMethod))return{path:e,error:Jn(405,{method:t.formMethod})};let i=()=>({path:e,error:Jn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=bv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!vr(l))return i();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[P,O])=>`${S}${P}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!vr(l))return i();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Jd(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Jd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Ug(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Ug(d)}catch{return i()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(vr(y.formMethod))return{path:e,submission:y};let _=Ei(e);return n&&_.search&&Pf(_.search)&&d.append("index",""),_.search=`?${d}`,{path:ds(_),submission:y}}function Lg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Og(n,e,t,i,o,l,c,d,p,y,_,I,S,P){let O=P?Bn(P[1])?P[1].error:P[1].data:void 0,z=n.createURL(e.location),M=n.createURL(o),N=t;l&&e.errors?N=Lg(t,Object.keys(e.errors)[0],!0):P&&Bn(P[1])&&(N=Lg(t,P[0]));let Q=P?P[1].statusCode:void 0,Y=Q&&Q>=400,ne=N.filter((oe,C)=>{let{route:T}=oe;if(T.lazy)return!0;if(T.loader==null)return!1;if(l)return Xd(T,e.loaderData,e.errors);if(f1(e.loaderData,e.matches[C],oe))return!0;let R=e.matches[C],A=oe;return Mg(oe,{currentUrl:z,currentParams:R.params,nextUrl:M,nextParams:A.params,...i,actionResult:O,actionStatus:Q,defaultShouldRevalidate:Y?!1:c||z.pathname+z.search===M.pathname+M.search||z.search!==M.search||p1(R,A)})}),F=[];return y.forEach((oe,C)=>{if(l||!t.some(j=>j.route.id===oe.routeId)||p.has(C))return;let T=ns(I,oe.path,S);if(!T){F.push({key:C,routeId:oe.routeId,path:oe.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(C),A=Ya(T,oe.path),L=!1;_.has(C)?L=!1:d.has(C)?(d.delete(C),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=c:L=Mg(A,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:t[t.length-1].params,...i,actionResult:O,actionStatus:Q,defaultShouldRevalidate:Y?!1:c}),L&&F.push({key:C,routeId:oe.routeId,path:oe.path,matches:T,match:A,controller:new AbortController})}),[ne,F]}function Xd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function f1(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function p1(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Mg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Vg(n,e,t,i,o){let l;if(n){let p=i[n];qe(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(y=>Av(p,y))),d=lc(c,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function Av(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Av(t,l))}):!1}async function m1(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];qe(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";Wt(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!FE.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function g1({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function y1(n,e,t,i,o,l,c,d,p,y){let _=l.map(P=>P.route.lazy?m1(P.route,p,d):void 0),I=l.map((P,O)=>{let z=_[O],M=o.some(Q=>Q.route.id===P.route.id);return{...P,shouldLoad:M,resolve:async Q=>(Q&&i.method==="GET"&&(P.route.lazy||P.route.loader)&&(M=!0),M?v1(e,i,P,z,Q,y):Promise.resolve({type:"data",result:void 0}))}}),S=await n({matches:I,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(_)}catch{}return S}async function v1(n,e,t,i,o,l){let c,d,p=y=>{let _,I=new Promise((O,z)=>_=z);d=()=>_(),e.signal.addEventListener("abort",d);let S=O=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...O!==void 0?[O]:[]),P=(async()=>{try{return{type:"data",result:await(o?o(z=>S(z)):S())}}catch(O){return{type:"error",result:O}}})();return Promise.race([P,I])};try{let y=t.route[n];if(i)if(y){let _,[I]=await Promise.all([p(y).catch(S=>{_=S}),i]);if(_!==void 0)throw _;c=I}else if(await i,y=t.route[n],y)c=await p(y);else if(n==="action"){let _=new URL(e.url),I=_.pathname+_.search;throw Jn(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await p(y);else{let _=new URL(e.url),I=_.pathname+_.search;throw Jn(404,{pathname:I})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function _1(n){var i,o,l,c;let{result:e,type:t}=n;if(Nv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new cc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Hg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new cc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Nc(e)?e.status:void 0}}return Hg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function w1(n,e,t,i,o){let l=n.headers.get("Location");if(qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!kf.test(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=Yd(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function Fg(n,e,t){if(kf.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=_r(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function zo(n,e,t,i){let o=n.createURL(bv(e)).toString(),l={signal:t};if(i&&vr(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Jd(i.formData):l.body=i.formData}return new Request(o,l)}function Jd(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Ug(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function E1(n,e,t,i=!1,o=!1){let l={},c=null,d,p=!1,y={},_=t&&Bn(t[1])?t[1].error:void 0;return n.forEach(I=>{if(!(I.route.id in e))return;let S=I.route.id,P=e[S];if(qe(!Hs(P),"Cannot handle redirect results in processLoaderData"),Bn(P)){let O=P.error;if(_!==void 0&&(O=_,_=void 0),c=c||{},o)c[S]=O;else{let z=$s(n,S);c[z.route.id]==null&&(c[z.route.id]=O)}i||(l[S]=Pv),p||(p=!0,d=Nc(P.error)?P.error.status:500),P.headers&&(y[S]=P.headers)}else l[S]=P.data,P.statusCode&&P.statusCode!==200&&!p&&(d=P.statusCode),P.headers&&(y[S]=P.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:y}}function jg(n,e,t,i,o,l){let{loaderData:c,errors:d}=E1(e,t,i);return o.forEach(p=>{let{key:y,match:_,controller:I}=p,S=l[y];if(qe(S,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Bn(S)){let P=$s(n.matches,_==null?void 0:_.route.id);d&&d[P.route.id]||(d={...d,[P.route.id]:S.error}),n.fetchers.delete(y)}else if(Hs(S))qe(!1,"Unhandled fetcher revalidation redirect");else{let P=ts(S.data);n.fetchers.set(y,P)}}),{loaderData:c,errors:d}}function zg(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==Pv).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function Bg(n){return n?Bn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $s(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function $g(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jn(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new cc(n||500,c,new Error(d),!0)}function zu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Hs(o))return{key:i,result:o}}}function bv(n){let e=typeof n=="string"?Ei(n):n;return ds({...e,hash:""})}function T1(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function I1(n){return Nv(n.result)&&a1.has(n.result.status)}function Bn(n){return n.type==="error"}function Hs(n){return(n&&n.type)==="redirect"}function Hg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Nv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function S1(n){return o1.has(n.toUpperCase())}function vr(n){return i1.has(n.toUpperCase())}function Pf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ya(n,e){let t=typeof e=="string"?Ei(e).search:e.search;if(n[n.length-1].route.index&&Pf(t||""))return n[n.length-1];let i=Cv(n);return i[i.length-1]}function Wg(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function bd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function R1(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ga(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function C1(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ts(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function x1(n,e){try{let t=n.sessionStorage.getItem(kv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function k1(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(kv,JSON.stringify(t))}catch(i){Wt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function P1(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var to=U.createContext(null);to.displayName="DataRouter";var vl=U.createContext(null);vl.displayName="DataRouterState";var Af=U.createContext({isTransitioning:!1});Af.displayName="ViewTransition";var Dv=U.createContext(new Map);Dv.displayName="Fetchers";var A1=U.createContext(null);A1.displayName="Await";var Wr=U.createContext(null);Wr.displayName="Navigation";var Dc=U.createContext(null);Dc.displayName="Location";var qr=U.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var bf=U.createContext(null);bf.displayName="RouteError";function b1(n,{relative:e}={}){qe(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Wr),{hash:o,pathname:l,search:c}=El(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Fr([t,l])),i.createHref({pathname:d,search:c,hash:o})}function _l(){return U.useContext(Dc)!=null}function no(){return qe(_l(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Dc).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(n){U.useContext(Wr).static||U.useLayoutEffect(n)}function wl(){let{isDataRoute:n}=U.useContext(qr);return n?q1():N1()}function N1(){qe(_l(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(to),{basename:e,navigator:t}=U.useContext(Wr),{matches:i}=U.useContext(qr),{pathname:o}=no(),l=JSON.stringify(Cf(i)),c=U.useRef(!1);return Ov(()=>{c.current=!0}),U.useCallback((p,y={})=>{if(Wt(c.current,Lv),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=xf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Fr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}var D1=U.createContext(null);function L1(n){let e=U.useContext(qr).outlet;return e&&U.createElement(D1.Provider,{value:n},e)}function El(n,{relative:e}={}){let{matches:t}=U.useContext(qr),{pathname:i}=no(),o=JSON.stringify(Cf(t));return U.useMemo(()=>xf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function O1(n,e,t,i){qe(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(Wr),{matches:l}=U.useContext(qr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let N=_&&_.path||"";Mv(p,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let I=no(),S;S=I;let P=S.pathname||"/",O=P;if(y!=="/"){let N=y.replace(/^\//,"").split("/");O="/"+P.replace(/^\//,"").split("/").slice(N.length).join("/")}let z=ns(n,{pathname:O});return Wt(_||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Wt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),j1(z&&z.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Fr([y,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:Fr([y,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i)}function M1(){let n=W1(),e=Nc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,c)}var V1=U.createElement(M1,null),F1=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(qr.Provider,{value:this.props.routeContext},U.createElement(bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U1({routeContext:n,match:e,children:t}){let i=U.useContext(to);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(qr.Provider,{value:n},t)}function j1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:I}=t,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let I,S=!1,P=null,O=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,P=y.route.errorElement||V1,c&&(d<0&&_===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):d===_&&(S=!0,O=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),M=()=>{let N;return I?N=P:S?N=O:y.route.Component?N=U.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=p,U.createElement(U1,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:N})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?U.createElement(F1,{location:t.location,revalidation:t.revalidation,component:P,error:I,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):M()},null)}function Nf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(n){let e=U.useContext(to);return qe(e,Nf(n)),e}function B1(n){let e=U.useContext(vl);return qe(e,Nf(n)),e}function $1(n){let e=U.useContext(qr);return qe(e,Nf(n)),e}function Df(n){let e=$1(n),t=e.matches[e.matches.length-1];return qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function H1(){return Df("useRouteId")}function W1(){var i;let n=U.useContext(bf),e=B1("useRouteError"),t=Df("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function q1(){let{router:n}=z1("useNavigate"),e=Df("useNavigate"),t=U.useRef(!1);return Ov(()=>{t.current=!0}),U.useCallback(async(o,l={})=>{Wt(t.current,Lv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var qg={};function Mv(n,e,t){!e&&!qg[n]&&(qg[n]=!0,Wt(!1,t))}var Kg={};function Gg(n,e){!n&&!Kg[e]&&(Kg[e]=!0,console.warn(e))}function K1(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var G1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function Q1({router:n,flushSync:e}){let[t,i]=U.useState(n.state),[o,l]=U.useState(),[c,d]=U.useState({isTransitioning:!1}),[p,y]=U.useState(),[_,I]=U.useState(),[S,P]=U.useState(),O=U.useRef(new Map),z=U.useCallback((Y,{deletedFetchers:ne,flushSync:F,viewTransitionOpts:oe})=>{ne.forEach(T=>O.current.delete(T)),Y.fetchers.forEach((T,R)=>{T.data!==void 0&&O.current.set(R,T.data)}),Gg(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Gg(oe==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!C){e&&F?e(()=>i(Y)):U.startTransition(()=>i(Y));return}if(e&&F){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>i(Y))});T.finished.finally(()=>{e(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>I(T));return}_?(p&&p.resolve(),_.skipTransition(),P({state:Y,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(l(Y),d({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,e,_,p]);U.useLayoutEffect(()=>n.subscribe(z),[n,z]),U.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new G1)},[c]),U.useEffect(()=>{if(p&&o&&n.window){let Y=o,ne=p.promise,F=n.window.document.startViewTransition(async()=>{U.startTransition(()=>i(Y)),await ne});F.finished.finally(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})}),I(F)}},[o,p,n.window]),U.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),U.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),P(void 0))},[c.isTransitioning,S]);let M=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Y=>n.navigate(Y),push:(Y,ne,F)=>n.navigate(Y,{state:ne,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(Y,ne,F)=>n.navigate(Y,{replace:!0,state:ne,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),N=n.basename||"/",Q=U.useMemo(()=>({router:n,navigator:M,static:!1,basename:N}),[n,M,N]);return U.createElement(U.Fragment,null,U.createElement(to.Provider,{value:Q},U.createElement(vl.Provider,{value:t},U.createElement(Dv.Provider,{value:O.current},U.createElement(Af.Provider,{value:c},U.createElement(Z1,{basename:N,location:t.location,navigationType:t.historyAction,navigator:M},U.createElement(Y1,{routes:n.routes,future:n.future,state:t})))))),null)}var Y1=U.memo(X1);function X1({routes:n,future:e,state:t}){return O1(n,void 0,t,e)}function J1(n){return L1(n.context)}function Z1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){qe(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ei(t));let{pathname:p="/",search:y="",hash:_="",state:I=null,key:S="default"}=t,P=U.useMemo(()=>{let O=_r(p,c);return O==null?null:{location:{pathname:O,search:y,hash:_,state:I,key:S},navigationType:i}},[c,p,y,_,I,S,i]);return Wt(P!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(Wr.Provider,{value:d},U.createElement(Dc.Provider,{children:e,value:P}))}var Xu="get",Ju="application/x-www-form-urlencoded";function Lc(n){return n!=null&&typeof n.tagName=="string"}function eT(n){return Lc(n)&&n.tagName.toLowerCase()==="button"}function tT(n){return Lc(n)&&n.tagName.toLowerCase()==="form"}function nT(n){return Lc(n)&&n.tagName.toLowerCase()==="input"}function rT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iT(n,e){return n.button===0&&(!e||e==="_self")&&!rT(n)}var Bu=null;function sT(){if(Bu===null)try{new FormData(document.createElement("form"),0),Bu=!1}catch{Bu=!0}return Bu}var oT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(n){return n!=null&&!oT.has(n)?(Wt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):n}function aT(n,e){let t,i,o,l,c;if(tT(n)){let d=n.getAttribute("action");i=d?_r(d,e):null,t=n.getAttribute("method")||Xu,o=Nd(n.getAttribute("enctype"))||Ju,l=new FormData(n)}else if(eT(n)||nT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?_r(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Xu,o=Nd(n.getAttribute("formenctype"))||Nd(d.getAttribute("enctype"))||Ju,l=new FormData(d,n),!sT()){let{name:y,type:_,value:I}=n;if(_==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,I)}}else{if(Lc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xu,i=null,o=Ju,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Lf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cT(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await lT(l,t);return c.links?c.links():[]}return[]}));return pT(i.flat(1).filter(uT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qg(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var I;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hT(n,e){return dT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function dT(n){return[...new Set(n)]}function fT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(fT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function mT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gT(){let n=U.useContext(to);return Lf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yT(){let n=U.useContext(vl);return Lf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Of=U.createContext(void 0);Of.displayName="FrameworkContext";function Vv(){let n=U.useContext(Of);return Lf(n,"You must render this element inside a <HydratedRouter> element"),n}function vT(n,e){let t=U.useContext(Of),[i,o]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=e,S=U.useRef(null);U.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=N=>{N.forEach(Q=>{c(Q.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[n]),U.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let P=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Qa(d,P),onBlur:Qa(p,O),onMouseEnter:Qa(y,P),onMouseLeave:Qa(_,O),onTouchStart:Qa(I,P)}]:[!1,S,{}]}function Qa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _T({page:n,...e}){let{router:t}=gT(),i=U.useMemo(()=>ns(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(ET,{page:n,matches:i,...e}):null}function wT(n){let{manifest:e,routeModules:t}=Vv(),[i,o]=U.useState([]);return U.useEffect(()=>{let l=!1;return cT(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function ET({page:n,matches:e,...t}){let i=no(),{manifest:o,routeModules:l}=Vv(),{loaderData:c,matches:d}=yT(),p=U.useMemo(()=>Qg(n,e,d,o,i,"data"),[n,e,d,o,i]),y=U.useMemo(()=>Qg(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,O=!1;if(e.forEach(M=>{var Q;let N=o.routes[M.route.id];!N||!N.hasLoader||(!p.some(Y=>Y.route.id===M.route.id)&&M.route.id in c&&((Q=l[M.route.id])!=null&&Q.shouldRevalidate)||N.hasClientLoader?O=!0:P.add(M.route.id))}),P.size===0)return[];let z=mT(n);return O&&P.size>0&&z.searchParams.set("_routes",e.filter(M=>P.has(M.route.id)).map(M=>M.route.id).join(",")),[z.pathname+z.search]},[c,i,o,p,e,n,l]),I=U.useMemo(()=>hT(y,o),[y,o]),S=wT(y);return U.createElement(U.Fragment,null,_.map(P=>U.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),I.map(P=>U.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),S.map(({key:P,link:O})=>U.createElement("link",{key:P,...O})))}function TT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fv&&(window.__reactRouterVersion="7.1.1")}catch{}function IT(n,e){return h1({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:OE({window:e==null?void 0:e.window}),hydrationData:ST(),routes:n,mapRouteProperties:K1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function ST(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:RT(n.errors)}),n}function RT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new cc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:I,...S},P){let{basename:O}=U.useContext(Wr),z=typeof y=="string"&&Uv.test(y),M,N=!1;if(typeof y=="string"&&z&&(M=y,Fv))try{let R=new URL(window.location.href),A=y.startsWith("//")?new URL(R.protocol+y):new URL(y),L=_r(A.pathname,O);A.origin===R.origin&&L!=null?y=L+A.search+A.hash:N=!0}catch{Wt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=b1(y,{relative:o}),[Y,ne,F]=vT(i,S),oe=kT(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:I});function C(R){e&&e(R),R.defaultPrevented||oe(R)}let T=U.createElement("a",{...S,...F,href:M||Q,onClick:N||l?e:C,ref:TT(P,ne),target:p,"data-discover":!z&&t==="render"?"true":void 0});return Y&&!z?U.createElement(U.Fragment,null,T,U.createElement(_T,{page:Q})):T});Zo.displayName="Link";var CT=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...y},_){let I=El(c,{relative:y.relative}),S=no(),P=U.useContext(vl),{navigator:O,basename:z}=U.useContext(Wr),M=P!=null&&DT(I)&&d===!0,N=O.encodeLocation?O.encodeLocation(I).pathname:I.pathname,Q=S.pathname,Y=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,N=N.toLowerCase()),Y&&z&&(Y=_r(Y,z)||Y);const ne=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=Q===N||!o&&Q.startsWith(N)&&Q.charAt(ne)==="/",oe=Y!=null&&(Y===N||!o&&Y.startsWith(N)&&Y.charAt(N.length)==="/"),C={isActive:F,isPending:oe,isTransitioning:M},T=F?e:void 0,R;typeof i=="function"?R=i(C):R=[i,F?"active":null,oe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(C):l;return U.createElement(Zo,{...y,"aria-current":T,className:R,ref:_,style:A,to:c,viewTransition:d},typeof p=="function"?p(C):p)});CT.displayName="NavLink";var Oc=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=Xu,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:I,...S},P)=>{let O=bT(),z=NT(d,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&Uv.test(d),Q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ne=Y.nativeEvent.submitter,F=(ne==null?void 0:ne.getAttribute("formmethod"))||c;O(ne||Y.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:I})};return U.createElement("form",{ref:P,method:M,action:z,onSubmit:i?p:Q,...S,"data-discover":!N&&n==="render"?"true":void 0})});Oc.displayName="Form";function xT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jv(n){let e=U.useContext(to);return qe(e,xT(n)),e}function kT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=wl(),p=no(),y=El(n,{relative:l});return U.useCallback(_=>{if(iT(_,e)){_.preventDefault();let I=t!==void 0?t:ds(p)===ds(y);d(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,y,t,i,e,n,o,l,c])}var PT=0,AT=()=>`__${String(++PT)}__`;function bT(){let{router:n}=jv("useSubmit"),{basename:e}=U.useContext(Wr),t=H1();return U.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:y}=aT(i,e);if(o.navigate===!1){let _=o.fetcherKey||AT();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function NT(n,{relative:e}={}){let{basename:t}=U.useContext(Wr),i=U.useContext(qr);qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...El(n||".",{relative:e})},c=no();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(I=>I).forEach(I=>d.append("index",I));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Fr([t,l.pathname])),ds(l)}function DT(n,e={}){let t=U.useContext(Af);qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jv("useViewTransitionState"),o=El(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_r(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=_r(t.nextLocation.pathname,i)||t.nextLocation.pathname;return uc(o.pathname,c)!=null||uc(o.pathname,l)!=null}new TextEncoder;var LT=gv();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OT(n){return U.createElement(Q1,{flushSync:LT.flushSync,...n})}var zv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yg=it.createContext&&it.createContext(zv),MT=["attr","size","title"];function VT(n,e){if(n==null)return{};var t=FT(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function FT(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function hc(){return hc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hc.apply(this,arguments)}function Xg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function dc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(t),!0).forEach(function(i){UT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UT(n,e,t){return e=jT(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jT(n){var e=zT(n,"string");return typeof e=="symbol"?e:e+""}function zT(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bv(n){return n&&n.map((e,t)=>it.createElement(e.tag,dc({key:t},e.attr),Bv(e.child)))}function Er(n){return e=>it.createElement(BT,hc({attr:dc({},n.attr)},e),Bv(n.child))}function BT(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=VT(n,MT),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),it.createElement("svg",hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:dc(dc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&it.createElement("title",null,l),n.children)};return Yg!==void 0?it.createElement(Yg.Consumer,null,t=>e(t)):e(zv)}function $T(n){return Er({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.707 2.293l9 9c.63 .63 .184 1.707 -.707 1.707h-1v6a3 3 0 0 1 -3 3h-1v-7a3 3 0 0 0 -2.824 -2.995l-.176 -.005h-2a3 3 0 0 0 -3 3v7h-1a3 3 0 0 1 -3 -3v-6h-1c-.89 0 -1.337 -1.077 -.707 -1.707l9 -9a1 1 0 0 1 1.414 0m.293 11.707a1 1 0 0 1 1 1v7h-4v-7a1 1 0 0 1 .883 -.993l.117 -.007z"},child:[]}]})(n)}function Dd(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function HT(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"},child:[]}]})(n)}function WT(n){return Er({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L389.6 269.3C433.8 244.7 464 198.1 464 144 464 64.5 399.5 0 320 0c-67.1 0-123 46.1-139 108.2L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM198.4 320C124.2 320 64 380.2 64 454.4v9.6c0 26.5 21.5 48 48 48h382.2L245.8 320h-47.4z"},child:[]}]})(n)}function qT(n){return Er({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function KT(n){return Er({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,I=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,P=y&63;p||(P=64,c||(S=64)),i.push(t[_],t[I],t[S],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($v(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||I==null)throw new QT;const S=l<<2|d>>4;if(i.push(S),y!==64){const P=d<<4&240|y>>2;if(i.push(P),I!==64){const O=y<<6&192|I;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(n){const e=$v(n);return Hv.encodeByteArray(e,!0)},fc=function(n){return YT(n).replace(/\./g,"")},Wv=function(n){try{return Hv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>XT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof Jg>"u")return;const n=Jg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wv(n[1]);return e&&JSON.parse(e)},Mc=()=>{try{return JT()||ZT()||eI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qv=n=>{var e,t;return(t=(e=Mc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tI=n=>{const e=qv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kv=()=>{var n;return(n=Mc())===null||n===void 0?void 0:n.config},Gv=n=>{var e;return(e=Mc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function sI(){var n;const e=(n=Mc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cI(){return!sI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function dI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fI,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?pI(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ti(o,d,i)}}function pI(n,e){return n.replace(mI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mI=/\{\$([^}]+)}/g;function gI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Zg(l)&&Zg(c)){if(!pc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Zg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ja(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yI(n,e){const t=new vI(n,e);return t.subscribe.bind(t)}class vI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(n){return n&&n._delegate?n._delegate:n}class Xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TI(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(n){return n===Bs?void 0:n}function TI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const SI={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},RI=$e.INFO,CI={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},xI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=CI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=RI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const kI=(n,e)=>e.some(t=>n instanceof t);let ey,ty;function PI(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AI(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,Zd=new WeakMap,Yv=new WeakMap,Od=new WeakMap,Vf=new WeakMap;function bI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(us(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Qv.set(t,n)}).catch(()=>{}),Vf.set(e,n),e}function NI(n){if(Zd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Zd.set(n,e)}let ef={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DI(n){ef=n(ef)}function LI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Md(this),e,...t);return Yv.set(i,e.sort?e.sort():[e]),us(i)}:AI().includes(n)?function(...e){return n.apply(Md(this),e),us(Qv.get(this))}:function(...e){return us(n.apply(Md(this),e))}}function OI(n){return typeof n=="function"?LI(n):(n instanceof IDBTransaction&&NI(n),kI(n,PI())?new Proxy(n,ef):n)}function us(n){if(n instanceof IDBRequest)return bI(n);if(Od.has(n))return Od.get(n);const e=OI(n);return e!==n&&(Od.set(n,e),Vf.set(e,n)),e}const Md=n=>Vf.get(n);function MI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=us(c);return i&&c.addEventListener("upgradeneeded",p=>{i(us(c.result),p.oldVersion,p.newVersion,us(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const VI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],Vd=new Map;function ny(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=FI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||VI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Vd.set(e,l),l}DI(n=>({...n,get:(e,t,i)=>ny(e,t)||n.get(e,t,i),has:(e,t)=>!!ny(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function jI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tf="@firebase/app",ry="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Mf("@firebase/app"),zI="@firebase/app-compat",BI="@firebase/analytics-compat",$I="@firebase/analytics",HI="@firebase/app-check-compat",WI="@firebase/app-check",qI="@firebase/auth",KI="@firebase/auth-compat",GI="@firebase/database",QI="@firebase/data-connect",YI="@firebase/database-compat",XI="@firebase/functions",JI="@firebase/functions-compat",ZI="@firebase/installations",eS="@firebase/installations-compat",tS="@firebase/messaging",nS="@firebase/messaging-compat",rS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",oS="@firebase/remote-config-compat",aS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/vertexai",hS="@firebase/firestore-compat",dS="firebase",fS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",pS={[tf]:"fire-core",[zI]:"fire-core-compat",[$I]:"fire-analytics",[BI]:"fire-analytics-compat",[WI]:"fire-app-check",[HI]:"fire-app-check-compat",[qI]:"fire-auth",[KI]:"fire-auth-compat",[GI]:"fire-rtdb",[QI]:"fire-data-connect",[YI]:"fire-rtdb-compat",[XI]:"fire-fn",[JI]:"fire-fn-compat",[ZI]:"fire-iid",[eS]:"fire-iid-compat",[tS]:"fire-fcm",[nS]:"fire-fcm-compat",[rS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[oS]:"fire-rc-compat",[aS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,mS=new Map,rf=new Map;function iy(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ea(n){const e=n.name;if(rf.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,n);for(const t of mc.values())iy(t,n);for(const t of mS.values())iy(t,n);return!0}function Ff(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Tl("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=fS;function Vc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=Kv()),!t)throw cs.create("no-options");const l=mc.get(o);if(l){if(pc(t,l.options)&&pc(i,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const c=new II(o);for(const p of rf.values())c.addComponent(p);const d=new yS(t,i,c);return mc.set(o,d),d}function Xv(n=nf){const e=mc.get(n);if(!e&&n===nf&&Kv())return Vc();if(!e)throw cs.create("no-app",{appName:n});return e}function hs(n,e,t){var i;let o=(i=pS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}ea(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebase-heartbeat-database",_S=1,cl="firebase-heartbeat-store";let Fd=null;function Jv(){return Fd||(Fd=MI(vS,_S,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw cs.create("idb-open",{originalErrorMessage:n.message})})),Fd}async function wS(n){try{const t=(await Jv()).transaction(cl),i=await t.objectStore(cl).get(Zv(n));return await t.done,i}catch(e){if(e instanceof Ti)vi.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function sy(n,e){try{const i=(await Jv()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,Zv(n)),await i.done}catch(t){if(t instanceof Ti)vi.warn(t.message);else{const i=cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(i.message)}}}function Zv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=1024,TS=30*24*60*60*1e3;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=oy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=TS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=oy(),{heartbeatsToSend:i,unsentEntries:o}=SS(this._heartbeatsCache.heartbeats),l=fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vi.warn(t),""}}}function oy(){return new Date().toISOString().substring(0,10)}function SS(n,e=ES){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),ay(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ay(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?dI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ay(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){ea(new Xs("platform-logger",e=>new UI(e),"PRIVATE")),ea(new Xs("heartbeat",e=>new IS(e),"PRIVATE")),hs(tf,ry,n),hs(tf,ry,"esm2017"),hs("fire-js","")}CS("");var xS="firebase",kS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(xS,kS,"app");const Ur=(n,e)=>{switch(n){case"error":lt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":lt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}};function Uf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function e0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PS=e0,t0=new Tl("auth","Firebase",e0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Mf("@firebase/auth");function AS(n,...e){gc.logLevel<=$e.WARN&&gc.warn(`Auth (${la}): ${n}`,...e)}function Zu(n,...e){gc.logLevel<=$e.ERROR&&gc.error(`Auth (${la}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw jf(n,...e)}function jr(n,...e){return jf(n,...e)}function n0(n,e,t){const i=Object.assign(Object.assign({},PS()),{[e]:t});return new Tl("auth","Firebase",i).create(e,{appName:n.name})}function gi(n){return n0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return t0.create(n,...e)}function Ae(n,e,...t){if(!n)throw jf(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zu(e),new Error(e)}function _i(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bS(){return ly()==="http:"||ly()==="https:"}function ly(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bS()||aI()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=iI()||lI()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e){_i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Sl(3e4,6e4);function _s(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ii(n,e,t,i,o={}){return i0(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Il(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return oI()||(y.referrerPolicy="no-referrer"),r0.fetch()(s0(n,n.config.apiHost,t,d),y)})}async function i0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},LS),e);try{const o=new VS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $u(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw $u(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw $u(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw n0(n,_,y);wr(n,_)}}catch(o){if(o instanceof Ti)throw o;wr(n,"network-request-failed",{message:String(o)})}}async function Rl(n,e,t,i,o={}){const l=await Ii(n,e,t,i,o);return"mfaPendingCredential"in l&&wr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function s0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?zf(n.config,o):`${n.config.apiScheme}://${o}`}function MS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jr(this.auth,"network-request-failed")),OS.get())})}}function $u(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=jr(n,e,i);return o.customData._tokenResponse=t,o}function uy(n){return n!==void 0&&n.enterprise!==void 0}class FS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function US(n,e){return Ii(n,"GET","/v2/recaptchaConfig",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(n,e){return Ii(n,"POST","/v1/accounts:delete",e)}async function o0(n,e){return Ii(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zS(n,e=!1){const t=Kr(n),i=await t.getIdToken(e),o=Bf(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:nl(Ud(o.auth_time)),issuedAtTime:nl(Ud(o.iat)),expirationTime:nl(Ud(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ud(n){return Number(n)*1e3}function Bf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Wv(t);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cy(n){const e=Bf(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ti&&BS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ta(n,o0(t,{idToken:i}));Ae(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?a0(l.providerUserInfo):[],d=WS(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new of(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,I)}async function HS(n){const e=Kr(n);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WS(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function a0(n){return n.map(e=>{var{providerId:t}=e,i=Uf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(n,e){const t=await i0(n,{},async()=>{const i=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=s0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",r0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KS(n,e){return Ii(n,"POST","/v2/accounts:revokeToken",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=cy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await qS(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Ko;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new of(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ta(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zS(this,e)}reload(){return HS(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await ta(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,N=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ne,isAnonymous:F,providerData:oe,stsTokenManager:C}=t;Ae(Y&&C,e,"internal-error");const T=Ko.fromJSON(this.name,C);Ae(typeof Y=="string",e,"internal-error"),es(I,e.name),es(S,e.name),Ae(typeof ne=="boolean",e,"internal-error"),Ae(typeof F=="boolean",e,"internal-error"),es(P,e.name),es(O,e.name),es(z,e.name),es(M,e.name),es(N,e.name),es(Q,e.name);const R=new pi({uid:Y,auth:e,email:S,emailVerified:ne,displayName:I,isAnonymous:F,photoURL:O,phoneNumber:P,tenantId:z,stsTokenManager:T,createdAt:N,lastLoginAt:Q});return oe&&Array.isArray(oe)&&(R.providerData=oe.map(A=>Object.assign({},A))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ko;o.updateFromServerResponse(t);const l=new pi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?a0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Ko;d.updateFromIdToken(i);const p=new pi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new of(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=new Map;function mi(n){_i(n instanceof Function,"Expected a class definition");let e=hy.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}l0.type="NONE";const dy=l0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ec(this.userKey,o.apiKey,l),this.fullPersistenceKey=ec("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Go(mi(dy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||mi(dy);const c=ec(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const I=pi._fromJSON(e,_);y!==l&&(d=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Go(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Go(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p0(e))return"Blackberry";if(m0(e))return"Webos";if(c0(e))return"Safari";if((e.includes("chrome/")||h0(e))&&!e.includes("edge/"))return"Chrome";if(f0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function u0(n=fn()){return/firefox\//i.test(n)}function c0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h0(n=fn()){return/crios\//i.test(n)}function d0(n=fn()){return/iemobile/i.test(n)}function f0(n=fn()){return/android/i.test(n)}function p0(n=fn()){return/blackberry/i.test(n)}function m0(n=fn()){return/webos/i.test(n)}function $f(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GS(n=fn()){var e;return $f(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QS(){return uI()&&document.documentMode===10}function g0(n=fn()){return $f(n)||f0(n)||m0(n)||p0(n)||/windows phone/i.test(n)||d0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e=[]){let t;switch(n){case"Browser":t=fy(fn());break;case"Worker":t=`${fy(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n,e={}){return Ii(n,"GET","/v2/passwordPolicy",_s(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=6;class ZS{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:JS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await o0(this,{idToken:e}),i=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(gi(this));const t=e?Kr(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),t=new ZS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ro(n){return Kr(n)}class py{constructor(e){this.auth=e,this.observer=null,this.addObserver=yI(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(n){Fc=n}function v0(n){return Fc.loadJS(n)}function nR(){return Fc.recaptchaEnterpriseScript}function rR(){return Fc.gapiScript}function iR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sR{constructor(){this.enterprise=new oR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aR="recaptcha-enterprise",_0="NO_RECAPTCHA";class lR{constructor(e){this.type=aR,this.auth=ro(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{US(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new FS(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;uy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(_0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&uy(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nR();p.length!==0&&(p+=d),v0(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function my(n,e,t,i=!1,o=!1){const l=new lR(n);let c;if(o)c=_0;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function af(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await my(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await my(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e){const t=Ff(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pc(l,e??{}))return o;wr(o,"already-initialized")}return t.initialize({options:e})}function cR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hR(n,e,t){const i=ro(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=w0(e),{host:c,port:d}=dR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),fR()}function w0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dR(n){const e=w0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:gy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:gy(c)}}}function gy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function pR(n,e){return Ii(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e){return Rl(n,"POST","/v1/accounts:signInWithPassword",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",_s(n,e))}async function yR(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Hf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new hl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new hl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return af(e,t,"signInWithPassword",mR);case"emailLink":return gR(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return af(e,i,"signUpPassword",pR);case"emailLink":return yR(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return Rl(n,"POST","/v1/accounts:signInWithIdp",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="http://localhost";class Js extends Hf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Uf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Js(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:vR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Il(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wR(n){const e=Xa(Ja(n)).link,t=e?Xa(Ja(e)).deep_link_id:null,i=Xa(Ja(n)).deep_link_id;return(i?Xa(Ja(i)).link:null)||i||t||e||n}class Wf{constructor(e){var t,i,o,l,c,d;const p=Xa(Ja(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,I=_R((o=p.mode)!==null&&o!==void 0?o:null);Ae(y&&_&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=wR(e);try{return new Wf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,t){return hl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Wf.parseLink(t);return Ae(i,"argument-error"),hl._fromEmailAndCode(e,i.code,i.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends E0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Cl{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return is.credential(t,i)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Cl{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Cl{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return os.credential(t,i)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){return Rl(n,"POST","/v1/accounts:signUp",_s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await pi._fromIdTokenResponse(e,i,o),c=yy(i);return new Zs({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=yy(i);return new Zs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function yy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Ti{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new vc(e,t,i,o)}}function T0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(n,l,e,i):l})}async function TR(n,e,t=!1){const i=await ta(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(n,e,t=!1){const{auth:i}=n;if(Vr(i.app))return Promise.reject(gi(i));const o="reauthenticate";try{const l=await ta(n,T0(i,o,e,n),t);Ae(l.idToken,i,"internal-error");const c=Bf(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(n.uid===d,i,"user-mismatch"),Zs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(n,e,t=!1){if(Vr(n.app))return Promise.reject(gi(n));const i="signIn",o=await T0(n,i,e),l=await Zs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function SR(n,e){return I0(ro(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(n){const e=ro(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RR(n,e,t){if(Vr(n.app))return Promise.reject(gi(n));const i=ro(n),c=await af(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ER).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&S0(n),p}),d=await Zs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function CR(n,e,t){return Vr(n.app)?Promise.reject(gi(n)):SR(Kr(n),ua.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&S0(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e){return Ii(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Kr(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await ta(i,xR(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function PR(n,e,t,i){return Kr(n).onIdTokenChanged(e,t,i)}function AR(n,e,t){return Kr(n).beforeAuthStateChanged(e,t)}function R0(n,e,t,i){return Kr(n).onAuthStateChanged(e,t,i)}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1e3,NR=10;class x0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);QS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}x0.type="LOCAL";const DR=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k0.type="SESSION";const P0=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Uc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await LR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=qf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function MR(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function VR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UR(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firebaseLocalStorageDb",jR=1,wc="firebaseLocalStorage",N0="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jc(n,e){return n.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function zR(){const n=indexedDB.deleteDatabase(b0);return new xl(n).toPromise()}function lf(){const n=indexedDB.open(b0,jR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wc,{keyPath:N0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wc)?e(i):(i.close(),await zR(),e(await lf()))})})}async function vy(n,e,t){const i=jc(n,!0).put({[N0]:e,value:t});return new xl(i).toPromise()}async function BR(n,e){const t=jc(n,!1).get(e),i=await new xl(t).toPromise();return i===void 0?null:i.value}function _y(n,e){const t=jc(n,!0).delete(e);return new xl(t).toPromise()}const $R=800,HR=3;class D0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>HR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lf();return await vy(e,_c,"1"),await _y(e,_c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>BR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_y(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=jc(o,!1).getAll();return new xl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D0.type="LOCAL";const WR=D0;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e){return e?mi(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Hf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KR(n){return I0(n.auth,new Kf(n),n.bypassAuthState)}function GR(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),IR(t,new Kf(n),n.bypassAuthState)}async function QR(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),TR(t,new Kf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return GR;default:wr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Sl(2e3,1e4);class qo extends L0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="pendingRedirect",tc=new Map;class JR extends L0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const i=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(n,e){const t=nC(e),i=tC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function eC(n,e){tc.set(n._key(),e)}function tC(n){return mi(n._redirectPersistence)}function nC(n){return ec(XR,n.config.apiKey,n.name)}async function rC(n,e,t=!1){if(Vr(n.app))return Promise.reject(gi(n));const i=ro(n),o=qR(i,e),c=await new JR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=10*60*1e3;class sC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!O0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(e))}saveEventToCache(e){this.cachedEventUids.add(wy(e)),this.lastProcessedEventTime=Date.now()}}function wy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e={}){return Ii(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uC=/^https?/;async function cC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aC(n);for(const t of e)try{if(hC(t))return}catch{}wr(n,"unauthorized-domain")}function hC(n){const e=sf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!uC.test(t))return!1;if(lC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Sl(3e4,6e4);function Ey(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fC(n){return new Promise((e,t)=>{var i,o,l;function c(){Ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ey(),t(jr(n,"network-request-failed"))},timeout:dC.get()})}if(!((o=(i=zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=zr().gapi)===null||l===void 0)&&l.load)c();else{const d=iR("iframefcb");return zr()[d]=()=>{gapi.load?c():t(jr(n,"network-request-failed"))},v0(`${rR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw nc=null,e})}let nc=null;function pC(n){return nc=nc||fC(n),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Sl(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wC(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zf(e,yC):`https://${n.config.authDomain}/${gC}`,i={apiKey:e.apiKey,appName:n.name,v:la},o=_C.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Il(i).slice(1)}`}async function EC(n){const e=await pC(n),t=zr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:wC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=jr(n,"network-request-failed"),d=zr().setTimeout(()=>{l(c)},mC.get());function p(){zr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,SC=600,RC="_blank",CC="http://localhost";class Ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(n,e,t,i=IC,o=SC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},TC),{width:i.toString(),height:o.toString(),top:l,left:c}),y=fn().toLowerCase();t&&(d=h0(y)?RC:t),u0(y)&&(e=e||CC,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[P,O])=>`${S}${P}=${O},`,"");if(GS(y)&&d!=="_self")return kC(e||"",d),new Ty(null);const I=window.open(e||"",d,_);Ae(I,n,"popup-blocked");try{I.focus()}catch{}return new Ty(I)}function kC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",AC="emulator/auth/handler",bC=encodeURIComponent("fac");async function Iy(n,e,t,i,o,l){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof E0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",gI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,I]of Object.entries({}))c[_]=I}if(e instanceof Cl){const _=e.getScopes().filter(I=>I!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${bC}=${encodeURIComponent(p)}`:"";return`${NC(n)}?${Il(d).slice(1)}${y}`}function NC({config:n}){return n.emulator?zf(n,AC):`https://${n.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=rC,this._overrideRedirectResult=eC}async _openPopup(e,t,i,o){var l;_i((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Iy(e,t,i,sf(),o);return xC(e,c,qf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Iy(e,t,i,sf(),o);return MR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(_i(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await EC(e),i=new sC(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jd,{type:jd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[jd];c!==void 0&&t(!!c),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return g0()||c0()||$f()}}const LC=DC;var Sy="@firebase/auth",Ry="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(n){ea(new Xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(n)},y=new eR(i,o,l,p);return cR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ea(new Xs("auth-internal",e=>{const t=ro(e.getProvider("auth").getImmediate());return(i=>new OC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(Sy,Ry,MC(n)),hs(Sy,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=5*60,UC=Gv("authIdTokenMaxAge")||FC;let Cy=null;const jC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>UC)return;const o=t==null?void 0:t.token;Cy!==o&&(Cy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M0(n=Xv()){const e=Ff(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uR(n,{popupRedirectResolver:LC,persistence:[WR,DR,P0]}),i=Gv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=jC(l.toString());AR(t,c,()=>c(t.currentUser)),PR(t,d=>c(d))}}const o=qv("auth");return o&&hR(t,`http://${o}`),t}function zC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=jr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",zC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");const V0={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},BC=Vc(V0),fs=M0(BC),$C=async(n,e,t,i)=>{const o=Vc(V0),l=M0(o);CR(l,n,e).then(()=>{Ur("success","Inicio de sesión exitoso."),t(!1),setTimeout(()=>{i("/")},1500)}).catch(c=>{const d=c.message;return t(!1),Ur("error",d),!1})},HC=async n=>{fs.signOut().then(function(){console.log("Usuario ha cerrado sesión"),Ur("success","Sesión cerrada exitosamente."),setTimeout(()=>{n("/")},1500)}).catch(function(e){console.error("Error al cerrar sesión",e),Ur("error",e)})},WC=async(n,e,t,i)=>{RR(fs,n,e).then(()=>{t(!1),Ur("success","Registro exitoso, porfavor revise su bandeja de entrada."),setTimeout(()=>{i("/login")},2e3)}).catch(o=>{const l=o.code,c=o.message;console.log(l),console.log(c),l==="auth/email-already-in-use"?Ur("error","El email indicado ya se encuentra en uso, porfavor use otro."):l==="auth/weak-password"&&Ur("error","La contraseña debe tener más de 6 caracteres."),t(!1)})},qC=async n=>{const e=R0(fs,t=>{n(t||null)});return()=>e()},KC=async(n,e,t)=>{(async()=>R0(fs,o=>{o?(n(o),e(!1),o.photoURL!=null&&t(o.photoURL)):e(!1)}))()},GC=async n=>{fs.currentUser?n(fs.currentUser):n(null)},F0=async(n,e=null,t=null)=>{fs.currentUser!=null&&kR(fs.currentUser,t===null?{displayName:e}:{photoURL:t}).then(()=>{Ur("success","Perfil actualizado."),setTimeout(()=>{n(!1)},1500)}).catch(i=>{console.log(i)})},QC=({state:n})=>{const e={main:"",content:"relative size-ful size-12",line1:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] rotate-45 translate-y-[21px]":"translate-y-[7px] -translate-x-[21px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`,line2:`absolute ${n?"hidden":"translate-y-[19px] -translate-x-[21px]"} w-11/12 h-[5px] bg-rd rounded-full duration-300`,line3:`absolute ${n?"w-11/12 bg-rd -translate-x-[21px] -rotate-45 translate-y-[21px]":"translate-y-[32px] -translate-x-[0px] w-[45%]"} h-[5px] bg-rd rounded-full duration-300`};return H.jsx("div",{className:e.main,children:H.jsxs("div",{className:e.content,children:[H.jsx("span",{className:e.line1}),H.jsx("span",{className:e.line2}),H.jsx("span",{className:e.line3})]})})},U0=()=>{const n=wl(),[e,t]=U.useState(null),[i,o]=U.useState(!1),l={main:`fixed flex md:hidden top-[8.6vh] left-0 z-40 w-full h-[91vh] text-white bg-black/50 duration-300 ${i?"-translate-x-[0%]":"-translate-x-[100%]"}`,content:"relative w-[280px] z-20 bg-st-100 h-full flex flex-col gap-4",top:{main:"w-full flex p-2",logoBox:"",logo:""},list:"flex flex-col p-2",item:"flex gap-2 items-center py-1 cursor-pointer",itemIcon:"border-2 bg-st-200 rounded-full border-rd size-10 flex items-center justify-center overflow-hidden text-2xl bg-st/75",itemName:"",userPhoto:"size-full object-cover",header:{main:"w-full h-[9vh] flex justify-between items-center text-white bg-st-200 px-[15px]",menuBtn:"w-14 h-full flex items-center justify-center duration-300",userBtn:"size-10 border-2 flex items-center justify-center rounded-full overflow-hidden",defaultIcon:"text-5xl text-[#ededed]",userImg:"size-full object-cover"}},c=[{name:"Inicio",url:"/",icon:H.jsx($T,{})},{name:e===null?"Iniciar sesión":"Perfil de usuario",url:e===null?"/login":"/edit-profile",icon:e===null?H.jsx(Dd,{}):H.jsx(KT,{})}];return U.useEffect(()=>{qC(t)},[e,i]),U.useEffect(()=>{const d=setInterval(()=>{GC(t)},6e5);return()=>clearInterval(d)},[]),H.jsxs("div",{className:"fixed z-50 top-0 left-0 flex flex-col w-full overflow-hidden ",children:[H.jsxs("header",{className:l.header.main,children:[H.jsx("button",{className:l.header.menuBtn,onClick:()=>o(!i),children:H.jsx(QC,{state:i})}),H.jsx("span",{className:`${l.header.userBtn} ${(e==null?void 0:e.photoURL)!==null&&" border-rd"}`,children:e===null?H.jsx(Dd,{className:l.header.defaultIcon}):e.photoURL===null?H.jsx(Dd,{className:l.header.defaultIcon}):H.jsx(Zo,{to:"/edit-profile",children:H.jsx("img",{className:l.header.userImg,src:e.photoURL,alt:e.displayName+"-photo"})})})]}),H.jsx("div",{className:l.main,children:H.jsx("div",{className:l.content,children:H.jsxs("ul",{className:l.list,children:[c.map((d,p)=>H.jsx("li",{children:H.jsxs(Zo,{className:l.item,to:d.url,onClick:()=>o(!1),children:[H.jsx("span",{className:l.itemIcon,children:d.name==="Perfil de usuario"&&e!==null&&e.photoURL!==null?H.jsx("img",{className:l.userPhoto,src:e.photoURL,alt:"user-profile-photo"}):d.icon}),H.jsx("h2",{className:l.itemName,children:d.name})]})},p)),e!=null&&H.jsxs("li",{className:l.item,onClick:()=>{HC(n),o(!1)},children:[H.jsx("span",{className:l.itemIcon,children:H.jsx(WT,{})}),H.jsx("h2",{className:l.itemName,children:"Cerrar sesión"})]})]})})})]})};function YC(){return H.jsxs("div",{className:"relative font-roboto",children:[H.jsx(U0,{}),H.jsx(J1,{}),H.jsx(DE,{})]})}function XC(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function JC(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(n)}function ZC(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(n)}const rl=({type:n,name:e,title:t})=>{const[i,o]=U.useState(!1),[l,c]=U.useState(!0),d=y=>{y.target.value.length>=1?(c(!1),o(!0)):c(!0)};let p={main:"size-auto flex",content:"w-full flex items-end relative min-h-16  ",input:"relative bg-transparent z-10 border-b-2 w-full max-w-full text-xl sm:text-base outline-none py-2 sm:py-0 px-1 truncate text-gray-400 focus:border-rd focus:border-b-[2px] focus:text-white",title:`absolute z-0 left-6 text-xl sm:text-base font-bold duration-300 ${i?"text-rd":"text-white"} `,iconBox:"absolute z-10 -left-1 p-1 duration-300 ",icon:` ${i?"text-rd":"text-white"} text-xl sm:text-lg duration-300`,underText:"absolute -bottom-6 text-sm sm:text-[12px] text-gray-400"};return l==!1||i?(p.title+="-translate-y-12 sm:-translate-y-8",p.iconBox+="-translate-y-12 sm:-translate-y-8"):(p.title+="-translate-y-1",p.iconBox+="-translate-y-1"),H.jsx("div",{className:p.main,children:H.jsxs("div",{className:p.content,children:[H.jsx("label",{htmlFor:e,className:p.title,children:t}),H.jsx("input",{className:p.input,id:e,type:n,name:e,onChange:y=>d(y),onFocus:()=>o(!0),onBlur:()=>o(!1),required:!0}),H.jsx("span",{className:p.iconBox,children:n==="email"?H.jsx(ZC,{className:p.icon}):n==="password"?H.jsx(HT,{className:p.icon}):H.jsx(qT,{className:p.icon})}),n==="password"?H.jsxs("h5",{className:p.underText,children:[n==="password"&&e!="re-password"?"Debe tener al menos 6 caracteres.":"",n==="password"&&e==="re-password"?"Repite la contraseña":""]}):""]})})};var ex={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function j0(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return ex[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function xy(n){var e=j0(n);return"".concat(e.value).concat(e.unit)}var z0=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var o=document.createElement("style");document.head.appendChild(o);var l=o.sheet,c=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return l&&l.insertRule(c,0),i},Ec=function(){return Ec=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ec.apply(this,arguments)},tx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},nx=z0("DotLoader","100% {transform: rotate(360deg)}","rotate"),rx=z0("DotLoader","0%, 100% {transform: scale(0)} 50% {transform: scale(1.0)}","bounce");function zc(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,o=i===void 0?"#000000":i,l=n.speedMultiplier,c=l===void 0?1:l,d=n.cssOverride,p=d===void 0?{}:d,y=n.size,_=y===void 0?60:y,I=tx(n,["loading","color","speedMultiplier","cssOverride","size"]),S=Ec({display:"inherit",position:"relative",width:xy(_),height:xy(_),animationFillMode:"forwards",animation:"".concat(nx," ").concat(2/c,"s 0s infinite linear")},p),P=function(O){var z=j0(_),M=z.value,N=z.unit;return{position:"absolute",top:O%2?"0":"auto",bottom:O%2?"auto":"0",height:"".concat(M/2).concat(N),width:"".concat(M/2).concat(N),backgroundColor:o,borderRadius:"100%",animationFillMode:"forwards",animation:"".concat(rx," ").concat(2/c,"s ").concat(O===2?"1s":"0s"," infinite linear")}};return t?U.createElement("span",Ec({style:S},I),U.createElement("span",{style:P(1)}),U.createElement("span",{style:P(2)})):null}const ix=(n,e)=>{switch(n){case"error":lt.error(e,{position:"top-center",theme:"dark"});break;case"warning":break;case"success":lt.success(e,{position:"top-center",theme:"dark",autoClose:1300});break}},sx={display:"block",margin:"0 auto",borderColor:"red"},ox=()=>{const n=wl(),[e,t]=U.useState(!1),i={main:"flex flex-col items-center justify-center",content:"flex flex-col bg-st-200 rounded p-2 gap-6 min-h-96 min-w-72",formMain:"flex flex-col gap-6 justify-start p-4",formBtn:"rounded text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"",link:"text-rd underline hover:font-bold hover:text-lg duration-300"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function l(c){c.preventDefault();const d=new FormData(c.currentTarget),p=d.get("mail")||"",y=d.get("password")||"";y!=null&&(y.length<5?ix("error","La contraseña debe tener más de 4 carácteres."):$C(p,y,t,n))}return H.jsxs("section",{className:i.main,children:[H.jsxs("div",{className:i.content,children:[H.jsxs(Oc,{className:i.formMain,onSubmit:c=>{t(!0),l(c)},autoComplete:"off",children:[H.jsx(rl,{name:"mail",type:"email",title:"Email"}),H.jsx(rl,{name:"password",type:"password",title:"Contraseña"}),H.jsx("button",{type:"submit",className:i.formBtn,children:"Iniciar sesion"})]}),H.jsxs("div",{className:i.bottomBox.main,children:[H.jsx("p",{className:i.bottomBox.txt,children:"¿Aún no tienes cuenta?"}),H.jsx(Zo,{className:i.bottomBox.link,to:"/register",children:"registrate"})]})]}),H.jsx("div",{className:i.spinner,children:H.jsx(zc,{color:o.color,loading:e,cssOverride:sx,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},ax=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center bg-st-100"};return H.jsx("div",{className:n.main,children:H.jsx("div",{className:n.content,children:H.jsx(ox,{})})})},lx={display:"block",margin:"0 auto",borderColor:"red"},ux=()=>{const[n,e]=U.useState(!1),t=wl(),i={main:"size-full flex flex-col items-center justify-center ",content:"w-full max-w-[340px] flex flex-col bg-st-200 rounded p-2",title:"text-lg text-center text-white font-bold mt-5 sm:mt-2 sm:pb-2",formMain:"flex flex-col gap-8 sm:gap-4 justify-start p-4 sm:px-4 sm:pt-0",formBtn:"rounded h-[55px] text-white mt-10 bg-rd text-2xl font-bold py-2 active:bg-nd hover:bg-nd duration-300",bottomBox:{main:"flex gap-1 text-white justify-center items-center min-h-10",txt:"flex gap-2",link:"text-rd font-bold underline"},spinner:"absolute bottom-16"},o={color:"#1e40af",size:90,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};function l(c){e(!0);const d=new FormData(c.currentTarget),p=d.get("mail")||"",y=d.get("password")||"",_=d.get("re-password")||"";if(y!=null&&y.length<5){e(!1),Ur("error","La contraseña debe tener más de 4 carácteres.");return}if(_!=y){e(!1),Ur("error","Las contraseñas deben ser iguales");return}WC(p,y,e,t)}return H.jsxs("section",{className:i.main,children:[H.jsxs("div",{className:i.content,children:[H.jsx("h1",{className:i.title,children:"REGISTRO DE USUARIO"}),H.jsx("hr",{className:"w-[30%] h-[1px] bg-white self-center my-3 sm:my-0"}),H.jsxs(Oc,{className:i.formMain,onSubmit:c=>l(c),autoComplete:"off",children:[H.jsx(rl,{name:"mail",type:"email",title:"Email"}),H.jsx(rl,{name:"password",type:"password",title:"Contraseña"}),H.jsx(rl,{name:"re-password",type:"password",title:"Repite la contraseña"}),H.jsx("button",{type:"submit",className:i.formBtn,children:"Registrarse"})]}),H.jsx("div",{className:i.bottomBox.main,children:H.jsxs("p",{className:i.bottomBox.txt,children:["¿ Ya tienes cuenta ?",H.jsx(Zo,{className:i.bottomBox.link,to:"/login",children:"Inicia sesión"})]})})]}),H.jsx("div",{className:i.spinner,children:H.jsx(zc,{color:o.color,loading:n,cssOverride:lx,size:o.size,"aria-label":o.ariaLabel,"data-testid":o.dataTest,speedMultiplier:o.speed})})]})},cx=()=>{const n={main:"flex font-roboto",content:"min-h-dvh w-full flex flex-col items-center justify-center p-8 bg-st-100"};return H.jsxs("div",{className:n.main,children:[H.jsx("div",{className:n.content,children:H.jsx(ux,{})}),H.jsx(U0,{})]})},hx=({images:n})=>{const[e,t]=U.useState(0),i=()=>{t(l=>l===0?n.length-1:l-1)},o=()=>{t(l=>l===n.length-1?0:l+1)};return U.useEffect(()=>{const l=setInterval(()=>{t(c=>c===n.length-1?0:c+1)},4e3);return()=>clearInterval(l)},[n.length]),H.jsx("section",{className:"size-full",children:H.jsxs("div",{className:"relative size-full overflow-hidden",children:[H.jsx("div",{className:"absolute inset-0 flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((l,c)=>H.jsxs("div",{className:"w-full sm:h-[90%] flex sm:justify-center flex-shrink-0",children:[H.jsxs("picture",{className:"w-full flex relative",children:[H.jsx("img",{src:l.imgs[0],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover flex sm:hidden",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),H.jsx("img",{src:l.imgs[1],alt:`Slide ${c}`,loading:"lazy",className:"w-full h-full object-cover hidden sm:flex",style:{WebkitMaskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 40%, rgba(0, 0, 0, 0) 100%)"}}),H.jsx("span",{className:"absolute sm:hidden flex justify-center w-full bottom-6",children:H.jsx("h1",{className:"text-3xl text-white font-bold text-center truncate",children:n[e].name})})]}),H.jsx("span",{className:"absolute hidden sm:flex justify-center w-full bottom-4",children:H.jsx("h1",{className:"text-3xl text-white font-bold text-center duration-300 truncate",children:n[e].name})})]},c))}),H.jsx("button",{onClick:i,className:"absolute flex  h-full items-center top-0 left-0 bg-gradient-to-r from-st/50 to-transparent text-white px-4",children:H.jsx(XC,{className:"text-5xl sm:text-transparent"})}),H.jsx("button",{onClick:o,className:"absolute flex h-full items-center top-0 right-0 bg-gradient-to-l from-st/50 to-transparent text-white px-4",children:H.jsx(JC,{className:"text-5xl sm:text-transparent"})}),H.jsx("div",{className:"absolute w-full  flex items-center justify-center bottom-0",children:H.jsx("ul",{className:" w-full max-w-[600px] flex items-center h-4 justify-center sm:justify-evenly sm:px-10 gap-4",children:n.map((l,c)=>H.jsx("li",{onClick:()=>t(c),className:e===c?" w-4 h-4 sm:w-full sm:h-1.5 bg-gradient-to-br from-nd to-rd rounded-full duration-300":"w-2 h-2 sm:w-full sm:h-1.5 bg-gradient-to-b from-zinc-300/75 to-transparent rounded-full cursor-pointer duration-300"},c))})})]})})};var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,B0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function R(){}R.prototype=T.prototype,C.D=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(A,L,j){for(var k=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)k[ht-2]=arguments[ht];return T.prototype[L].apply(A,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,R){R||(R=0);var A=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)A[L]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(L=0;16>L;++L)A[L]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=C.g[0],R=C.g[1],L=C.g[2];var j=C.g[3],k=T+(j^R&(L^j))+A[0]+3614090360&4294967295;T=R+(k<<7&4294967295|k>>>25),k=j+(L^T&(R^L))+A[1]+3905402710&4294967295,j=T+(k<<12&4294967295|k>>>20),k=L+(R^j&(T^R))+A[2]+606105819&4294967295,L=j+(k<<17&4294967295|k>>>15),k=R+(T^L&(j^T))+A[3]+3250441966&4294967295,R=L+(k<<22&4294967295|k>>>10),k=T+(j^R&(L^j))+A[4]+4118548399&4294967295,T=R+(k<<7&4294967295|k>>>25),k=j+(L^T&(R^L))+A[5]+1200080426&4294967295,j=T+(k<<12&4294967295|k>>>20),k=L+(R^j&(T^R))+A[6]+2821735955&4294967295,L=j+(k<<17&4294967295|k>>>15),k=R+(T^L&(j^T))+A[7]+4249261313&4294967295,R=L+(k<<22&4294967295|k>>>10),k=T+(j^R&(L^j))+A[8]+1770035416&4294967295,T=R+(k<<7&4294967295|k>>>25),k=j+(L^T&(R^L))+A[9]+2336552879&4294967295,j=T+(k<<12&4294967295|k>>>20),k=L+(R^j&(T^R))+A[10]+4294925233&4294967295,L=j+(k<<17&4294967295|k>>>15),k=R+(T^L&(j^T))+A[11]+2304563134&4294967295,R=L+(k<<22&4294967295|k>>>10),k=T+(j^R&(L^j))+A[12]+1804603682&4294967295,T=R+(k<<7&4294967295|k>>>25),k=j+(L^T&(R^L))+A[13]+4254626195&4294967295,j=T+(k<<12&4294967295|k>>>20),k=L+(R^j&(T^R))+A[14]+2792965006&4294967295,L=j+(k<<17&4294967295|k>>>15),k=R+(T^L&(j^T))+A[15]+1236535329&4294967295,R=L+(k<<22&4294967295|k>>>10),k=T+(L^j&(R^L))+A[1]+4129170786&4294967295,T=R+(k<<5&4294967295|k>>>27),k=j+(R^L&(T^R))+A[6]+3225465664&4294967295,j=T+(k<<9&4294967295|k>>>23),k=L+(T^R&(j^T))+A[11]+643717713&4294967295,L=j+(k<<14&4294967295|k>>>18),k=R+(j^T&(L^j))+A[0]+3921069994&4294967295,R=L+(k<<20&4294967295|k>>>12),k=T+(L^j&(R^L))+A[5]+3593408605&4294967295,T=R+(k<<5&4294967295|k>>>27),k=j+(R^L&(T^R))+A[10]+38016083&4294967295,j=T+(k<<9&4294967295|k>>>23),k=L+(T^R&(j^T))+A[15]+3634488961&4294967295,L=j+(k<<14&4294967295|k>>>18),k=R+(j^T&(L^j))+A[4]+3889429448&4294967295,R=L+(k<<20&4294967295|k>>>12),k=T+(L^j&(R^L))+A[9]+568446438&4294967295,T=R+(k<<5&4294967295|k>>>27),k=j+(R^L&(T^R))+A[14]+3275163606&4294967295,j=T+(k<<9&4294967295|k>>>23),k=L+(T^R&(j^T))+A[3]+4107603335&4294967295,L=j+(k<<14&4294967295|k>>>18),k=R+(j^T&(L^j))+A[8]+1163531501&4294967295,R=L+(k<<20&4294967295|k>>>12),k=T+(L^j&(R^L))+A[13]+2850285829&4294967295,T=R+(k<<5&4294967295|k>>>27),k=j+(R^L&(T^R))+A[2]+4243563512&4294967295,j=T+(k<<9&4294967295|k>>>23),k=L+(T^R&(j^T))+A[7]+1735328473&4294967295,L=j+(k<<14&4294967295|k>>>18),k=R+(j^T&(L^j))+A[12]+2368359562&4294967295,R=L+(k<<20&4294967295|k>>>12),k=T+(R^L^j)+A[5]+4294588738&4294967295,T=R+(k<<4&4294967295|k>>>28),k=j+(T^R^L)+A[8]+2272392833&4294967295,j=T+(k<<11&4294967295|k>>>21),k=L+(j^T^R)+A[11]+1839030562&4294967295,L=j+(k<<16&4294967295|k>>>16),k=R+(L^j^T)+A[14]+4259657740&4294967295,R=L+(k<<23&4294967295|k>>>9),k=T+(R^L^j)+A[1]+2763975236&4294967295,T=R+(k<<4&4294967295|k>>>28),k=j+(T^R^L)+A[4]+1272893353&4294967295,j=T+(k<<11&4294967295|k>>>21),k=L+(j^T^R)+A[7]+4139469664&4294967295,L=j+(k<<16&4294967295|k>>>16),k=R+(L^j^T)+A[10]+3200236656&4294967295,R=L+(k<<23&4294967295|k>>>9),k=T+(R^L^j)+A[13]+681279174&4294967295,T=R+(k<<4&4294967295|k>>>28),k=j+(T^R^L)+A[0]+3936430074&4294967295,j=T+(k<<11&4294967295|k>>>21),k=L+(j^T^R)+A[3]+3572445317&4294967295,L=j+(k<<16&4294967295|k>>>16),k=R+(L^j^T)+A[6]+76029189&4294967295,R=L+(k<<23&4294967295|k>>>9),k=T+(R^L^j)+A[9]+3654602809&4294967295,T=R+(k<<4&4294967295|k>>>28),k=j+(T^R^L)+A[12]+3873151461&4294967295,j=T+(k<<11&4294967295|k>>>21),k=L+(j^T^R)+A[15]+530742520&4294967295,L=j+(k<<16&4294967295|k>>>16),k=R+(L^j^T)+A[2]+3299628645&4294967295,R=L+(k<<23&4294967295|k>>>9),k=T+(L^(R|~j))+A[0]+4096336452&4294967295,T=R+(k<<6&4294967295|k>>>26),k=j+(R^(T|~L))+A[7]+1126891415&4294967295,j=T+(k<<10&4294967295|k>>>22),k=L+(T^(j|~R))+A[14]+2878612391&4294967295,L=j+(k<<15&4294967295|k>>>17),k=R+(j^(L|~T))+A[5]+4237533241&4294967295,R=L+(k<<21&4294967295|k>>>11),k=T+(L^(R|~j))+A[12]+1700485571&4294967295,T=R+(k<<6&4294967295|k>>>26),k=j+(R^(T|~L))+A[3]+2399980690&4294967295,j=T+(k<<10&4294967295|k>>>22),k=L+(T^(j|~R))+A[10]+4293915773&4294967295,L=j+(k<<15&4294967295|k>>>17),k=R+(j^(L|~T))+A[1]+2240044497&4294967295,R=L+(k<<21&4294967295|k>>>11),k=T+(L^(R|~j))+A[8]+1873313359&4294967295,T=R+(k<<6&4294967295|k>>>26),k=j+(R^(T|~L))+A[15]+4264355552&4294967295,j=T+(k<<10&4294967295|k>>>22),k=L+(T^(j|~R))+A[6]+2734768916&4294967295,L=j+(k<<15&4294967295|k>>>17),k=R+(j^(L|~T))+A[13]+1309151649&4294967295,R=L+(k<<21&4294967295|k>>>11),k=T+(L^(R|~j))+A[4]+4149444226&4294967295,T=R+(k<<6&4294967295|k>>>26),k=j+(R^(T|~L))+A[11]+3174756917&4294967295,j=T+(k<<10&4294967295|k>>>22),k=L+(T^(j|~R))+A[2]+718787259&4294967295,L=j+(k<<15&4294967295|k>>>17),k=R+(j^(L|~T))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+j&4294967295}i.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var R=T-this.blockSize,A=this.B,L=this.h,j=0;j<T;){if(L==0)for(;j<=R;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<T;)if(A[L++]=C.charCodeAt(j++),L==this.blockSize){o(this,A),L=0;break}}else for(;j<T;)if(A[L++]=C[j++],L==this.blockSize){o(this,A),L=0;break}}this.h=L,this.o+=T},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var R=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=R&255,R/=256;for(this.u(C),C=Array(16),T=R=0;4>T;++T)for(var A=0;32>A;A+=8)C[R++]=this.g[T]>>>A&255;return C};function l(C,T){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=T(C)}function c(C,T){this.h=T;for(var R=[],A=!0,L=C.length-1;0<=L;L--){var j=C[L]|0;A&&j==T||(R[L]=j,A=!1)}this.g=R}var d={};function p(C){return-128<=C&&128>C?l(C,function(T){return new c([T|0],0>T?-1:0)}):new c([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return I;if(0>C)return M(y(-C));for(var T=[],R=1,A=0;C>=R;A++)T[A]=C/R|0,R*=4294967296;return new c(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return M(_(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),A=I,L=0;L<C.length;L+=8){var j=Math.min(8,C.length-L),k=parseInt(C.substring(L,L+j),T);8>j?(j=y(Math.pow(T,j)),A=A.j(j).add(y(k))):(A=A.j(R),A=A.add(y(k)))}return A}var I=p(0),S=p(1),P=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-M(this).m();for(var C=0,T=1,R=0;R<this.g.length;R++){var A=this.i(R);C+=(0<=A?A:4294967296+A)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(z(this))return"-"+M(this).toString(C);for(var T=y(Math.pow(C,6)),R=this,A="";;){var L=ne(R,T).g;R=N(R,L.j(T));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=L,O(R))return j+A;for(;6>j.length;)j="0"+j;A=j+A}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function z(C){return C.h==-1}n.l=function(C){return C=N(this,C),z(C)?-1:O(C)?0:1};function M(C){for(var T=C.g.length,R=[],A=0;A<T;A++)R[A]=~C.g[A];return new c(R,~C.h).add(S)}n.abs=function(){return z(this)?M(this):this},n.add=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],A=0,L=0;L<=T;L++){var j=A+(this.i(L)&65535)+(C.i(L)&65535),k=(j>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);A=k>>>16,j&=65535,k&=65535,R[L]=k<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function N(C,T){return C.add(M(T))}n.j=function(C){if(O(this)||O(C))return I;if(z(this))return z(C)?M(this).j(M(C)):M(M(this).j(C));if(z(C))return M(this.j(M(C)));if(0>this.l(P)&&0>C.l(P))return y(this.m()*C.m());for(var T=this.g.length+C.g.length,R=[],A=0;A<2*T;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var L=0;L<C.g.length;L++){var j=this.i(A)>>>16,k=this.i(A)&65535,ht=C.i(L)>>>16,ze=C.i(L)&65535;R[2*A+2*L]+=k*ze,Q(R,2*A+2*L),R[2*A+2*L+1]+=j*ze,Q(R,2*A+2*L+1),R[2*A+2*L+1]+=k*ht,Q(R,2*A+2*L+1),R[2*A+2*L+2]+=j*ht,Q(R,2*A+2*L+2)}for(A=0;A<T;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=T;A<2*T;A++)R[A]=0;return new c(R,0)};function Q(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function Y(C,T){this.g=C,this.h=T}function ne(C,T){if(O(T))throw Error("division by zero");if(O(C))return new Y(I,I);if(z(C))return T=ne(M(C),T),new Y(M(T.g),M(T.h));if(z(T))return T=ne(C,M(T)),new Y(M(T.g),T.h);if(30<C.g.length){if(z(C)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,A=T;0>=A.l(C);)R=F(R),A=F(A);var L=oe(R,1),j=oe(A,1);for(A=oe(A,2),R=oe(R,2);!O(A);){var k=j.add(A);0>=k.l(C)&&(L=L.add(R),j=k),A=oe(A,1),R=oe(R,1)}return T=N(C,L.j(T)),new Y(L,T)}for(L=I;0<=C.l(T);){for(R=Math.max(1,Math.floor(C.m()/T.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),j=y(R),k=j.j(T);z(k)||0<k.l(C);)R-=A,j=y(R),k=j.j(T);O(j)&&(j=S),L=L.add(j),C=N(C,k)}return new Y(L,C)}n.A=function(C){return ne(this,C).h},n.and=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)&C.i(A);return new c(R,this.h&C.h)},n.or=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)|C.i(A);return new c(R,this.h|C.h)},n.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)^C.i(A);return new c(R,this.h^C.h)};function F(C){for(var T=C.g.length+1,R=[],A=0;A<T;A++)R[A]=C.i(A)<<1|C.i(A-1)>>>31;return new c(R,C.h)}function oe(C,T){var R=T>>5;T%=32;for(var A=C.g.length-R,L=[],j=0;j<A;j++)L[j]=0<T?C.i(j+R)>>>T|C.i(j+R+1)<<32-T:C.i(j+R);return new c(L,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Ks=c}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Za,H0,rc,uf,W0,q0,K0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var W=u[E];if(!(W in v))break e;v=v[W]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,W={next:function(){if(!E&&v<u.length){var J=v++;return{value:m(J,u[J]),done:!1}}return E=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,E),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:I,S.apply(null,arguments)}function P(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,W,J){for(var ce=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ce[ct-2]=arguments[ct];return m.prototype[W].apply(E,ce)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function M(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const W=u.length||0,J=E.length||0;u.length=W+J;for(let ce=0;ce<J;ce++)u[W+ce]=E[ce]}else u.push(E)}}class N{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var F=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function oe(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let v,E;for(let W=1;W<arguments.length;W++){E=arguments[W];for(v in E)u[v]=E[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function k(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=ze.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var ze=new N(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ae=!1,Te=new ht,de=()=>{const u=d.Promise.resolve(void 0);Ue=()=>{u.then(B)}};var B=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){j(v)}var m=ze;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function De(u,m){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{ne(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}O(De,we);var Be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Me(u,m,v,E,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=W,this.key=++Ze,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $n(u){this.src=u,this.g={},this.h=0}$n.prototype.add=function(u,m,v,E,W){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var ce=nn(u,m,E,W);return-1<ce?(m=u[ce],v||(m.fa=!1)):(m=new Me(m,this.src,J,!!E,W),m.fa=v,u.push(m)),m};function Si(u,m){var v=m.type;if(v in u.g){var E=u.g[v],W=Array.prototype.indexOf.call(E,m,void 0),J;(J=0<=W)&&Array.prototype.splice.call(E,W,1),J&&(pt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nn(u,m,v,E){for(var W=0;W<u.length;++W){var J=u[W];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==E)return W}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Ri={};function Ci(u,m,v,E,W){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Ci(u,m[J],v,E,W);return null}return v=En(v),u&&u[Je]?u.K(m,v,y(E)?!!E.capture:!!E,W):ws(u,m,v,!1,E,W)}function ws(u,m,v,E,W,J){if(!m)throw Error("Invalid event type");var ce=y(W)?!!W.capture:!!W,ct=Qr(u);if(ct||(u[Gr]=ct=new $n(u)),v=ct.add(m,v,E,ce,J),v.proxy)return v;if(E=so(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Le||(W=ce),W===void 0&&(W=!1),u.addEventListener(m.toString(),E,W);else if(u.attachEvent)u.attachEvent(qt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function so(){function u(v){return m.call(u.src,u.listener,v)}const m=er;return u}function xi(u,m,v,E,W){if(Array.isArray(m))for(var J=0;J<m.length;J++)xi(u,m[J],v,E,W);else E=y(E)?!!E.capture:!!E,v=En(v),u&&u[Je]?(u=u.i,m=String(m).toString(),m in u.g&&(J=u.g[m],v=nn(J,v,E,W),-1<v&&(pt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,v,E,W)),(v=-1<u?m[u]:null)&&Zn(v))}function Zn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Je])Si(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(qt(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Qr(m))?(Si(v,u),v.h==0&&(v.src=null,m[Gr]=null)):pt(u)}}}function qt(u){return u in Ri?Ri[u]:Ri[u]="on"+u}function er(u,m){if(u.da)u=!0;else{m=new De(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Zn(u),u=v.call(E,m)}return u}function Qr(u){return u=u[Gr],u instanceof $n?u:null}var Tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(u){return typeof u=="function"?u:(u[Tr]||(u[Tr]=function(m){return u.handleEvent(m)}),u[Tr])}function ut(){Z.call(this),this.i=new $n(this),this.M=this,this.F=null}O(ut,Z),ut.prototype[Je]=!0,ut.prototype.removeEventListener=function(u,m,v,E){xi(this,u,m,v,E)};function Rt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new we(m,u);else if(m instanceof we)m.target=m.target||u;else{var W=m;m=new we(E,u),A(m,W)}if(W=!0,v)for(var J=v.length-1;0<=J;J--){var ce=m.g=v[J];W=Ln(ce,E,!0,m)&&W}if(ce=m.g=u,W=Ln(ce,E,!0,m)&&W,W=Ln(ce,E,!1,m)&&W,v)for(J=0;J<v.length;J++)ce=m.g=v[J],W=Ln(ce,E,!1,m)&&W}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)pt(v[E]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ut.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Ln(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,J=0;J<m.length;++J){var ce=m[J];if(ce&&!ce.da&&ce.capture==v){var ct=ce.listener,Ot=ce.ha||ce.src;ce.fa&&Si(u.i,ce),W=ct.call(Ot,E)!==!1&&W}}return W&&!E.defaultPrevented}function Es(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Kt(u){u.g=Es(()=>{u.g=null,u.i&&(u.i=!1,Kt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ir extends Z{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(u){Z.call(this),this.h=u,this.g={}}O(Sr,Z);var ki=[];function Ts(u){oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zn(m)},u),u.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Ts(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=d.JSON.stringify,Rr=d.JSON.parse,Ai=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tr(){}tr.prototype.h=null;function bi(u){return u.h||(u.h=u.i())}function Yr(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){we.call(this,"d")}O(On,we);function nr(){we.call(this,"c")}O(nr,we);var pn={},Is=null;function Xr(){return Is=Is||new ut}pn.La="serverreachability";function D(u){we.call(this,pn.La,u)}O(D,we);function $(u){const m=Xr();Rt(m,new D(m))}pn.STAT_EVENT="statevent";function X(u,m){we.call(this,pn.STAT_EVENT,u),this.stat=m}O(X,we);function ee(u){const m=Xr();Rt(m,new X(m,u))}pn.Ma="timingevent";function fe(u,m){we.call(this,pn.Ma,u),this.size=m}O(fe,we);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function pe(u,m,v,E,W,J){u.info(function(){if(u.g)if(J)for(var ce="",ct=J.split("&"),Ot=0;Ot<ct.length;Ot++){var Ge=ct[Ot].split("=");if(1<Ge.length){var jt=Ge[0];Ge=Ge[1];var Nt=jt.split("_");ce=2<=Nt.length&&Nt[1]=="type"?ce+(jt+"="+Ge+"&"):ce+(jt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+E+") [attempt "+W+"]: "+m+`
`+v+`
`+ce})}function _e(u,m,v,E,W,J,ce){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+W+"]: "+m+`
`+v+`
`+J+" "+ce})}function ue(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ve(u,v)+(E?" "+E:"")})}function Pe(u,m){u.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function Ve(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var W=E[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return Pi(v)}catch{return m}}var st={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},He;function et(){}O(et,tr),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},He=new et;function ot(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ir={},rn={};function Gt(u,m,v){u.L=1,u.v=Oi(Mn(m)),u.m=v,u.P=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),at(u),u.A=Mn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Vi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new rr,u.g=Wl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ir(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(ki[0]=W.toString()),W=ki);for(var J=0;J<W.length;J++){var ce=Ci(v,W[J],E||m.handleEvent,!1,m.h||m);if(!ce)break;m.g[ce.key]=ce}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}ot.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},ot.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=Rn(this.g);var m=this.g.Ba();const Wn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||va(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=Wn?$(3):$(2)),Ke(this);var v=this.g.Z();this.X=v;t:if(Cr(this)){var E=va(this.g);u="";var W=E.length,J=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),mt(this);var ce="";break t}this.h.i=new d.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(J&&m==W-1)});E.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Ot=this.g;if((ct=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ct)){var Ge=ct;break t}}Ge=null}if(v=Ge)ue(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,v);else{this.o=!1,this.s=3,ee(12),Qt(this),mt(this);break e}}if(this.P){v=!0;let Fn;for(;!this.J&&this.C<ce.length;)if(Fn=sr(this,ce),Fn==rn){Nt==4&&(this.s=4,ee(14),v=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==ir){this.s=4,ee(15),ue(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else ue(this.i,this.l,Fn,null),or(this,Fn);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ce.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)ue(this.i,this.l,ce,"[Invalid Chunked Response]"),Qt(this),mt(this);else if(0<ce.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),wa(jt),jt.M=!0,ee(11))}}else ue(this.i,this.l,ce,null),or(this,ce);Nt==4&&Qt(this),this.o&&!this.J&&(Nt==4?vo(this.j,this):(this.o=!1,at(this)))}else fo(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Qt(this),mt(this)}}}catch{}finally{}};function Cr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?rn:(v=Number(m.substring(v,E)),isNaN(v)?ir:(E+=1,E+v>m.length?rn:(m=m.slice(E,E+v),u.C=E+v,m)))}ot.prototype.cancel=function(){this.J=!0,Qt(this)};function at(u){u.S=Date.now()+u.I,Zr(u,u.I)}function Zr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(S(u.ba,u),m)}function Ke(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ot.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Pe(this.i,this.A),this.L!=2&&($(),ee(17)),Qt(this),this.s=2,mt(this)):Zr(this,this.S-u)};function mt(u){u.j.G==0||u.J||vo(u.j,u)}function Qt(u){Ke(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ts(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function or(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||mn(v.h,u))){if(!u.K&&mn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var W=E;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)yo(v),hr(v);else break e;go(v),ee(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(S(v.Za,v),6e3));if(1>=oo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((u.K||v.g==u)&&yo(v),!Q(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let Ge=W[m];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const jt=Ge[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const Nt=Ge[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Wn=Ge[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(E=1.5*Wn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Fn=u.g;if(Fn){const Ps=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var J=E.h;J.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(pa(J,J.h),J.h=null))}if(E.D){const wo=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(E.ya=wo,dt(E.I,E.D,wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ce=u;if(E.qa=Hl(E,E.J?E.ia:null,E.W),ce.K){Nl(E.h,ce);var ct=ce,Ot=E.L;Ot&&(ct.I=Ot),ct.B&&(Ke(ct),at(ct)),E.g=ce}else ks(E);0<v.i.length&&Ar(v)}else Ge[0]!="stop"&&Ge[0]!="close"||ii(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ii(v,7):Xt(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}$(4)}catch{}}var gt=class{constructor(u,m){this.g=u,this.map=m}};function In(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oo(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pa(u,m){u.g?u.g.add(m):u.h=m}function Nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}In.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function ao(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function lo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function Ni(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=lo(u),E=ao(u),W=E.length,J=0;J<W;J++)m.call(void 0,E[J],v&&v[J],u)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),W=null;if(0<=E){var J=u[v].substring(0,E);W=u[v].substring(E+1)}else J=u[v];m(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ei){this.h=u.h,Rs(this,u.j),this.o=u.o,this.g=u.g,Di(this,u.s),this.l=u.l;var m=u.i,v=new xr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Li(this,v),this.m=u.m}else u&&(m=String(u).match(Ss))?(this.h=!1,Rs(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Di(this,m[4]),this.l=We(m[5]||"",!0),Li(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}ei.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Mi(m,uo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mi(m,uo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mi(v,v.charAt(0)=="/"?Ml:Ol,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mi(v,ma)),u.join("")};function Mn(u){return new ei(u)}function Rs(u,m,v){u.j=v?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Di(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Li(u,m,v){m instanceof xr?(u.i=m,kr(u.i,u.h)):(v||(m=Mi(m,Vl)),u.i=new xr(m,u.h))}function dt(u,m,v){u.i.set(m,v)}function Oi(u){return dt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ll),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ll(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var uo=/[#\/\?@]/g,Ol=/[#\?:]/g,Ml=/[#\?]/g,Vl=/[#\?@]/g,ma=/#/g;function xr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Yt(u){u.g||(u.g=new Map,u.h=0,u.i&&eh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=xr.prototype,n.add=function(u,m){Yt(this),this.i=null,u=Hn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ar(u,m){Yt(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function lr(u,m){return Yt(u),m=Hn(u,m),u.g.has(m)}n.forEach=function(u,m){Yt(this),this.g.forEach(function(v,E){v.forEach(function(W){u.call(m,W,E,this)},this)},this)},n.na=function(){Yt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const W=u[E];for(let J=0;J<W.length;J++)v.push(m[E])}return v},n.V=function(u){Yt(this);let m=[];if(typeof u=="string")lr(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Yt(this),this.i=null,u=Hn(this,u),lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Vi(u,m,v){ar(u,m),0<v.length&&(u.i=null,u.g.set(Hn(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const J=encodeURIComponent(String(E)),ce=this.V(E);for(E=0;E<ce.length;E++){var W=J;ce[E]!==""&&(W+="="+encodeURIComponent(String(ce[E]))),u.push(W)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kr(u,m){m&&!u.j&&(Yt(u),u.i=null,u.g.forEach(function(v,E){var W=E.toLowerCase();E!=W&&(ar(this,E),Vi(this,W,v))},u)),u.j=m}function th(u,m){const v=new Re;if(d.Image){const E=new Image;E.onload=P(Sn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=P(Sn,v,"TestLoadImage: error",!1,m,E),E.onabort=P(Sn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=P(Sn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Fl(u,m){const v=new Re,E=new AbortController,W=setTimeout(()=>{E.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(J=>{clearTimeout(W),J.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,E,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),E(v)}catch{}}function nh(){this.g=new Ai}function Ul(u,m,v){const E=v||"";try{Ni(u,function(W,J){let ce=W;y(W)&&(ce=Pi(W)),m.push(E+J+"="+encodeURIComponent(ce))})}catch(W){throw m.push(E+"type="+encodeURIComponent("_badmap")),W}}function ti(u){this.l=u.Ub||null,this.j=u.eb||!1}O(ti,tr),ti.prototype.g=function(){return new Cs(this.l,this.j)},ti.prototype.i=function(u){return function(){return u}}({});function Cs(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Cs,ut),n=Cs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,cr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):cr(this),this.readyState==3&&jl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ur(this))},n.Qa=function(u){this.g&&(this.response=u,ur(this))},n.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.v=null,cr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return oe(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Fi(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=ni(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):dt(u,m,v))}function wt(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(wt,ut);var rh=/^https?$/i,ga=["POST","PUT"];n=wt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():He.g(),this.v=this.o?bi(this.o):bi(He),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(J){xs(this,J);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var W in E)v.set(W,E[W]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const J of E.keys())v.set(J,E.get(J));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),W=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ga,m,void 0))||E||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of v)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){xs(this,J)}};function xs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,co(u),Vn(u)}function co(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},n.bb=function(){ya(this)};function ya(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)Es(u.Ea,0,u);else if(Rt(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ce===0){var W=String(u.D).match(Ss)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),E=!rh.test(W?W.toLowerCase():"")}v=E}if(v)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var J=2<Rn(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",co(u)}}finally{Vn(u)}}}}function Vn(u,m){if(u.g){ho(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Rt(u,"ready");try{v.onreadystatechange=E}catch{}}}function ho(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rr(m)}};function va(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fo(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Q(u[E]))continue;var v=L(u[E]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[W]||[];m[W]=J,J.push(v)}C(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _a(u){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,u),this.cb=Pr("retryDelaySeedMs",1e4,u),this.Wa=Pr("forwardChannelMaxRetries",2,u),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new In(u&&u.concurrentRequestLimit),this.Da=new nh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_a.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){ee(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Hl(this,null,this.W),Ar(this)};function Xt(u){if(po(u),u.G==3){var m=u.U++,v=Mn(u.I);if(dt(v,"SID",u.K),dt(v,"RID",m),dt(v,"TYPE","terminate"),ri(u,v),m=new ot(u,u.j,m),m.L=2,m.v=Oi(Mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),at(m)}$l(u)}function hr(u){u.g&&(wa(u),u.g.cancel(),u.g=null)}function po(u){hr(u),u.u&&(d.clearTimeout(u.u),u.u=null),yo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Ar(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ue||de(),ae||(Ue(),ae=!0),Te.add(m,u),u.B=0}}function ih(u,m){return oo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(S(u.Ga,u,m),Bl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new ot(this,this.j,u);let J=this.o;if(this.S&&(J?(J=T(J),A(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ui(this,W,m),v=Mn(this.I),dt(v,"RID",u),dt(v,"CVER",22),this.D&&dt(v,"X-HTTP-Session-Id",this.D),ri(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(ni(J)))+"&"+m:this.m&&Fi(v,this.m,J)),pa(this.h,W),this.Ua&&dt(v,"TYPE","init"),this.P?(dt(v,"$req",m),dt(v,"SID","null"),W.T=!0,Gt(W,v,null)):Gt(W,v,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||sn(this.h)||mo(this))};function mo(u,m){var v;m?v=m.l:v=u.U++;const E=Mn(u.I);dt(E,"SID",u.K),dt(E,"RID",v),dt(E,"AID",u.T),ri(u,E),u.m&&u.o&&Fi(E,u.m,u.o),v=new ot(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ui(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pa(u.h,v),Gt(v,E,m)}function ri(u,m){u.H&&oe(u.H,function(v,E){dt(m,E,v)}),u.l&&Ni({},function(v,E){dt(m,E,v)})}function Ui(u,m,v){v=Math.min(u.i.length,v);var E=u.l?S(u.l.Na,u.l,u):null;e:{var W=u.i;let J=-1;for(;;){const ce=["count="+v];J==-1?0<v?(J=W[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let ct=!0;for(let Ot=0;Ot<v;Ot++){let Ge=W[Ot].g;const jt=W[Ot].map;if(Ge-=J,0>Ge)J=Math.max(0,W[Ot].g-100),ct=!1;else try{Ul(jt,ce,"req"+Ge+"_")}catch{E&&E(jt)}}if(ct){E=ce.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function ks(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ue||de(),ae||(Ue(),ae=!0),Te.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(S(u.Fa,u),Bl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),hr(this),zl(this))};function wa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function zl(u){u.g=new ot(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Mn(u.qa);dt(m,"RID","rpc"),dt(m,"SID",u.K),dt(m,"AID",u.T),dt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&dt(m,"TO",u.ja),dt(m,"TYPE","xmlhttp"),ri(u,m),u.m&&u.o&&Fi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Oi(Mn(m)),v.m=null,v.P=!0,Jr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),go(this),ee(19))};function yo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vo(u,m){var v=null;if(u.g==m){yo(u),wa(u),u.g=null;var E=2}else if(mn(u.h,m))v=m.D,Nl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;E=Xr(),Rt(E,new fe(E,v)),Ar(u)}else ks(u);else if(W=m.s,W==3||W==0&&0<m.X||!(E==1&&ih(u,m)||E==2&&go(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:ii(u,5);break;case 4:ii(u,10);break;case 3:ii(u,6);break;default:ii(u,2)}}}function Bl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ii(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),E=u.Xa;const W=!E;E=new ei(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rs(E,"https"),Oi(E),W?th(E.toString(),v):Fl(E.toString(),v)}else ee(2);u.G=0,u.l&&u.l.sa(m),$l(u),po(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&(M(u.ka,m),M(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Hl(u,m,v){var E=v instanceof ei?Mn(v):new ei(v);if(E.g!="")m&&(E.g=m+"."+E.g),Di(E,E.s);else{var W=d.location;E=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var J=new ei(null);E&&Rs(J,E),m&&(J.g=m),W&&Di(J,W),v&&(J.l=v),E=J}return v=u.D,m=u.ya,v&&m&&dt(E,v,m),dt(E,"VER",u.la),ri(u,E),E}function Wl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new wt(new ti({eb:v})):new wt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}n=Ea.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){ut.call(this),this.g=new _a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new br(this)}O(gn,ut),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Pi(u),u=v);m.i.push(new gt(m.Ya++,u)),m.G==3&&Ar(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)};function ql(u){On.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(ql,On);function Kl(){nr.call(this),this.status=1}O(Kl,nr);function br(u){this.g=u}O(br,Ea),br.prototype.ua=function(){Rt(this.g,"a")},br.prototype.ta=function(u){Rt(this.g,new ql(u))},br.prototype.sa=function(u){Rt(this.g,new Kl)},br.prototype.ra=function(){Rt(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,K0=function(){return new _o},q0=function(){return Xr()},W0=pn,uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,rc=st,Ct.COMPLETE="complete",H0=Ct,Yr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Za=Yr,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,$0=wt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Mf("@firebase/firestore");function Bo(){return eo.logLevel}function ge(n,...e){if(eo.logLevel<=$e.DEBUG){const t=e.map(Gf);eo.debug(`Firestore (${ca}): ${n}`,...t)}}function wi(n,...e){if(eo.logLevel<=$e.ERROR){const t=e.map(Gf);eo.error(`Firestore (${ca}): ${n}`,...t)}}function na(n,...e){if(eo.logLevel<=$e.WARN){const t=e.map(Gf);eo.warn(`Firestore (${ca}): ${n}`,...t)}}function Gf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+n;throw wi(e),new Error(e)}function St(n,e){n||Fe()}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class fx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class px{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St(typeof i.accessToken=="string"),new G0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new hn(e)}}class mx{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new mx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){St(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new yx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=_x(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ye(n,e){return n<e?-1:n>e?1:0}function ra(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Dn(0,0))}static max(){return new Oe(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(),i===void 0?i=e.length-t:i>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends dl{construct(e,t,i){return new kt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const Ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends dl{construct(e,t,i){return new _n(e,t,i)}static isValidIdentifier(e){return Ex.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(kt.fromString(e))}static fromName(e){return new be(kt.fromString(e).popFirst(5))}static empty(){return new be(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new kt(e.slice()))}}function Tx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new Dn(t+1,0):new Dn(t,i));return new ps(o,be.empty(),e)}function Ix(n){return new ps(n.readTime,n.key,-1)}class ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ps(Oe.min(),be.empty(),-1)}static max(){return new ps(Oe.max(),be.empty(),-1)}}function Sx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Rx)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(o=>o?te.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new te((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new te((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function xx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$c.oe=-1;function Hc(n){return n==null}function cf(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ay(e)),e=Px(n.get(t),e);return Ay(e)}function Px(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Ay(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ax(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new en(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,i,o,l){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ny(this.data.getIterator())}getIteratorFrom(e){return new Ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new as([])}unionWith(e){let t=new Ut(_n.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new as(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Q0("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(n){if(St(!!n),typeof n=="string"){let e=0;const t=bx.exec(n);if(St(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gs(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Wc(n){const e=n.mapValue.fields.__previous_value__;return Qf(e)?Wc(e):e}function fl(n){const e=ms(n.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,i,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qf(n)?4:Lx(n)?9007199254740991:Dx(n)?10:11:Fe()}function $r(n,e){if(n===e)return!0;const t=ys(n);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ms(o.timestampValue),d=ms(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return gs(o.bytesValue).isEqual(gs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return At(o.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return At(o.integerValue)===At(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=At(o.doubleValue),d=At(l.doubleValue);return c===d?cf(c)===cf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(by(c)!==by(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!$r(c[p],d[p])))return!1;return!0}(n,e);default:return Fe()}}function ml(n,e){return(n.values||[]).find(t=>$r(t,e))!==void 0}function ia(n,e){if(n===e)return 0;const t=ys(n),i=ys(e);if(t!==i)return Ye(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),p=At(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Dy(n.timestampValue,e.timestampValue);case 4:return Dy(fl(n),fl(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(l,c){const d=gs(l),p=gs(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ye(d[y],p[y]);if(_!==0)return _}return Ye(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ye(At(l.latitude),At(c.latitude));return d!==0?d:Ye(At(l.longitude),At(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ly(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const I=l.fields||{},S=c.fields||{},P=(d=I.value)===null||d===void 0?void 0:d.arrayValue,O=(p=S.value)===null||p===void 0?void 0:p.arrayValue,z=Ye(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:Ly(P,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===qu.mapValue&&c===qu.mapValue)return 0;if(l===qu.mapValue)return 1;if(c===qu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let I=0;I<p.length&&I<_.length;++I){const S=Ye(p[I],_[I]);if(S!==0)return S;const P=ia(d[p[I]],y[_[I]]);if(P!==0)return P}return Ye(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function Dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=ms(n),i=ms(e),o=Ye(t.seconds,i.seconds);return o!==0?o:Ye(t.nanos,i.nanos)}function Ly(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ia(t[o],i[o]);if(l)return l}return Ye(t.length,i.length)}function sa(n){return hf(n)}function hf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ms(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=hf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${hf(t.fields[c])}`;return o+"}"}(n.mapValue):Fe()}function ic(n){switch(ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wc(n);return e?16+ic(e):16;case 5:return 2*n.stringValue.length;case 6:return gs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+ic(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return kl(i.fields,(l,c)=>{o+=l.length+ic(c)}),o}(n.mapValue);default:throw Fe()}}function df(n){return!!n&&"integerValue"in n}function Yf(n){return!!n&&"arrayValue"in n}function Oy(n){return!!n&&"nullValue"in n}function My(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zd(n){return!!n&&"mapValue"in n}function Dx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=_n.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=il(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){kl(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Mr(il(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Oe.min(),Oe.min(),Oe.min(),Mr.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Oe.min(),Oe.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Oe.min(),Oe.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.position=e,this.inclusive=t}}function Vy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=ia(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ox(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class Ft extends Y0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Vx(e,t,i):t==="array-contains"?new jx(e,i):t==="in"?new zx(e,i):t==="not-in"?new Bx(e,i):t==="array-contains-any"?new $x(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Fx(e,i):new Ux(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ia(t,this.value)):t!==null&&ys(this.value)===ys(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Y0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Hr(e,t)}matches(e){return X0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function X0(n){return n.op==="and"}function J0(n){return Mx(n)&&X0(n)}function Mx(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function ff(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+sa(n.value);if(J0(n))return n.filters.map(e=>ff(e)).join(",");{const e=n.filters.map(t=>ff(t)).join(",");return`${n.op}(${e})`}}function Z0(n,e){return n instanceof Ft?function(i,o){return o instanceof Ft&&i.op===o.op&&i.field.isEqual(o.field)&&$r(i.value,o.value)}(n,e):n instanceof Hr?function(i,o){return o instanceof Hr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Z0(c,o.filters[d]),!0):!1}(n,e):void Fe()}function e_(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`}(n):n instanceof Hr?function(t){return t.op.toString()+" {"+t.getFilters().map(e_).join(" ,")+"}"}(n):"Filter"}class Vx extends Ft{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fx extends Ft{constructor(e,t){super(e,"in",t),this.keys=t_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ux extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=t_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function t_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class jx extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yf(t)&&ml(t.arrayValue,this.value)}}class zx extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class Bx extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ml(this.value.arrayValue,t)}}class $x extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ml(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Uy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Hx(n,e,t,i,o,l,c)}function Xf(n){const e=Xe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ff(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sa(i)).join(",")),e.ue=t}return e.ue}function Jf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ox(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fy(n.startAt,e.startAt)&&Fy(n.endAt,e.endAt)}function pf(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Wx(n,e,t,i,o,l,c,d){return new qc(n,e,t,i,o,l,c,d)}function n_(n){return new qc(n)}function jy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qx(n){return n.collectionGroup!==null}function sl(n){const e=Xe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ut(_n.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Ic(l,i))}),t.has(_n.keyField().canonicalString())||e.ce.push(new Ic(_n.keyField(),i))}return e.ce}function Br(n){const e=Xe(n);return e.le||(e.le=Kx(e,sl(n))),e.le}function Kx(n,e){if(n.limitType==="F")return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Ic(o.field,l)});const t=n.endAt?new Tc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Tc(n.startAt.position,n.startAt.inclusive):null;return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function mf(n,e,t){return new qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return Jf(Br(n),Br(e))&&n.limitType===e.limitType}function r_(n){return`${Xf(Br(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>e_(o)).join(", ")}]`),Hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>sa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>sa(o)).join(",")),`Target(${i})`}(Br(n))}; limitType=${n.limitType})`}function Gc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of sl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=Vy(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,sl(i),o)||i.endAt&&!function(c,d,p){const y=Vy(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,sl(i),o))}(n,e)}function Gx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i_(n){return(e,t)=>{let i=!1;for(const o of sl(n)){const l=Qx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function Qx(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?ia(p,y):Fe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){kl(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Ax(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new bt(be.comparator);function vs(){return Yx}const s_=new bt(be.comparator);function el(...n){let e=s_;for(const t of n)e=e.insert(t.key,t);return e}function Xx(n){let e=s_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ws(){return ol()}function o_(){return ol()}function ol(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jx=new Ut(be.comparator);function nt(...n){let e=Jx;for(const t of n)e=e.add(t);return e}const Zx=new Ut(Ye);function ek(){return Zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function nk(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function rk(n,e,t){return n instanceof gf?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Qf(l)&&(l=Wc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Sc?a_(n,e):n instanceof Rc?l_(n,e):function(o,l){const c=sk(o,l),d=zy(c)+zy(o.Pe);return df(c)&&df(o.Pe)?nk(d):tk(o.serializer,d)}(n,e)}function ik(n,e,t){return n instanceof Sc?a_(n,e):n instanceof Rc?l_(n,e):t}function sk(n,e){return n instanceof yf?function(i){return df(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class gf extends Qc{}class Sc extends Qc{constructor(e){super(),this.elements=e}}function a_(n,e){const t=u_(e);for(const i of n.elements)t.some(o=>$r(o,i))||t.push(i);return{arrayValue:{values:t}}}class Rc extends Qc{constructor(e){super(),this.elements=e}}function l_(n,e){let t=u_(e);for(const i of n.elements)t=t.filter(o=>!$r(o,i));return{arrayValue:{values:t}}}class yf extends Qc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function zy(n){return At(n.integerValue||n.doubleValue)}function u_(n){return Yf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ok(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Sc&&o instanceof Sc||i instanceof Rc&&o instanceof Rc?ra(i.elements,o.elements,$r):i instanceof yf&&o instanceof yf?$r(i.Pe,o.Pe):i instanceof gf&&o instanceof gf}(n.transform,e.transform)}class Qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zf{}function c_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lk(n.key,Qs.none()):new ep(n.key,n.data,Qs.none());{const t=n.data,i=Mr.empty();let o=new Ut(_n.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Yc(n.key,i,new as(o.toArray()),Qs.none())}}function ak(n,e,t){n instanceof ep?function(o,l,c){const d=o.value.clone(),p=$y(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Yc?function(o,l,c){if(!sc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=$y(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(h_(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function al(n,e,t,i){return n instanceof ep?function(l,c,d,p){if(!sc(l.precondition,c))return d;const y=l.value.clone(),_=Hy(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yc?function(l,c,d,p){if(!sc(l.precondition,c))return d;const y=Hy(l.fieldTransforms,p,c),_=c.data;return _.setAll(h_(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,c,d){return sc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function By(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ra(i,o,(l,c)=>ok(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ep extends Zf{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yc extends Zf{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function h_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $y(n,e,t){const i=new Map;St(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,ik(c,d,t[o]))}return i}function Hy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,rk(l,c,e))}return i}class lk extends Zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ak(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=o_();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=c_(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,i)=>By(t,i))&&ra(this.baseMutations,e.baseMutations,(t,i)=>By(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Qe;function d_(n){if(n===void 0)return wi("GRPC error has no .code"),he.UNKNOWN;switch(n){case Lt.OK:return he.OK;case Lt.CANCELLED:return he.CANCELLED;case Lt.UNKNOWN:return he.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return he.INTERNAL;case Lt.UNAVAILABLE:return he.UNAVAILABLE;case Lt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Lt.NOT_FOUND:return he.NOT_FOUND;case Lt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Lt.ABORTED:return he.ABORTED;case Lt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Lt.DATA_LOSS:return he.DATA_LOSS;default:return Fe()}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Ks([4294967295,4294967295],0);function Wy(n){const e=dk().encode(n),t=new B0;return t.update(e),new Uint8Array(t.digest())}function qy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ks([t,i],0),new Ks([o,l],0)]}class tp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tl(`Invalid padding: ${t}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ks.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ks.fromNumber(i)));return o.compare(fk)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Wy(e),[i,o]=qy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new tp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Wy(e),[i,o]=qy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xc(Oe.min(),o,new bt(Ye),vs(),nt())}}class Pl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class f_{constructor(e,t){this.targetId=e,this.me=t}}class p_{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ky{constructor(){this.fe=0,this.ge=Gy(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nt(),t=nt(),i=nt();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Fe()}}),new Pl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Gy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pk{constructor(e){this.Le=e,this.Be=new Map,this.ke=vs(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new bt(Ye)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(pf(l))if(i===0){const c=new be(l.path);this.We(t,c,dn.newNoDocument(c,Oe.min()))}else St(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=gs(i).toUint8Array()}catch(p){if(p instanceof Q0)return na("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new tp(c,o,l)}catch(p){return na(p instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&pf(d.target)){const p=new be(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,dn.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=nt();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Xc(e,t,this.Ke,this.ke,i);return this.ke=vs(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new bt(Ye),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ky,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ut(Ye),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ut(Ye),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ky),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new bt(be.comparator)}function Gy(){return new bt(be.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yk={and:"AND",or:"OR"};class vk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vf(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function _k(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yo(n){return St(!!n),Oe.fromTimestamp(function(t){const i=ms(t);return new Dn(i.seconds,i.nanos)}(n))}function Ek(n,e){return _f(n,e).canonicalString()}function _f(n,e){const t=function(o){return new kt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function m_(n){const e=kt.fromString(n);return St(w_(e)),e}function Bd(n,e){const t=m_(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(y_(t))}function g_(n,e){return Ek(n.databaseId,e)}function Tk(n){const e=m_(n);return e.length===4?kt.emptyPath():y_(e)}function Qy(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y_(n){return St(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ik(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(St(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(St(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?he.UNKNOWN:d_(y.code);return new ke(_,y.message||"")}(c);t=new p_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Bd(n,i.document.name),l=Yo(i.document.updateTime),c=i.document.createTime?Yo(i.document.createTime):Oe.min(),d=new Mr({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new oc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Bd(n,i.document),l=i.readTime?Yo(i.readTime):Oe.min(),c=dn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new oc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Bd(n,i.document),l=i.removedTargetIds||[];t=new oc([],l,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new hk(o,l),d=i.targetId;t=new f_(d,c)}}return t}function Sk(n,e){return{documents:[g_(n,e.path)]}}function Rk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=g_(n,o);const l=function(y){if(y.length!==0)return __(Hr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Ho(S.field),direction:kk(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=vf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function Ck(n){let e=Tk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){St(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(I){const S=v_(I);return S instanceof Hr&&J0(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(S=>function(O){return new Ic(Wo(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(I){let S;return S=typeof I=="object"?I.value:I,Hc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(I){const S=!!I.before,P=I.values||[];return new Tc(P,S)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const S=!I.before,P=I.values||[];return new Tc(P,S)}(t.endAt)),Wx(e,o,c,l,d,"F",p,y)}function xk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Wo(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wo(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hr.create(t.compositeFilter.filters.map(i=>v_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function kk(n){return mk[n]}function Pk(n){return gk[n]}function Ak(n){return yk[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return _n.fromServerFormat(n.fieldPath)}function __(n){return n instanceof Ft?function(t){if(t.op==="=="){if(My(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(My(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Pk(t.op),value:t.value}}}(n):n instanceof Hr?function(t){const i=t.getFilters().map(o=>__(o));return i.length===1?i[0]:{compositeFilter:{op:Ak(t.op),filters:i}}}(n):Fe()}function w_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i,o,l=Oe.min(),c=Oe.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.ht=e}}function Nk(n){const e=Ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.ln=new Lk}addToCollectionParentIndex(e,t){return this.ln.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ps.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class Lk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ut(kt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oa(0)}static Qn(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy([n,e],[t,i]){const o=Ye(n,t);return o===0?Ye(e,i):o}class Ok{constructor(e){this.Gn=e,this.buffer=new Ut(Xy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Xy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Bc(t)}await this.Yn(3e5)})}}class Vk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve($c.oe);const i=new Ok(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Yy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,c=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),Bo()<=$e.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function Fk(n,e){return new Vk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&al(i.mutation,o,as.empty(),Dn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const o=Ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=el();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=vs();const c=ol(),d=function(){return ol()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Yc)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),al(_.mutation,y,_.mutation.getFieldMask(),Dn.now())):c.set(y.key,as.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var I;return d.set(y,new jk(_,(I=c.get(y))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ol();let o=new bt((c,d)=>c-d),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||as.empty();_=d.applyToLocalView(y,_),i.set(p,_);const I=(o.get(d.batchId)||nt()).add(p);o=o.insert(d.batchId,I)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,I=o_();_.forEach(S=>{if(!l.has(S)){const P=c_(t.get(S),i.get(S));P!==null&&I.set(S,P),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,I))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):te.resolve(Ws());let d=-1,p=l;return c.next(y=>te.forEach(y,(_,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),l.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,nt())).next(_=>({batchId:d,changes:Xx(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let o=el();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=el();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,p=>{const y=function(I,S){return new qc(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((I,S)=>{c=c.insert(I,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,dn.newInvalidDocument(_)))});let d=el();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&al(_.mutation,y,as.empty(),Dn.now()),Gc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return te.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Yo(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Nk(o.bundledQuery),readTime:Yo(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.overlays=new bt(be.comparator),this.Er=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ws();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const o=Ws(),l=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new bt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Ws(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Ws(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return te.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ck(t,i));let l=this.Er.get(t);l===void 0&&(l=nt(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.dr=new Ut(Ht.Ar),this.Rr=new Ut(Ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ht(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new be(new kt([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new be(new kt([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=nt();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return be.comparator(e.key,t.key)||Ye(e.br,t.br)}static Vr(e,t){return Ye(e.br,t.br)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ut(Ht.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uk(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Ye);return t.forEach(o=>{const l=new Ht(o,0),c=new Ht(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),te.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new be(l),0);let d=new Ut(Ye);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),te.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){St(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return te.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ht(t,0),o=this.vr.firstAfterOrEqual(i);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.Nr=e,this.docs=function(){return new bt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=vs();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=vs();const c=t.path,d=new be(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Sx(Ix(_),i)<=0||(o.has(_.key)||Gc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Fe()}Lr(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Kk(this)}getSize(e){return te.resolve(this.size)}}class Kk extends Uk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.persistence=e,this.Br=new io(t=>Xf(t),Jf),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new np,this.targetCount=0,this.Qr=oa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),te.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Un(t),te.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new $c(0),this.Ur=!1,this.Ur=!0,this.Wr=new Hk,this.referenceDelegate=e(this),this.Gr=new Gk(this),this.indexManager=new Dk,this.remoteDocumentCache=function(o){return new qk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new bk(t),this.jr=new Bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $k,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Wk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new Qk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return te.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Qk extends Cx{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Zr=new np,this.Xr=null}static ei(e){return new rp(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),te.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,i=>{const o=be.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return te.or([()=>te.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Cc{constructor(e,t){this.persistence=e,this.ri=new io(i=>kx(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Fk(this,t)}static ei(e,t){return new Cc(e,t)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return te.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ic(e.data.value)),t}ir(e,t,i){return te.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=nt(),o=nt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ip(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return cI()?8:xx(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Yk;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Bo()<=$e.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Bo()<=$e.DEBUG&&ge("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Bo()<=$e.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):te.resolve())}Xi(e,t){if(jy(t))return te.resolve(null);let i=Br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=mf(t,null,"F"),i=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=nt(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,mf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return jy(t)||o.isEqual(Oe.min())?te.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?te.resolve(null):(Bo()<=$e.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.os(e,c,t,Tx(o,-1)).next(d=>d))})}rs(e,t){let i=new Ut(i_(e));return t.forEach((o,l)=>{Gc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Bo()<=$e.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",$o(t)),this.Zi.getDocumentsMatchingQuery(e,t,ps.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new bt(Ye),this.cs=new io(l=>Xf(l),Jf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Zk(n,e,t,i){return new Jk(n,e,t,i)}async function T_(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=nt();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function I_(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function eP(n,e){const t=Xe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,I)=>{const S=o.get(I);if(!S)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,I)));let P=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?P=P.withResumeToken(tn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),o=o.insert(I,P),function(z,M,N){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(S,P,_)&&d.push(t.Gr.updateTargetData(l,P))});let p=vs(),y=nt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(tP(l,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Oe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return te.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function tP(n,e,t){let i=nt(),o=nt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=vs();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function nP(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,te.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new ls(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function wf(n,e,t){const i=Xe(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ha(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Jy(n,e,t){const i=Xe(n);let o=Oe.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const I=Xe(p),S=I.cs.get(_);return S!==void 0?te.resolve(I.us.get(S)):I.Gr.getTargetData(y,_)}(i,c,Br(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?l:nt())).next(d=>(rP(i,Gx(e),d),{documents:d,ds:l})))}function rP(n,e,t){let i=n.ls.get(e)||Oe.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Zy{constructor(){this.activeTargetIds=ek()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(){this._o=new Zy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Zy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function $d(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class lP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=$d(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,p,y,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw na("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=oP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=$d();return new Promise((c,d)=>{const p=new $0;p.setWithCredentials(!0),p.listenOnce(H0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rc.NO_ERROR:const _=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case rc.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),d(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const I=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S==null?void 0:S.error;if(P&&P.status&&P.message){const O=function(M){const N=M.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(N)>=0?N:he.UNKNOWN}(P.status);d(new ke(O,P.message))}else d(new ke(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ke(he.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ge(cn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=$d(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=K0(),d=q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const I=c.createWebChannel(_,p);let S=!1,P=!1;const O=new aP({Eo:M=>{P?ge(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(S||(ge(cn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),ge(cn,`RPC '${e}' stream ${o} sending:`,M),I.send(M))},Ao:()=>I.close()}),z=(M,N,Q)=>{M.listen(N,Y=>{try{Q(Y)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(I,Za.EventType.OPEN,()=>{P||(ge(cn,`RPC '${e}' stream ${o} transport opened.`),O.So())}),z(I,Za.EventType.CLOSE,()=>{P||(P=!0,ge(cn,`RPC '${e}' stream ${o} transport closed`),O.Do())}),z(I,Za.EventType.ERROR,M=>{P||(P=!0,na(cn,`RPC '${e}' stream ${o} transport errored:`,M),O.Do(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),z(I,Za.EventType.MESSAGE,M=>{var N;if(!P){const Q=M.data[0];St(!!Q);const Y=Q,ne=(Y==null?void 0:Y.error)||((N=Y[0])===null||N===void 0?void 0:N.error);if(ne){ge(cn,`RPC '${e}' stream ${o} received error:`,ne);const F=ne.status;let oe=function(R){const A=Lt[R];if(A!==void 0)return d_(A)}(F),C=ne.message;oe===void 0&&(oe=he.INTERNAL,C="Unknown error status: "+F+" with message "+ne.message),P=!0,O.Do(new ke(oe,C)),I.close()}else ge(cn,`RPC '${e}' stream ${o} received:`,Q),O.vo(Q)}}),z(d,W0.STAT_EVENT,M=>{M.stat===uf.PROXY?ge(cn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===uf.NOPROXY&&ge(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n){return new vk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new R_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ke(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cP extends uP{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Ik(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Yo(c.readTime):Oe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Qy(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=pf(p)?{documents:Sk(l,p)}:{query:Rk(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wk(l,c.resumeToken);const y=vf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=_k(l,c.snapshotVersion.toTimestamp());const y=vf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=xk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Qy(this.serializer),t.removeTarget=e,this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,_f(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(he.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,_f(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(he.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(wi(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{bl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Xe(p);y.k_.add(4),await Al(y),y.K_.set("Unknown"),y.k_.delete(4),await Jc(y)}(this))})}),this.K_=new dP(i,o)}}async function Jc(n){if(bl(n))for(const e of n.q_)await e(!0)}async function Al(n){for(const e of n.q_)await e(!1)}function C_(n,e){const t=Xe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),lp(t)?ap(t):da(t).s_()&&op(t,e))}function sp(n,e){const t=Xe(n),i=da(t);t.B_.delete(e),i.s_()&&x_(t,e),t.B_.size===0&&(i.s_()?i.a_():bl(t)&&t.K_.set("Unknown"))}function op(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}da(n).V_(e)}function x_(n,e){n.U_.xe(e),da(n).m_(e)}function ap(n){n.U_=new pk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),da(n).start(),n.K_.F_()}function lp(n){return bl(n)&&!da(n).i_()&&n.B_.size>0}function bl(n){return Xe(n).k_.size===0}function k_(n){n.U_=void 0}async function pP(n){n.K_.set("Online")}async function mP(n){n.B_.forEach((e,t)=>{op(n,e)})}async function gP(n,e){k_(n),lp(n)?(n.K_.O_(e),ap(n)):n.K_.set("Unknown")}async function yP(n,e,t){if(n.K_.set("Online"),e instanceof p_&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await tv(n,i)}else if(e instanceof oc?n.U_.$e(e):e instanceof f_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const i=await I_(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),x_(l,p);const I=new ls(_.target,p,y,_.sequenceNumber);op(l,I)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await tv(n,i)}}async function tv(n,e,t){if(!ha(e))throw e;n.k_.add(1),await Al(n),n.K_.set("Offline"),t||(t=()=>I_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Jc(n)})}async function nv(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=bl(t);t.k_.add(3),await Al(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Jc(t)}async function vP(n,e){const t=Xe(n);e?(t.k_.delete(2),await Jc(t)):e||(t.k_.add(2),await Al(t),t.K_.set("Unknown"))}function da(n){return n.W_||(n.W_=function(t,i,o){const l=Xe(t);return l.b_(),new cP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:pP.bind(null,n),mo:mP.bind(null,n),po:gP.bind(null,n),R_:yP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),lp(n)?ap(n):n.K_.set("Unknown")):(await n.W_.stop(),k_(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new up(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,e){if(wi("AsyncQueue",`${e}: ${n}`),ha(n))return new ke(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=el(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.z_=new bt(be.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class aa{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new aa(e,t,Xo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class wP{constructor(){this.queries=iv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Xe(t),l=o.queries;o.queries=iv(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ke(he.ABORTED,"Firestore shutting down"))}}function iv(){return new io(n=>r_(n),Kc)}async function EP(n,e){const t=Xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new _P,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=P_(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&cp(t)}async function TP(n,e){const t=Xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function IP(n,e){const t=Xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&cp(t)}function SP(n,e,t){const i=Xe(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function cp(n){n.X_.forEach(e=>{e.next()})}var Ef,sv;(sv=Ef||(Ef={})).na="default",sv.Cache="cache";class RP{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.key=e}}class b_{constructor(e){this.key=e}}class CP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=nt(),this.mutatedKeys=nt(),this.Va=i_(e),this.ma=new Xo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new rv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,I)=>{const S=o.get(_),P=Gc(this.query,I)?I:null,O=!!S&&this.mutatedKeys.has(S.key),z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;S&&P?S.data.isEqual(P.data)?O!==z&&(i.track({type:3,doc:P}),M=!0):this.ya(S,P)||(i.track({type:2,doc:P}),M=!0,(p&&this.Va(P,p)>0||y&&this.Va(P,y)<0)&&(d=!0)):!S&&P?(i.track({type:0,doc:P}),M=!0):S&&!P&&(i.track({type:1,doc:S}),M=!0,(p||y)&&(d=!0)),M&&(P?(c=c.add(P),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,I)=>function(P,O){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return z(P)-z(O)}(_.type,I.type)||this.Va(_.doc,I.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new aa(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new rv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=nt(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new b_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new A_(i))}),t}va(e){this.da=e.ds,this.Ra=nt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return aa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kP{constructor(e){this.key=e,this.Fa=!1}}class PP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new io(d=>r_(d),Kc),this.Oa=new Map,this.Na=new Set,this.La=new bt(be.comparator),this.Ba=new Map,this.ka=new np,this.qa={},this.Qa=new Map,this.Ka=oa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function AP(n,e,t=!0){const i=M_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await N_(i,e,t,!0),o}async function bP(n,e){const t=M_(n);await N_(t,e,!0,!1)}async function N_(n,e,t,i){const o=await nP(n.localStore,Br(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await NP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&C_(n.remoteStore,o),d}async function NP(n,e,t,i,o){n.Ua=(I,S,P)=>async function(z,M,N,Q){let Y=M.view.ga(N);Y.ss&&(Y=await Jy(z.localStore,M.query,!1).then(({documents:C})=>M.view.ga(C,Y)));const ne=Q&&Q.targetChanges.get(M.targetId),F=Q&&Q.targetMismatches.get(M.targetId)!=null,oe=M.view.applyChanges(Y,z.isPrimaryClient,ne,F);return av(z,M.targetId,oe.ba),oe.snapshot}(n,I,S,P);const l=await Jy(n.localStore,e,!0),c=new CP(e,l.ds),d=c.ga(l.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);av(n,t,y.ba);const _=new xP(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function DP(n,e,t){const i=Xe(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Kc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await wf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sp(i.remoteStore,o.targetId),Tf(i,o.targetId)}).catch(Bc)):(Tf(i,o.targetId),await wf(i.localStore,o.targetId,!0))}async function LP(n,e){const t=Xe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sp(t.remoteStore,i.targetId))}async function D_(n,e){const t=Xe(n);try{const i=await eP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?St(c.Fa):o.removedDocuments.size>0&&(St(c.Fa),c.Fa=!1))}),await O_(t,i,e)}catch(i){await Bc(i)}}function ov(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Xe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,I)=>{for(const S of I.J_)S.ea(d)&&(y=!0)}),y&&cp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OP(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new bt(be.comparator);c=c.insert(l,dn.newNoDocument(l,Oe.min()));const d=nt().add(l),p=new Xc(Oe.min(),new Map,new bt(Ye),c,d);await D_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),hp(i)}else await wf(i.localStore,e,!1).then(()=>Tf(i,e,t)).catch(Bc)}function Tf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||L_(n,i)})}function L_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(sp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),hp(n))}function av(n,e,t){for(const i of t)i instanceof A_?(n.ka.addReference(i.key,e),MP(n,i)):i instanceof b_?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||L_(n,i.key)):Fe()}function MP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),hp(n))}function hp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new be(kt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new kP(t)),n.La=n.La.insert(t,i),C_(n.remoteStore,new ls(Br(n_(t.path)),i,"TargetPurposeLimboResolution",$c.oe))}}async function O_(n,e,t){const i=Xe(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=ip.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Xe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>te.forEach(y,S=>te.forEach(S.Wi,P=>_.persistence.referenceDelegate.addReference(I,S.targetId,P)).next(()=>te.forEach(S.Gi,P=>_.persistence.referenceDelegate.removeReference(I,S.targetId,P)))))}catch(I){if(!ha(I))throw I;ge("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const S=I.targetId;if(!I.fromCache){const P=_.us.get(S),O=P.snapshotVersion,z=P.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(S,z)}}}(i.localStore,l))}async function VP(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await T_(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ke(he.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await O_(t,i.Ts)}}function FP(n,e){const t=Xe(n),i=t.Ba.get(e);if(i&&i.Fa)return nt().add(i.key);{let o=nt();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function M_(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.Ma.R_=IP.bind(null,e.eventManager),e.Ma.Wa=SP.bind(null,e.eventManager),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=S_(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Zk(this.persistence,new Xk,e.initialUser,this.serializer)}ja(e){return new E_(rp.ei,this.serializer)}za(e){return new iP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class UP extends xc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){St(this.persistence.referenceDelegate instanceof Cc);const i=this.persistence.referenceDelegate.garbageCollector;return new Mk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new E_(i=>Cc.ei(i,t),this.serializer)}}class If{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VP.bind(null,this.syncEngine),await vP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wP}()}createDatastore(e){const t=S_(e.databaseInfo.databaseId),i=function(l){return new lP(l)}(e.databaseInfo);return function(l,c,d,p){return new hP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new fP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ov(this.syncEngine,t,0),function(){return ev.p()?new ev:new sP}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const I=new PP(o,l,c,d,p,y);return _&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Xe(o);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Al(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=P_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Wd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await T_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function lv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await BP(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>nv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>nv(e.remoteStore,o)),n._onlineComponents=e}async function BP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await Wd(n,new xc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Wd(n,new UP(void 0));return n._offlineComponents}async function $P(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await lv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await lv(n,new If))),n._onlineComponents}async function HP(n){const e=await $P(n),t=e.eventManager;return t.onListen=AP.bind(null,e.syncEngine),t.onUnlisten=DP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LP.bind(null,e.syncEngine),t}function WP(n,e,t={}){const i=new Gs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new jP({next:S=>{_.eu(),c.enqueueAndForget(()=>TP(l,I)),S.fromCache&&p.source==="server"?y.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new RP(d,_,{includeMetadataChanges:!0,ua:!0});return EP(l,I)}(await HP(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;function qP(n,e,t,i){if(e===!0&&i===!0)throw new ke(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cv(n){if(be.isDocumentKey(n))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KP(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function Sf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=KP(n);throw new ke(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dx;switch(i.type){case"firstParty":return new gx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=uv.get(t);i&&(ge("ComponentProvider","Removing Datastore"),uv.delete(t),i.terminate())}(this),Promise.resolve()}}function GP(n,e,t,i={}){var o;const l=(n=Sf(n,dp))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=hn.MOCK_USER;else{d=rI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(y)}n._authCredentials=new fx(new G0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class fa{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fa(this.firestore,e,this._key)}}class Jo extends Zc{constructor(e,t,i){super(e,t,n_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fa(this.firestore,null,new be(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function QP(n,e,...t){if(n=Kr(n),n instanceof dp){const i=kt.fromString(e,...t);return cv(i),new Jo(n,null,i)}{if(!(n instanceof fa||n instanceof Jo))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kt.fromString(e,...t));return cv(i),new Jo(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new R_(this,"async_queue_retry"),this.fu=()=>{const i=Hd();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Hd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Hd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Gs;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ha(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw wi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=up.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class F_ extends dp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new dv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function YP(n,e){const t=typeof n=="object"?n:Xv(),i=typeof n=="string"?n:"(default)",o=Ff(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=tI("firestore");l&&GP(o,...l)}return o}function XP(n){if(n._terminated)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JP(n),n._firestoreClient}function JP(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new Nx(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,V_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new zP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(tn.fromBase64String(e))}catch(t){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kc(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}const tA=new RegExp("[~\\*/\\[\\]]");function nA(n,e,t){if(e.search(tA)>=0)throw fv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new U_(...e.split("."))._internalPath}catch{throw fv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function fv(n,e,t,i,o){let l=`Function ${e}() called with invalid data`;l+=". ";let c="";return new ke(he.INVALID_ARGUMENT,l+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rA extends j_{data(){return super.data()}}function z_(n,e){return typeof e=="string"?nA(n,e):e instanceof U_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sA{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return kl(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>At(c.doubleValue));return new eA(l)}convertGeoPoint(e){return new ZP(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=ms(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=kt.fromString(e);St(w_(i));const o=new pl(i.get(1),i.get(3)),l=new be(i.popFirst(5));return o.isEqual(t)||wi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oA extends j_{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(z_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ac extends oA{data(e={}){return super.data(e)}}class aA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Qu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ac(this._firestore,this._userDataWriter,i.key,i,new Qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new ac(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Qu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new ac(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Qu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:lA(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class uA extends sA{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fa(this.firestore,null,t)}}function cA(n){n=Sf(n,Zc);const e=Sf(n.firestore,F_),t=XP(e),i=new uA(e);return iA(n._query),WP(t,n._query).then(o=>new aA(e,i,n,o))}(function(e,t=!0){(function(o){ca=o})(la),ea(new Xs("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new F_(new px(i.getProvider("auth-internal")),new vx(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),hs(Py,"4.7.5",e),hs(Py,"4.7.5","esm2017")})();const hA={apiKey:"AIzaSyARtQZDilbg2k78VGhobqLOY_ZiWl8x5e4",authDomain:"neko-store-10bf5.firebaseapp.com",projectId:"neko-store-10bf5",storageBucket:"neko-store-10bf5.firebasestorage.app",messagingSenderId:"134584652648",appId:"1:134584652648:web:f83446204cc80314ec7cdd"},dA=Vc(hA),fA=YP(dA),pA=async n=>{let e=[];return(await cA(QP(fA,n))).forEach(i=>{e.push(i.data())}),e},mA={display:"block",margin:"0 auto",borderColor:"red"},gA=()=>{const[n,e]=U.useState(!0),[t,i]=U.useState([]),o={main:"flex items-center justify-center w-full h-[480px]"},l={color:"#1e40af",size:180,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8};if(U.useEffect(()=>{(async()=>{let d=[];(await pA("lastUpdated")).map(y=>{d.push({name:y.name?y.name:null,imgs:y.images})}),i(d),e(!1)})()},[]),n)return H.jsx("div",{className:o.main,children:H.jsx(zc,{color:l.color,loading:n,cssOverride:mA,size:l.size,"aria-label":l.ariaLabel,"data-testid":l.dataTest,speedMultiplier:l.speed})});if(n===!1)return H.jsx("div",{className:o.main,children:H.jsx(hx,{images:t})})},yA=()=>{const n={main:"flex flex-col size-full relative",content:"flex flex-col pt-[9vh] gap-10 min-h-screen w-full bg-st-100"};return H.jsx("div",{className:n.main,children:H.jsx("div",{className:n.content,children:H.jsx(gA,{})})})};function pv(n){return Er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(n)}const vA=({type:n,DefaultValue:e,set:t})=>{const[i,o]=U.useState(0),[l,c]=U.useState(""),[d,p]=U.useState(""),[y,_]=U.useState(""),I=P=>{const O=P.target.value;o(O.length),t(O.length)},S={main:"relative h-16 flex items-end",title:"absolute top-0 text-gray-400 font-bold text-sm",input:"z-10 bg-transparent border-b-2 text-xl text-white outline-none w-full placeholder:text-red-400 placeholder:font-bold truncate ",inputNumber:`${i<8||i>50?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputEmail:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`,inputName:`${i<6||i>20?"border-b-red-400 focus:border-red-400 border-b-4":"focus:border-gray-300 "}`};return U.useEffect(()=>{n==="name"&&(c("Nombre del usuario"),p("text"),_("Debe tener entre 6 y 50 caracteres.")),n==="phone"&&(c("Número de telefono"),p("number"),_("Debe tener entre 8 y 20 caracteres.")),n==="email"&&(c("Email"),p("email"),_("Debe tener entre 6 y 20 caracteres")),e!=null&&(o(e.length),e.length>6&&t(6))},[]),H.jsxs("div",{className:S.main,children:[H.jsx("h2",{className:S.title,children:l}),H.jsx("input",{className:n==="name"?`${S.input} ${S.inputName}`:n==="phone"?`${S.input} ${S.inputNumber}`:`${S.input} ${S.inputEmail}`,type:d,name:n,placeholder:y,defaultValue:e===null?"":e,onChange:P=>I(P)})]})},_A=["https://gif-avatars.com/img/150x150/solo-leveling.gif","https://media.tenor.com/lixfij0N8pUAAAAM/1235.gif","https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcW9xdmQyZm1hd2V4eDF0OHlsNzRmMGNiOTU0OW14bHZsZTd0MHowcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1lSSrYQUVY3WU/giphy.webp","https://c.tenor.com/33SEDySh9y4AAAAC/tenor.gif","https://media.tenor.com/Dad5rgWBv2cAAAAM/frieren-sousou.gif","https://media.tenor.com/OeH90hWmnL8AAAAM/frieren-frieren-beyond-journey's-end.gif"],wA=({setProfileImage:n,image:e})=>{const[t,i]=U.useState(e),o=c=>{n(c),i(c)},l={main:"w-full h-[240px] overflow-hidden",content:"relative flex size-full top-0 left-0 overflow-hidden",profile:"scroll p-4 flex size-full overflow-auto gap-10 duration-300",background:"absolute scroll flex size-full overflow-auto gap-10 duration-300",items:"w-[100%] flex flex-col items-center justify-center cursor-pointer",imageBox:"size-28 flex rounded-full overflow-hidden border-[3px] duration-300",image:"size-full object-cover rounded-full",imageSelected:" border-rd size-44 border-4"};return H.jsx("section",{className:l.main,children:H.jsx("div",{className:l.content,children:H.jsx("ul",{className:l.profile,children:_A.map((c,d)=>H.jsx("li",{className:l.items,onClick:()=>{o(c)},children:H.jsx("picture",{className:`${l.imageBox} ${t===c?l.imageSelected:""}`,children:H.jsx("img",{className:l.image,src:c,alt:`slide-${d}-image`})})},d))})})})};function EA(n){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}const mv=({isShow:n,setShow:e,profileImage:t,setProfileImage:i,backgroundImage:o,setBackgroundImage:l})=>{const[c,d]=U.useState(""),[p,y]=U.useState(""),_=()=>{l(p),i(c),F0(e,null,c)},I={main:`size-full relative ${n?"flex":"hidden"} items-center justify-center`,content:{main:"relative w-[80%] h-auto flex flex-col bg-st-200 rounded",content:"flex flex-col gap-3 items-center px-4 py-8",title:"text-white font-bold mt-10",headerOptions:"flex gap-4 relative",bottomMain:"flex flex-col w-full overflow-auto "},buttonBox:{main:"mt-4 w-full max-w-60",saveBtn:"rounded-lg bg-rd active:bg-nd hover:bg-nd size-full h-[55px] font-bold text-white"},closeBtn:"absolute text-2xl rounded-full p-1 bg-white hover:bg-rd hover:border-rd hover:text-white border top-2 right-2"};return U.useEffect(()=>{y(o),d(t)},[]),H.jsx("section",{className:I.main,children:H.jsxs("div",{className:I.content.main,children:[H.jsx("button",{className:I.closeBtn,onClick:()=>e(!1),children:H.jsx(EA,{})}),H.jsxs("div",{className:I.content.content,children:[H.jsx("h1",{className:I.content.title,children:"EDITAR IMAGEN DE PERFIL"}),H.jsx("hr",{className:"my-2 w-[40%] h-[1px] bg-white"}),H.jsxs("div",{className:I.content.bottomMain,children:[H.jsx(wA,{image:t,setProfileImage:d}),H.jsx("input",{type:"text",className:"hidden",name:"profile-image",defaultValue:t}),H.jsx("input",{type:"text",className:"hidden",name:"profile-background",defaultValue:o})]}),H.jsx("div",{className:I.buttonBox.main,children:H.jsx("button",{className:I.buttonBox.saveBtn,onClick:_,children:"GUARDAR CAMBIOS"})})]})]})})},TA={display:"block",margin:"0 auto",borderColor:"red"},IA=()=>{const n=wl(),[e,t]=U.useState(null),[i,o]=U.useState(!0),[l,c]=U.useState(!1),[d,p]=U.useState(""),[y,_]=U.useState(""),[I,S]=U.useState(0),[P,O]=U.useState(!0),[z,M]=U.useState(!1),N={main:"flex flex-col items-center justify-center w-full min-h-screen bg-st-100 z-50",content:"w-full mt-4 max-w-[400px] px-[36px] flex flex-col",title:"pb-6 sm:pb-6 text-white font-bold text-2xl text-center",contentBox:{main:"flex relative flex-col place-items-center w-full max-w-96 gap-2",topSide:"w-full flex items-center justify-center",imageBox:"relative size-[160px] rounded-full border-[3px] border-white",image:"size-full rounded-full object-cover",btnBox:"absolute -bottom-0 right-2 border-[4px] border-st-100 rounded-full p-2 bg-white text-2xl hover:text-rd hover:bg-gray-300",hr:"w-[15%] h-[1px] mt-10 mb-12 sm:mb-10 bg-gray-400",formMain:"flex flex-col gap-5 w-full ",dataBox:"flex flex-col w-full",titles:"text-gray-500 text-sm font-bold",data:"text-white text-lg sm:text-base",button:" w-full mt-6 sm:mt-8 h-[55px] sm:h-[45px] rounded-lg text-white font-bold text-lg bg-rd hover:bg-nd"},bottomSide:{main:"w-full flex gap-5 mt-4 font-bold",buttonSave:"w-full h-[55px] sm:h-[50px] text bg-rd hover:bg-nd text-white rounded-lg disabled:bg-gray-500",buttonCancel:"w-full h-[55px] sm:h-[50px] text bg-red-600  hover:bg-red-800  text-white  rounded-lg disabled:text-gray-400"},imageProfileEdit:`fixed top-0 left-0 bg-st-100/75 z-10 ${l?"w-full h-full":"w-0 h-0"} duration-300`},Q={color:"#1e40af",size:120,ariaLabel:"Loading Spinner",dataTest:"loader",speed:.8},Y=ne=>{ne.preventDefault();const oe=ne.currentTarget.elements.name.value;F0(M,oe)};if(U.useEffect(()=>{KC(t,o,p)},[]),U.useEffect(()=>{I>=6?O(!0):O(!1)},[I]),i)return H.jsx("section",{className:N.main,children:H.jsx("div",{className:N.content+" items-center justify-center",children:H.jsx("div",{children:H.jsx(zc,{color:Q.color,loading:i,cssOverride:TA,size:Q.size,"aria-label":Q.ariaLabel,"data-testid":Q.dataTest,speedMultiplier:Q.speed})})})});if(e===null&&n("/"),e&&z===!0)return H.jsx("section",{className:N.main,children:H.jsxs("div",{className:N.content,children:[H.jsx("h1",{className:N.title,children:"EDITAR PERFIL"}),H.jsxs("div",{className:N.contentBox.main,children:[H.jsxs("div",{className:N.contentBox.imageBox,children:[H.jsx("img",{className:N.contentBox.image,src:d,alt:"user-profile-image"}),H.jsx("button",{className:N.contentBox.btnBox,onClick:()=>c(!0),children:H.jsx(pv,{})})]}),H.jsx("hr",{className:N.contentBox.hr}),H.jsxs(Oc,{className:N.contentBox.formMain,onSubmit:Y,children:[H.jsx(vA,{type:"name",DefaultValue:e.displayName,set:S}),H.jsxs("div",{className:N.bottomSide.main,children:[H.jsx("button",{className:N.bottomSide.buttonSave,type:"submit",disabled:!P,children:"GUARDAR"}),H.jsx("button",{className:N.bottomSide.buttonCancel,onClick:()=>M(!1),children:"CANCELAR"})]})]})]}),H.jsx("div",{className:N.imageProfileEdit,children:H.jsx(mv,{setBackgroundImage:_,backgroundImage:y,profileImage:d,setProfileImage:p,isShow:l,setShow:c})})]})});if(e&&z===!1)return H.jsx("section",{className:N.main,children:H.jsxs("div",{className:N.content,children:[H.jsx("h1",{className:N.title,children:"EDITAR PERFIL"}),H.jsxs("div",{className:N.contentBox.main,children:[H.jsx("div",{className:N.contentBox.topSide,children:H.jsxs("picture",{className:N.contentBox.imageBox,children:[H.jsx("img",{className:N.contentBox.image,src:d,alt:"user-profile-image"}),H.jsx("button",{className:N.contentBox.btnBox,onClick:()=>c(!0),children:H.jsx(pv,{})})]})}),H.jsx("hr",{className:N.contentBox.hr}),H.jsxs("div",{className:N.contentBox.main,children:[H.jsxs("span",{className:N.contentBox.dataBox,children:[H.jsx("h2",{className:N.contentBox.titles,children:"Nombre de usuario"}),H.jsx("h4",{className:N.contentBox.data,children:e.displayName===null?"Sin nombre de usuario":e.displayName})]}),H.jsxs("span",{className:N.contentBox.dataBox,children:[H.jsx("h2",{className:N.contentBox.titles,children:"Email"}),H.jsx("h4",{className:N.contentBox.data,children:e.email===null?"Sin Email":e.email})]}),H.jsx("button",{className:N.contentBox.button,onClick:()=>M(!0),children:"EDITAR"})]})]}),H.jsx("div",{className:N.imageProfileEdit,children:H.jsx(mv,{setBackgroundImage:_,backgroundImage:y,profileImage:d,setProfileImage:p,isShow:l,setShow:c})})]})})},SA=IT([{path:"/",element:H.jsx(YC,{}),children:[{index:!0,element:H.jsx(yA,{})},{path:"/login",element:H.jsx(ax,{})},{path:"/register",element:H.jsx(cx,{})},{path:"/edit-profile",element:H.jsx(IA,{})}]}]);Jw.createRoot(document.getElementById("root")).render(H.jsx(U.StrictMode,{children:H.jsx(OT,{router:SA})}));
